function g(a){throw a;}var i=void 0,k=!0,m=null,n=!1;function aa(){return function(){}}function q(a){return function(){return this[a]}}function ba(a){return function(){return a}}var r,s=this;function ca(a,b){var c=a.split("."),d=s;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&b!==i?d[f]=b:d=d[f]?d[f]:d[f]={}}function da(){}function ea(a){a.kb=function(){return a.Yc?a.Yc:a.Yc=new a}}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return"array"==fa(a)}function ga(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function y(a){return"function"==fa(a)}function ha(a){var b=typeof a;return"object"==b&&a!=m||"function"==b}function ia(a){return a[ja]||(a[ja]=++ka)}var ja="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ka=0;
function la(a,b,c){return a.call.apply(a.bind,arguments)}function ma(a,b,c){a||g(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function na(a,b,c){na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return na.apply(m,arguments)}
function oa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}function z(a,b){function c(){}c.prototype=b.prototype;a.H=b.prototype;a.prototype=new c;a.prototype.constructor=a};function pa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function qa(a){if(!ra.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(sa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ta,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ua,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(va,"&quot;"));return a}var sa=/&/g,ta=/</g,ua=/>/g,va=/\"/g,ra=/[&<>\"]/;function wa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var B=Array.prototype,xa=B.indexOf?function(a,b,c){return B.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:0>c?Math.max(0,a.length+c):c;if(u(a))return!u(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},C=B.forEach?function(a,b,c){B.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},ya=B.filter?function(a,b,c){return B.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],e=0,h=u(a)?a.split(""):
a,l=0;l<d;l++)if(l in h){var j=h[l];b.call(c,j,l,a)&&(f[e++]=j)}return f},za=B.map?function(a,b,c){return B.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),e=u(a)?a.split(""):a,h=0;h<d;h++)h in e&&(f[h]=b.call(c,e[h],h,a));return f},Aa=B.every?function(a,b,c){return B.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,e=0;e<d;e++)if(e in f&&!b.call(c,f[e],e,a))return n;return k};
function Ba(a,b){var c;a:{c=a.length;for(var d=u(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(i,d[f],f,a)){c=f;break a}c=-1}return 0>c?m:u(a)?a.charAt(c):a[c]}function Ca(a,b){return 0<=xa(a,b)}function E(a,b){var c=xa(a,b);0<=c&&B.splice.call(a,c,1)}function Da(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ea(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(t(d)||(f=ga(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var e=a.length,h=d.length,l=0;l<h;l++)a[e+l]=d[l];else a.push(d)}}function Fa(a,b,c){return 2>=arguments.length?B.slice.call(a,b):B.slice.call(a,b,c)}function Ga(a,b){return a>b?1:a<b?-1:0};var Ha,Ia,Ja,Ka,La;function Ma(){return s.navigator?s.navigator.userAgent:m}function Na(){return s.navigator}Ka=Ja=Ia=Ha=n;var Oa;if(Oa=Ma()){var Pa=Na();Ha=0==Oa.indexOf("Opera");Ia=!Ha&&-1!=Oa.indexOf("MSIE");Ja=!Ha&&-1!=Oa.indexOf("WebKit");Ka=!Ha&&!Ja&&"Gecko"==Pa.product}var F=Ha,G=Ia,H=Ka,I=Ja,Qa=Na();La=-1!=(Qa&&Qa.platform||"").indexOf("Mac");var Ra=!!Na()&&-1!=(Na().appVersion||"").indexOf("X11"),Sa;
a:{var Ta="",Ua;if(F&&s.opera)var Va=s.opera.version,Ta="function"==typeof Va?Va():Va;else if(H?Ua=/rv\:([^\);]+)(\)|;)/:G?Ua=/MSIE\s+([^\);]+)(\)|;)/:I&&(Ua=/WebKit\/(\S+)/),Ua)var Wa=Ua.exec(Ma()),Ta=Wa?Wa[1]:"";if(G){var Xa,Ya=s.document;Xa=Ya?Ya.documentMode:i;if(Xa>parseFloat(Ta)){Sa=String(Xa);break a}}Sa=Ta}var Za={};
function K(a){var b;if(!(b=Za[a])){b=0;for(var c=pa(String(Sa)).split("."),d=pa(String(a)).split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var h=c[e]||"",l=d[e]||"",j=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var v=j.exec(h)||["","",""],x=p.exec(l)||["","",""];if(0==v[0].length&&0==x[0].length)break;b=((0==v[1].length?0:parseInt(v[1],10))<(0==x[1].length?0:parseInt(x[1],10))?-1:(0==v[1].length?0:parseInt(v[1],10))>(0==x[1].length?0:parseInt(x[1],10))?1:0)||((0==v[2].length)<
(0==x[2].length)?-1:(0==v[2].length)>(0==x[2].length)?1:0)||(v[2]<x[2]?-1:v[2]>x[2]?1:0)}while(0==b)}b=Za[a]=0<=b}return b}var $a={};function ab(a){return $a[a]||($a[a]=G&&!!document.documentMode&&document.documentMode>=a)};var bb,cb=!G||ab(9);!H&&!G||G&&ab(9)||H&&K("1.9.1");G&&K("9");var db=G||F||I;function eb(a){a=a.className;return u(a)&&a.match(/\S+/g)||[]}function fb(a,b){var c=eb(a),d=Fa(arguments,1),f=c.length+d.length;gb(c,d);a.className=c.join(" ");return c.length==f}function hb(a,b){var c=eb(a),d=Fa(arguments,1),f=ib(c,d);a.className=f.join(" ");return f.length==c.length-d.length}function gb(a,b){for(var c=0;c<b.length;c++)Ca(a,b[c])||a.push(b[c])}function ib(a,b){return ya(a,function(a){return!Ca(b,a)})}
function jb(a,b,c){var d=eb(a);u(b)?E(d,b):t(b)&&(d=ib(d,b));u(c)&&!Ca(d,c)?d.push(c):t(c)&&gb(d,c);a.className=d.join(" ")};function L(a,b){this.x=a!==i?a:0;this.y=b!==i?b:0};function kb(a,b){this.width=a;this.height=b}kb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};kb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function lb(a,b){for(var c in a)b.call(i,a[c],c,a)}var mb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<mb.length;e++)c=mb[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function ob(a){return a?new pb(qb(a)):bb||(bb=new pb)}var rb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function sb(a){var b=!I?a.documentElement:a.body,a=a.parentWindow||a.defaultView;return new L(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}
function tb(a,b,c){var d=arguments,f=document,e=d[0],h=d[1];if(!cb&&h&&(h.name||h.type)){e=["<",e];h.name&&e.push(' name="',qa(h.name),'"');if(h.type){e.push(' type="',qa(h.type),'"');var l={};nb(l,h);delete l.type;h=l}e.push(">");e=e.join("")}e=f.createElement(e);if(h)if(u(h))e.className=h;else if(t(h))fb.apply(m,[e].concat(h));else{var j=e;lb(h,function(a,b){"style"==b?j.style.cssText=a:"class"==b?j.className=a:"for"==b?j.htmlFor=a:b in rb?j.setAttribute(rb[b],a):0==b.lastIndexOf("aria-",0)||0==
b.lastIndexOf("data-",0)?j.setAttribute(b,a):j[b]=a})}2<d.length&&ub(f,e,d,2);return e}function ub(a,b,c,d){function f(c){c&&b.appendChild(u(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var e=c[d];if(ga(e)&&!(ha(e)&&0<e.nodeType)){var h;a:{if(e&&"number"==typeof e.length){if(ha(e)){h="function"==typeof e.item||"string"==typeof e.item;break a}if(y(e)){h="function"==typeof e.item;break a}}h=n}C(h?Da(e):e,f)}else f(e)}}function vb(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function wb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function xb(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function yb(a){return ha(a)&&1==a.nodeType}function zb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function qb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Ab(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,"number"==typeof a&&0<=a&&32768>a):n}function pb(a){this.ca=a||s.document||document}r=pb.prototype;r.Nc=ob;r.c=function(a){return u(a)?this.ca.getElementById(a):a};r.createElement=function(a){return this.ca.createElement(a)};r.createTextNode=function(a){return this.ca.createTextNode(a)};r.appendChild=function(a,b){a.appendChild(b)};r.append=function(a,b){ub(qb(a),a,arguments,1)};r.contains=zb;var Bb;Bb=ba(k);/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

The "New" BSD License:

Copyright (c) 2005-2009, The Dojo Foundation
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
    may be used to endorse or promote products derived from this software
    without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
function Cb(a,b){var c=b||[];a&&c.push(a);return c}var Db=I&&"BackCompat"==document.compatMode,Eb=document.firstChild.children?"children":"childNodes",Fb=n;
function Gb(a){function b(){0<=p&&(w.id=c(p,A).replace(/\\/g,""),p=-1);if(0<=v){var a=v==A?m:c(v,A);0>">~+".indexOf(a)?w.F=a:w.Eb=a;v=-1}0<=j&&(w.T.push(c(j+1,A).replace(/\\/g,"")),j=-1)}function c(b,c){return pa(a.slice(b,c))}for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",d=[],f=-1,e=-1,h=-1,l=-1,j=-1,p=-1,v=-1,x="",D="",Q,A=0,ve=a.length,w=m,J=m;x=D,D=a.charAt(A),A<ve;A++)if("\\"!=x)if(w||(Q=A,w={Ha:m,pa:[],rb:[],T:[],F:m,Eb:m,id:m,fc:function(){return Fb?this.Cd:this.F}},v=A),0<=f)if("]"==
D){J.bc?J.lc=c(h||f+1,A):J.bc=c(f+1,A);if((f=J.lc)&&('"'==f.charAt(0)||"'"==f.charAt(0)))J.lc=f.slice(1,-1);w.rb.push(J);J=m;f=h=-1}else"="==D&&(h=0<="|~^$*".indexOf(x)?x:"",J.type=h+D,J.bc=c(f+1,A-h.length),h=A+1);else 0<=e?")"==D&&(0<=l&&(J.value=c(e+1,A)),l=e=-1):"#"==D?(b(),p=A+1):"."==D?(b(),j=A):":"==D?(b(),l=A):"["==D?(b(),f=A,J={}):"("==D?(0<=l&&(J={name:c(l+1,A),value:m},w.pa.push(J)),e=A):" "==D&&x!=D&&(b(),0<=l&&w.pa.push({name:c(l+1,A)}),w.ad=w.pa.length||w.rb.length||w.T.length,w.Od=
w.Ha=c(Q,A),w.Cd=w.F=w.Eb?m:w.F||"*",w.F&&(w.F=w.F.toUpperCase()),d.length&&d[d.length-1].Eb&&(w.Wc=d.pop(),w.Ha=w.Wc.Ha+" "+w.Ha),d.push(w),w=m);return d}function Hb(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}}function Ib(a){return 1==a.nodeType}function Jb(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(Fb?a.getAttribute(b):a.getAttribute(b,2))||""}
var Kb={"*=":function(a,b){return function(c){return 0<=Jb(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==Jb(c,a).indexOf(b)}},"$=":function(a,b){return function(c){c=" "+Jb(c,a);return c.lastIndexOf(b)==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+Jb(b,a)+" ").indexOf(c)}},"|=":function(a,b){b=" "+b;return function(c){c=" "+Jb(c,a);return c==b||0==c.indexOf(b+"-")}},"=":function(a,b){return function(c){return Jb(c,a)==b}}},Lb="undefined"==
typeof document.firstChild.nextElementSibling,Mb=!Lb?"nextElementSibling":"nextSibling",Nb=!Lb?"previousElementSibling":"previousSibling",Ob=Lb?Ib:Bb;function Pb(a){for(;a=a[Nb];)if(Ob(a))return n;return k}function Qb(a){for(;a=a[Mb];)if(Ob(a))return n;return k}function Rb(a){var b=a.parentNode,c=0,d=b[Eb],f=a._i||-1,e=b._l||-1;if(!d)return-1;d=d.length;if(e==d&&0<=f&&0<=e)return f;b._l=d;f=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[Mb])Ob(b)&&(b._i=++c,a===b&&(f=c));return f}
function Sb(a){return!(Rb(a)%2)}function Tb(a){return Rb(a)%2}
var Vb={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return Pb},"last-child":function(){return Qb},"only-child":function(){return function(a){return!Pb(a)||!Qb(a)?n:k}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return n}return k}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},
not:function(a,b){var c=Gb(b)[0],d={B:1};"*"!=c.F&&(d.F=1);c.T.length||(d.T=1);var f=Ub(c,d);return function(a){return!f(a)}},"nth-child":function(a,b){if("odd"==b)return Tb;if("even"==b)return Sb;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:parseInt(c[0],10):1,f=c[1]?parseInt(c[1],10):0,e=0,h=-1;0<d?0>f?f=f%d&&d+f%d:0<f&&(f>=d&&(e=f-f%d),f%=d):0>d&&(d*=-1,0<f&&(h=f,f%=d));if(0<d)return function(a){a=Rb(a);return a>=e&&(0>h||a<=h)&&a%d==f};b=f}var l=parseInt(b,10);return function(a){return Rb(a)==
l}}},Wb=G?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return Fb?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}};
function Ub(a,b){if(!a)return Bb;var b=b||{},c=m;b.B||(c=Hb(c,Ib));b.F||"*"!=a.F&&(c=Hb(c,function(b){return b&&b.tagName==a.fc()}));b.T||C(a.T,function(a,b){var e=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=Hb(c,function(a){return e.test(a.className)});c.count=b});b.pa||C(a.pa,function(a){var b=a.name;Vb[b]&&(c=Hb(c,Vb[b](b,a.value)))});b.rb||C(a.rb,function(a){var b,e=a.bc;a.type&&Kb[a.type]?b=Kb[a.type](e,a.lc):e.length&&(b=Wb(e));b&&(c=Hb(c,b))});b.id||a.id&&(c=Hb(c,function(b){return!!b&&b.id==a.id}));
c||"default"in b||(c=Bb);return c}var Xb={};
function Yb(a){var b=Xb[a.Ha];if(b)return b;var c=a.Wc,c=c?c.Eb:"",d=Ub(a,{B:1}),f="*"==a.F,e=document.getElementsByClassName;if(c)if(e={B:1},f&&(e.F=1),d=Ub(a,e),"+"==c)var h=d,b=function(a,b,c){for(;a=a[Mb];)if(!Lb||Ib(a)){(!c||Zb(a,c))&&h(a)&&b.push(a);break}return b};else if("~"==c)var l=d,b=function(a,b,c){for(a=a[Mb];a;){if(Ob(a)){if(c&&!Zb(a,c))break;l(a)&&b.push(a)}a=a[Mb]}return b};else{if(">"==c)var j=d,j=j||Bb,b=function(a,b,c){for(var d=0,f=a[Eb];a=f[d++];)Ob(a)&&((!c||Zb(a,c))&&j(a,d))&&
b.push(a);return b}}else if(a.id)d=!a.ad&&f?Bb:Ub(a,{B:1,id:1}),b=function(b,c){var f=ob(b).c(a.id),e;if(e=f&&d(f))if(!(e=9==b.nodeType)){for(e=f.parentNode;e&&e!=b;)e=e.parentNode;e=!!e}if(e)return Cb(f,c)};else if(e&&/\{\s*\[native code\]\s*\}/.test(String(e))&&a.T.length&&!Db)var d=Ub(a,{B:1,T:1,id:1}),p=a.T.join(" "),b=function(a,b){for(var c=Cb(0,b),f,e=0,h=a.getElementsByClassName(p);f=h[e++];)d(f,a)&&c.push(f);return c};else!f&&!a.ad?b=function(b,c){for(var d=Cb(0,c),f,e=0,h=b.getElementsByTagName(a.fc());f=
h[e++];)d.push(f);return d}:(d=Ub(a,{B:1,F:1,id:1}),b=function(b,c){for(var f=Cb(0,c),e,h=0,l=b.getElementsByTagName(a.fc());e=l[h++];)d(e,b)&&f.push(e);return f});return Xb[a.Ha]=b}var $b={},ac={};function bc(a){var b=Gb(pa(a));if(1==b.length){var c=Yb(b[0]);return function(a){if(a=c(a,[]))a.Db=k;return a}}return function(a){for(var a=Cb(a),c,e,h=b.length,l,j,p=0;p<h;p++){j=[];c=b[p];e=a.length-1;0<e&&(l={},j.Db=k);e=Yb(c);for(var v=0;c=a[v];v++)e(c,j,l);if(!j.length)break;a=j}return j}}
var cc=!!document.querySelectorAll&&(!I||K("526"));
function dc(a,b){if(cc){var c=ac[a];if(c&&!b)return c}if(c=$b[a])return c;var c=a.charAt(0),d=-1==a.indexOf(" ");0<=a.indexOf("#")&&d&&(b=k);if(cc&&!b&&-1==">~+".indexOf(c)&&(!G||-1==a.indexOf(":"))&&!(Db&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf("|=")){var f=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return ac[a]=function(b){try{9==b.nodeType||d||g("");var c=b.querySelectorAll(f);G?c.pd=k:c.Db=k;return c}catch(e){return dc(a,k)(b)}}}var e=a.split(/\s*,\s*/);return $b[a]=
2>e.length?bc(a):function(a){for(var b=0,c=[],d;d=e[b++];)c=c.concat(bc(d)(a));return c}}var ec=0,fc=G?function(a){return Fb?a.getAttribute("_uid")||a.setAttribute("_uid",++ec)||ec:a.uniqueID}:function(a){return a._uid||(a._uid=++ec)};function Zb(a,b){if(!b)return 1;var c=fc(a);return!b[c]?b[c]=1:0}
function gc(a){if(a&&a.Db)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;ec++;if(G&&Fb){var c=ec+"";a[0].setAttribute("_zipIdx",c);for(var d=1,f;f=a[d];d++)a[d].getAttribute("_zipIdx")!=c&&b.push(f),f.setAttribute("_zipIdx",c)}else if(G&&a.pd)try{for(d=1;f=a[d];d++)Ib(f)&&b.push(f)}catch(e){}else{a[0]&&(a[0]._zipIdx=ec);for(d=1;f=a[d];d++)a[d]._zipIdx!=ec&&b.push(f),f._zipIdx=ec}return b}
function M(a,b){if(!a)return[];if(a.constructor==Array)return a;if(!u(a))return[a];if(u(b)&&(b=u(b)?document.getElementById(b):b,!b))return[];var b=b||document,c=b.ownerDocument||b.documentElement;Fb=b.contentType&&"application/xml"==b.contentType||F&&(b.doctype||"[object XMLDocument]"==c.toString())||!!c&&(G?c.xml:b.xmlVersion||c.xmlVersion);return(c=dc(a)(b))&&c.Db?c:gc(c)}M.pa=Vb;ca("goog.dom.query",M);ca("goog.dom.query.pseudos",M.pa);function hc(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}};var ic=!G||ab(9),jc=!G||ab(9),kc=G&&!K("9");!I||K("528");H&&K("1.9b")||G&&K("8")||F&&K("9.5")||I&&K("528");H&&!K("8")||G&&K("9");function lc(){0!=mc&&(this.Kd=Error().stack,ia(this))}var mc=0;lc.prototype.qd=n;function nc(a,b){this.type=a;this.currentTarget=this.target=b}r=nc.prototype;r.oa=n;r.defaultPrevented=n;r.Fb=k;r.stopPropagation=function(){this.oa=k};r.preventDefault=function(){this.defaultPrevented=k;this.Fb=n};function oc(a){oc[" "](a);return a}oc[" "]=da;function pc(a,b){a&&this.init(a,b)}z(pc,nc);var qc=[1,4,2];r=pc.prototype;r.target=m;r.relatedTarget=m;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=n;r.altKey=n;r.shiftKey=n;r.metaKey=n;r.oc=n;r.r=m;
r.init=function(a,b){var c=this.type=a.type;nc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(H){var f;a:{try{oc(d.nodeName);f=k;break a}catch(e){}f=n}f||(d=m)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=I||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=I||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.oc=La?a.metaKey:a.ctrlKey;this.state=a.state;this.r=a;a.defaultPrevented&&this.preventDefault();delete this.oa};function rc(a){return ic?0==a.r.button:"click"==a.type?k:!!(a.r.button&qc[0])}
r.stopPropagation=function(){pc.H.stopPropagation.call(this);this.r.stopPropagation?this.r.stopPropagation():this.r.cancelBubble=k};r.preventDefault=function(){pc.H.preventDefault.call(this);var a=this.r;if(a.preventDefault)a.preventDefault();else if(a.returnValue=n,kc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};r.rd=q("r");function sc(){}var tc=0;r=sc.prototype;r.key=0;r.qa=n;r.Gc=n;r.init=function(a,b,c,d,f,e){y(a)?this.$c=k:a&&a.handleEvent&&y(a.handleEvent)?this.$c=n:g(Error("Invalid listener argument"));this.Ga=a;this.fd=b;this.src=c;this.type=d;this.capture=!!f;this.Ca=e;this.Gc=n;this.key=++tc;this.qa=n};r.handleEvent=function(a){return this.$c?this.Ga.call(this.Ca||this.src,a):this.Ga.handleEvent.call(this.Ga,a)};var uc={},N={},vc={},wc={};
function O(a,b,c,d,f){if(b){if(t(b)){for(var e=0;e<b.length;e++)O(a,b[e],c,d,f);return m}var d=!!d,h=N;b in h||(h[b]={l:0,K:0});h=h[b];d in h||(h[d]={l:0,K:0},h.l++);var h=h[d],l=ia(a),j;h.K++;if(h[l]){j=h[l];for(e=0;e<j.length;e++)if(h=j[e],h.Ga==c&&h.Ca==f){if(h.qa)break;return j[e].key}}else j=h[l]=[],h.l++;var p=xc,v=jc?function(a){return p.call(v.src,v.key,a)}:function(a){a=p.call(v.src,v.key,a);if(!a)return a},e=v;e.src=a;h=new sc;h.init(c,e,a,b,d,f);c=h.key;e.key=c;j.push(h);uc[c]=h;vc[l]||
(vc[l]=[]);vc[l].push(h);a.addEventListener?(a==s||!a.Ic)&&a.addEventListener(b,e,d):a.attachEvent(b in wc?wc[b]:wc[b]="on"+b,e);return c}g(Error("Invalid event type"))}function yc(a,b,c,d,f){if(t(b))for(var e=0;e<b.length;e++)yc(a,b[e],c,d,f);else if(d=!!d,a=zc(a,b,d))for(e=0;e<a.length;e++)if(a[e].Ga==c&&a[e].capture==d&&a[e].Ca==f){P(a[e].key);break}}
function P(a){if(!uc[a])return n;var b=uc[a];if(b.qa)return n;var c=b.src,d=b.type,f=b.fd,e=b.capture;c.removeEventListener?(c==s||!c.Ic)&&c.removeEventListener(d,f,e):c.detachEvent&&c.detachEvent(d in wc?wc[d]:wc[d]="on"+d,f);c=ia(c);vc[c]&&(f=vc[c],E(f,b),0==f.length&&delete vc[c]);b.qa=k;if(b=N[d][e][c])b.cd=k,Ac(d,e,c,b);delete uc[a];return k}
function Ac(a,b,c,d){if(!d.zb&&d.cd){for(var f=0,e=0;f<d.length;f++)d[f].qa?d[f].fd.src=m:(f!=e&&(d[e]=d[f]),e++);d.length=e;d.cd=n;0==e&&(delete N[a][b][c],N[a][b].l--,0==N[a][b].l&&(delete N[a][b],N[a].l--),0==N[a].l&&delete N[a])}}function zc(a,b,c){var d=N;return b in d&&(d=d[b],c in d&&(d=d[c],a=ia(a),d[a]))?d[a]:m}
function Bc(a,b,c,d,f){var e=1,b=ia(b);if(a[b]){a.K--;a=a[b];a.zb?a.zb++:a.zb=1;try{for(var h=a.length,l=0;l<h;l++){var j=a[l];j&&!j.qa&&(e&=Cc(j,f)!==n)}}finally{a.zb--,Ac(c,d,b,a)}}return Boolean(e)}function Cc(a,b){a.Gc&&P(a.key);return a.handleEvent(b)}
function xc(a,b){if(!uc[a])return k;var c=uc[a],d=c.type,f=N;if(!(d in f))return k;var f=f[d],e,h;if(!jc){var l;if(!(l=b))a:{l=["window","event"];for(var j=s;e=l.shift();)if(j[e]!=m)j=j[e];else{l=m;break a}l=j}e=l;l=k in f;j=n in f;if(l){if(0>e.keyCode||e.returnValue!=i)return k;a:{var p=n;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(v){p=k}if(p||e.returnValue==i)e.returnValue=k}}p=new pc;p.init(e,this);e=k;try{if(l){for(var x=[],D=p.currentTarget;D;D=D.parentNode)x.push(D);h=f[k];h.K=h.l;for(var Q=
x.length-1;!p.oa&&0<=Q&&h.K;Q--)p.currentTarget=x[Q],e&=Bc(h,x[Q],d,k,p);if(j){h=f[n];h.K=h.l;for(Q=0;!p.oa&&Q<x.length&&h.K;Q++)p.currentTarget=x[Q],e&=Bc(h,x[Q],d,n,p)}}else e=Cc(c,p)}finally{x&&(x.length=0)}return e}d=new pc(b,this);return e=Cc(c,d)};function Dc(){this.Pa=[]}function Ec(a,b){var c=n;return c=!a.offsetX||!a.offsetY&&a.r.changedTouches?{x:a.r.changedTouches[0].clientX-hc(b).left,y:a.r.changedTouches[0].clientY-hc(b).top}:{x:a.offsetX,y:a.offsetY}}Dc.prototype.k=function(a,b){this.Pa[a]||(this.Pa[a]=[]);this.Pa[a].push(b)};Dc.prototype.Ia=function(a,b){var c=this.Pa[a];c&&E(c,b)};Dc.prototype.fireEvent=function(a,b){var c=n,d=this.Pa[a];d&&C(d,function(a){a=a(b);a!==i&&!a&&(c=k)});return c};function Fc(a,b){this.Q={};this.h=[];var c=arguments.length;if(1<c){c%2&&g(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var f;if(a instanceof Fc)Gc(a),f=a.h.concat(),d=R(a);else{var c=[],e=0;for(f in a)c[e++]=f;f=c;c=[];e=0;for(d in a)c[e++]=a[d];d=c}for(c=0;c<f.length;c++)this.set(f[c],d[c])}}r=Fc.prototype;r.l=0;r.vc=0;function R(a){Gc(a);for(var b=[],c=0;c<a.h.length;c++)b.push(a.Q[a.h[c]]);return b}
r.clear=function(){this.Q={};this.vc=this.l=this.h.length=0};r.remove=function(a){return Hc(this.Q,a)?(delete this.Q[a],this.l--,this.vc++,this.h.length>2*this.l&&Gc(this),k):n};function Gc(a){if(a.l!=a.h.length){for(var b=0,c=0;b<a.h.length;){var d=a.h[b];Hc(a.Q,d)&&(a.h[c++]=d);b++}a.h.length=c}if(a.l!=a.h.length){for(var f={},c=b=0;b<a.h.length;)d=a.h[b],Hc(f,d)||(a.h[c++]=d,f[d]=1),b++;a.h.length=c}}r.get=function(a,b){return Hc(this.Q,a)?this.Q[a]:b};
r.set=function(a,b){Hc(this.Q,a)||(this.l++,this.h.push(a),this.vc++);this.Q[a]=b};function Hc(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Ic(a,b){this.x=a;this.y=b};function Jc(a){this.points=a}function Kc(a){for(var b=0,c=a.length-1,d=0;d<a.length;d++)b+=(a[c].x+a[d].x)*(a[c].y-a[d].y),c=d;return b/2}
function Lc(a,b){for(var c,d=c=0,f,e=a.length-1,h=0;h<a.length;h++)f=a[h].x*a[e].y-a[e].x*a[h].y,c+=(a[h].x+a[e].x)*f,d+=(a[h].y+a[e].y)*f,e=h;f=6*Kc(a);c=new Ic(Math.abs(c/f),Math.abs(d/f));d=[];for(f=0;f<a.length;f++){var e=a[f],l=(0>Kc(a)?-1:1)*b,h=e.x-c.x,j=e.y-c.y,p=0<l?1:0>l?-1:0,l=Math.sqrt(Math.pow(l,2)/(1+Math.pow(h/j,2)));d.push({x:e.x+Math.abs(h/j*l)*(0<h?1:0>h?-1:0)*p,y:e.y+Math.abs(l)*(0<j?1:0>j?-1:0)*p})}return d};function Mc(a,b,c,d){0<c?(this.x=a,this.width=c):(this.x=a+c,this.width=-c);0<d?(this.y=b,this.height=d):(this.y=b+d,this.height=-d)};function Nc(a,b){this.type=a;this.geometry=b}function Oc(a){return"rect"==a.type?a.geometry.width*a.geometry.height:"polygon"==a.type?Math.abs(Kc(a.geometry.points)):0}function Pc(a){if("rect"==a.type)return a;if("polygon"==a.type){for(var a=a.geometry.points,b=a[0].x,c=a[0].x,d=a[0].y,f=a[0].y,e=1;e<a.length;e++)a[e].x>c&&(c=a[e].x),a[e].x<b&&(b=a[e].x),a[e].y>f&&(f=a[e].y),a[e].y<d&&(d=a[e].y);return new Nc("rect",new Mc(b,d,c-b,f-d))}}
function Qc(a,b){var c;c=a.geometry.points;var d=0>Kc(c)?-1:1;if(4>c.length)c=Lc(c,d*b);else{for(var f=c.length-1,e=1,h=[],l=0;l<c.length;l++)f=Lc([c[f],c[l],c[e]],d*b),h.push(f[1]),f=l,e++,e>c.length-1&&(e=0);c=h}return new Nc("polygon",new Jc(c))}
function Rc(a,b){if("rect"==a.type){var c=a.geometry,d=b({x:c.x,y:c.y}),c=b({x:c.x+c.width,y:c.y+c.height});return new Nc("rect",new Mc(d.x,d.y,c.x-d.x,c.y-d.y))}if("polygon"==a.type){var f=[];C(a.geometry.points,function(a){f.push(b(a))});return new Nc("polygon",new Jc(f))}}function Sc(a){return JSON.stringify(a.geometry)}window.annotorious||(window.annotorious={});window.annotorious.geometry||(window.annotorious.geometry={},window.annotorious.geometry.expand=Qc);function Tc(a,b,c){this.src=a;this.text=b;this.shapes=[c];this.context=document.URL};function Uc(){}function Vc(a,b){a.d=new Fc;a.xc=[];a.Ua=[];a.Ra=[];a.ua=[];a.Lb=[];a.ob={Ea:n,Da:n};a.Ma=new Fc;a.Ec=b}function Wc(a,b){var c=a.Ma(b);c||(c={Ea:n,Da:n},c.set(b,c));return c}
function Xc(a,b){var c=a.ec(b);if(!a.d.get(c)){var d=a.ed(b),f=[],e=[];C(a.xc,function(a){d.k(a.type,a.Ca)});C(a.Ua,function(a){if(a.onInitAnnotator)a.onInitAnnotator(d)});C(a.ua,function(a){a.src==c&&(d.A(a),f.push(a))});C(a.Lb,function(a){a.src==c&&(d.w(a),e.push(a))});C(f,function(b){E(a.ua,b)});C(e,function(b){E(a.Lb,b)});var h=a.Ma.get(c);h?(h.Ea&&d.O(),h.Da&&d.V(),a.Ma.remove(c)):(a.ob.Ea&&d.O(),a.ob.Da&&d.V());a.d.set(c,d);E(a.Ra,b)}}
function Yc(a){C(a.Ra,function(b){for(var c=b,d=c.offsetTop,f=c.offsetLeft,e=c.offsetWidth,h=c.offsetHeight;c.offsetParent;)c=c.offsetParent,d+=c.offsetTop,f+=c.offsetLeft;d<window.pageYOffset+window.innerHeight&&(f<window.pageXOffset+window.innerWidth&&d+h>window.pageYOffset&&f+e>window.pageXOffset)&&Xc(a,b)})}function Zc(a,b,c){if(b){var d=a.d.get(b);d?c?d.sa():d.V():Wc(a,b).Da=c}else C(R(a.d),function(a){c?a.sa():a.V()}),a.ob.Da=c,C(R(a.Ma),function(a){a.Da=c})}
function $c(a,b,c){if(b){var d=a.d.get(b);d?c?d.X():d.O():Wc(a,b).Ea=c}else C(R(a.d),function(a){c?a.X():a.O()}),a.ob.Ea=c,C(R(a.Ma),function(a){a.Ea=c})}r=Uc.prototype;r.ba=function(a,b){var c=i,d=i;u(a)?(c=a,d=b):y(a)&&(d=a);c?(c=this.d.get(c))&&c.ba(d):C(R(this.d),function(a){a.ba(d)})};r.A=function(a,b){if(ad(this,a.src)){var c=this.d.get(a.src);c?c.A(a,b):(this.ua.push(a),b&&E(this.ua,b))}};r.k=function(a,b){C(R(this.d),function(c){c.k(a,b)});this.xc.push({type:a,Ca:b})};
r.Zb=function(a){this.Ua.push(a);C(R(this.d),function(b){if(a.onInitAnnotator)a.onInitAnnotator(b)})};r.ya=function(a,b){if(ad(this,a)){var c=this.d.get(a);c&&c.ya(b)}};function ad(a,b){return Hc(a.d.Q,b)?k:Ba(a.Ra,function(c){return a.ec(c)==b})!=m}r.eb=function(){C(R(this.d),function(a){a.eb()});this.d.clear()};r.la=function(a){if(ad(this,a)&&(a=this.d.get(a)))return a.la().getName()};
r.J=function(a){if(a){var b=this.d.get(a);return b?b.J():ya(this.ua,function(b){return b.src==a})}var c=[];C(R(this.d),function(a){Ea(c,a.J())});Ea(c,this.ua);return c};r.ma=function(a){if(ad(this,a)&&(a=this.d.get(a)))return za(a.ma(),function(a){return a.getName()})};r.V=function(a){Zc(this,a,n)};r.O=function(a){$c(this,a,n)};r.t=function(a){if(a){if(ad(this,a.src)){var b=this.d.get(a.src);b&&b.t(a)}}else C(R(this.d),function(a){a.t()})};
r.init=function(){this.Ec&&Ea(this.Ra,this.Ec());Yc(this);var a=this,b=O(window,"scroll",function(){0<a.Ra.length?Yc(a):P(b)})};r.kc=function(a){this.uc(a)&&Xc(this,a)};r.w=function(a){if(ad(this,a.src)){var b=this.d.get(a.src);b?b.w(a):this.Lb.push(a)}};r.Ja=function(a,b){if(ad(this,a)){var c=this.d.get(a);c&&c.Ja(b)}};r.sa=function(a){Zc(this,a,k)};r.X=function(a){$c(this,a,k)};function bd(a,b){var c=ob().createElement("DIV");c.innerHTML=a(b||cd,i,i);if(1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType)return d}return c}var cd={};function dd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}dd.prototype.contains=function(a){return!this||!a?n:a instanceof dd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function ed(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}ed.prototype.contains=function(a){return a instanceof ed?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function S(a,b,c){u(b)?fd(a,c,b):lb(b,oa(fd,a))}function fd(a,b,c){a.style[wa(c)]=b}function T(a,b){var c=qb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,m))?c[b]||c.getPropertyValue(b)||"":""}function gd(a,b){return a.currentStyle?a.currentStyle[b]:m}function hd(a,b){return T(a,b)||gd(a,b)||a.style&&a.style[b]}function id(a,b,c){var d,f=H&&(La||Ra)&&K("1.9");b instanceof L?(d=b.x,b=b.y):(d=b,b=c);a.style.left=jd(d,f);a.style.top=jd(b,f)}
function kd(a){var b=a.getBoundingClientRect();G&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function ld(a){if(G&&!ab(8))return a.offsetParent;for(var b=qb(a),c=hd(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=hd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return m}
function md(a){var b,c=qb(a),d=hd(a,"position"),f=H&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),e=new L(0,0),h;b=c?qb(c):document;if(h=G)if(h=!ab(9))ob(b),h=n;h=h?b.body:b.documentElement;if(a==h)return e;if(a.getBoundingClientRect)b=kd(a),a=ob(c),a=sb(a.ca),e.x=b.left+a.x,e.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),e.x=b.screenX-a.screenX,e.y=b.screenY-a.screenY;else{b=a;do{e.x+=b.offsetLeft;
e.y+=b.offsetTop;b!=a&&(e.x+=b.clientLeft||0,e.y+=b.clientTop||0);if(I&&"fixed"==hd(b,"position")){e.x+=c.body.scrollLeft;e.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(F||I&&"absolute"==d)e.y-=c.body.offsetTop;for(b=a;(b=ld(b))&&b!=c.body&&b!=h;)if(e.x-=b.scrollLeft,!F||"TR"!=b.tagName)e.y-=b.scrollTop}return e}function nd(a,b){var c=od(a),d=od(b);return new L(c.x-d.x,c.y-d.y)}
function od(a){var b=new L;if(1==a.nodeType){if(a.getBoundingClientRect){var c=kd(a);b.x=c.left;b.y=c.top}else{var c=ob(a),c=sb(c.ca),d=md(a);b.x=d.x-c.x;b.y=d.y-c.y}if(H&&!K(12)){var f;G?f="-ms-transform":I?f="-webkit-transform":F?f="-o-transform":H&&(f="-moz-transform");var e;f&&(e=hd(a,f));e||(e=hd(a,"transform"));e?(a=e.match(pd),a=!a?new L(0,0):new L(parseFloat(a[1]),parseFloat(a[2]))):a=new L(0,0);b=new L(b.x+a.x,b.y+a.y)}}else f=y(a.rd),e=a,a.targetTouches?e=a.targetTouches[0]:f&&a.r.targetTouches&&
(e=a.r.targetTouches[0]),b.x=e.clientX,b.y=e.clientY;return b}function qd(a,b,c){b instanceof kb?(c=b.height,b=b.width):c==i&&g(Error("missing height argument"));a.style.width=jd(b,k);a.style.height=jd(c,k)}function jd(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function rd(a){if("none"!=hd(a,"display"))return sd(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=sd(a);b.display=c;b.position=f;b.visibility=d;return a}function sd(a){var b=a.offsetWidth,c=a.offsetHeight,d=I&&!b&&!c;return(b===i||d)&&a.getBoundingClientRect?(a=kd(a),new kb(a.right-a.left,a.bottom-a.top)):new kb(b,c)}function td(a){var b=md(a),a=rd(a);return new ed(b.x,b.y,a.width,a.height)}
function U(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function V(a,b){a.style.display=b?"":"none"}var ud=H?"MozUserSelect":I?"WebkitUserSelect":m;function vd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function wd(a,b){if(G){var c=vd(a,gd(a,b+"Left")),d=vd(a,gd(a,b+"Right")),f=vd(a,gd(a,b+"Top")),e=vd(a,gd(a,b+"Bottom"));return new dd(f,d,e,c)}c=T(a,b+"Left");d=T(a,b+"Right");f=T(a,b+"Top");e=T(a,b+"Bottom");return new dd(parseFloat(f),parseFloat(d),parseFloat(e),parseFloat(c))}var xd={thin:2,medium:4,thick:6};function yd(a,b){if("none"==gd(a,b+"Style"))return 0;var c=gd(a,b+"Width");return c in xd?xd[c]:vd(a,c)}
function zd(a){if(G){var b=yd(a,"borderLeft"),c=yd(a,"borderRight"),d=yd(a,"borderTop"),a=yd(a,"borderBottom");return new dd(d,c,a,b)}b=T(a,"borderLeftWidth");c=T(a,"borderRightWidth");d=T(a,"borderTopWidth");a=T(a,"borderBottomWidth");return new dd(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var pd=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function Ad(a,b,c){this.R=a;this.n=b;this.f=c;this.ta=[];this.ia=[];this.G=this.R.getContext("2d");this.xa=k;this.Rb=n;var d=this;O(this.R,"mousemove",function(a){if(d.xa){var b=Bd(d,a.offsetX,a.offsetY);b?(d.Rb=n,d.e?d.e!=b&&(d.xa=n,Cd(d.n)):(d.e=b,Dd(d),d.f.fireEvent("onMouseOverAnnotation",{ja:d.e,mouseEvent:a}))):!d.Rb&&d.e&&(d.xa=n,Cd(d.n))}else d.Na=a});c.k("onMouseOutOfItem",function(){delete d.e;d.xa=k});c.k("beforePopupHide",function(){if(!d.xa&&d.Na){var a=d.e;d.e=Bd(d,d.Na.offsetX,d.Na.offsetY);
d.xa=k;a!=d.e?(Dd(d),d.f.fireEvent("onMouseOutOfAnnotation",{ja:a,mouseEvent:d.Na}),d.f.fireEvent("onMouseOverAnnotation",{ja:d.e,mouseEvent:d.Na})):d.e&&Ed(d.n)}else Dd(d)})}r=Ad.prototype;r.A=function(a,b){b&&(b==this.e&&delete this.e,E(this.ta,b),delete this.ia[Sc(b.shapes[0])]);this.ta.push(a);var c=a.shapes[0];if("pixel"!=c.units)var d=this,c=Rc(c,function(a){return d.f.hb(a)});this.ia[Sc(a.shapes[0])]=c;Dd(this)};
r.w=function(a){a==this.e&&delete this.e;E(this.ta,a);delete this.ia[Sc(a.shapes[0])];Dd(this)};r.J=function(){return Da(this.ta)};r.t=function(a){(this.e=a)?this.Rb=k:Cd(this.n);Dd(this)};function Bd(a,b,c){a=a.ub(b,c);if(0<a.length)return a[0]}
r.ub=function(a,b){var c=[],d=this;C(this.ta,function(f){var e;e=d.ia[Sc(f.shapes[0])];if("rect"==e.type)e=a<e.geometry.x||b<e.geometry.y||a>e.geometry.x+e.geometry.width||b>e.geometry.y+e.geometry.height?n:k;else if("polygon"==e.type){e=e.geometry.points;for(var h=n,l=e.length-1,j=0;j<e.length;j++)e[j].y>b!=e[l].y>b&&a<(e[l].x-e[j].x)*(b-e[j].y)/(e[l].y-e[j].y)+e[j].x&&(h=!h),l=j;e=h}else e=n;e&&c.push(f)});B.sort.call(c,function(a,b){return Oc(a.shapes[0])-Oc(b.shapes[0])}||Ga);return c};
function Fd(a,b,c){var d=Ba(a.f.ma(),function(a){return a.getSupportedShapeType()==b.type});d?d.drawShape(a.G,b,c):console.log("WARNING unsupported shape type: "+b.type)}function Dd(a){a.G.clearRect(0,0,a.R.width,a.R.height);C(a.ta,function(b){Fd(a,a.ia[Sc(b.shapes[0])])});if(a.e){var b=a.ia[Sc(a.e.shapes[0])];Fd(a,b,k);b=Pc(b).geometry;a.n.show(a.e,new Ic(b.x,b.y+b.height+5))}};G&&K(8);function Gd(a,b){a!=m&&this.append.apply(this,arguments)}r=Gd.prototype;r.ka="";r.set=function(a){this.ka=""+a};r.append=function(a,b,c){this.ka+=a;if(b!=m)for(var d=1;d<arguments.length;d++)this.ka+=arguments[d];return this};r.clear=function(){this.ka=""};r.toString=q("ka");function Hd(a){return"object"===typeof a&&a&&0===a.Jd?a.content:String(a).replace(Id,Jd)}var Kd={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Jd(a){return Kd[a]}var Id=/[\x00\x22\x26\x27\x3c\x3e]/g;function Ld(a){return'<canvas class="annotorious-item annotorious-opacity-fade" style="position:absolute; top:0px; left:0px; width:'+Hd(a.width)+"px; height:"+Hd(a.height)+'px; z-index:0" width="'+Hd(a.width)+'" height="'+Hd(a.height)+'"></canvas>'}
function Md(a){return'<div class="annotorious-hint" style="white-space:nowrap; position:absolute; top:0px; left:0px; pointer-events:none;"><div class="annotorious-hint-msg annotorious-opacity-fade">'+Hd(a.mc)+'</div><div class="annotorious-hint-icon" style="pointer-events:auto"></div></div>'};function Nd(a){this.element=bd(Od);this.f=a;this.od=M(".annotorious-popup-text",this.element)[0];this.N=M(".annotorious-popup-buttons",this.element)[0];this.Nb=n;this.Oa=[];var b=M(".annotorious-popup-button-edit",this.N)[0],c=M(".annotorious-popup-button-delete",this.N)[0],d=this;O(b,"mouseover",function(){fb(b,"annotorious-popup-button-active")});O(b,"mouseout",function(){hb(b,"annotorious-popup-button-active")});O(b,"click",function(){U(d.element,0);S(d.element,"pointer-events","none");a.Kc(d.e)});
O(c,"mouseover",function(){fb(c,"annotorious-popup-button-active")});O(c,"mouseout",function(){hb(c,"annotorious-popup-button-active")});O(c,"click",function(){a.fireEvent("beforeAnnotationRemoved",d.e)||(U(d.element,0),S(d.element,"pointer-events","none"),a.w(d.e),a.fireEvent("onAnnotationRemoved",d.e))});O(this.element,"mouseover",function(){window.clearTimeout(d.Mb);0.9>(d.N.style[wa("opacity")]||"")&&U(d.N,0.9);Ed(d)});O(this.element,"mouseout",function(){U(d.N,0);Cd(d)});a.k("onMouseOutOfItem",
function(){Cd(d)});U(this.N,0);U(this.element,0);S(this.element,"pointer-events","none");a.element.appendChild(this.element)}Nd.prototype.Yb=function(a){var b=tb("div","annotorious-popup-field");u(a)?b.innerHTML=a:y(a)?this.Oa.push({B:b,dc:a}):yb(a)&&b.appendChild(a);this.element.appendChild(b)};function Cd(a){a.Nb=n;a.Va||(a.Va=window.setTimeout(function(){a.f.fireEvent("beforePopupHide",a);a.Nb||(U(a.element,0),S(a.element,"pointer-events","none"),U(a.N,0.9),delete a.Va)},300))}
function Ed(a){a.Nb=k;a.Va&&(window.clearTimeout(a.Va),delete a.Va)}Nd.prototype.show=function(a,b){Ed(this);b&&this.ra(b);a&&Pd(this,a);this.Mb&&window.clearTimeout(this.Mb);U(this.N,0.9);var c=this;this.Mb=window.setTimeout(function(){U(c.N,0)},1E3);U(this.element,0.9);S(this.element,"pointer-events","auto")};Nd.prototype.ra=function(a){id(this.element,new L(a.x,a.y))};
function Pd(a,b){a.e=b;a.od.innerHTML=b.text?b.text.replace(/\n/g,"<br/>"):'<span class="annotorious-popup-empty">No comment</span>';"editable"in b&&b.editable==n?V(a.N,n):V(a.N,k);C(a.Oa,function(a){var d=a.dc(b);u(d)?a.B.innerHTML=d:yb(d)&&(vb(a.B),a.B.appendChild(d))})}Nd.prototype.addField=Nd.prototype.Yb;function Qd(){lc.call(this)}z(Qd,lc);r=Qd.prototype;r.Ic=k;r.nc=m;r.tc=function(a){this.nc=a};r.addEventListener=function(a,b,c,d){O(this,a,b,c,d)};r.removeEventListener=function(a,b,c,d){yc(this,a,b,c,d)};
r.dispatchEvent=function(a){var b=a.type||a,c=N;if(b in c){if(u(a))a=new nc(a,this);else if(a instanceof nc)a.target=a.target||this;else{var d=a,a=new nc(b,this);nb(a,d)}var d=1,f,c=c[b],b=k in c,e;if(b){f=[];for(e=this;e;e=e.nc)f.push(e);e=c[k];e.K=e.l;for(var h=f.length-1;!a.oa&&0<=h&&e.K;h--)a.currentTarget=f[h],d&=Bc(e,f[h],a.type,k,a)&&a.Fb!=n}if(n in c)if(e=c[n],e.K=e.l,b)for(h=0;!a.oa&&h<f.length&&e.K;h++)a.currentTarget=f[h],d&=Bc(e,f[h],a.type,n,a)&&a.Fb!=n;else for(f=this;!a.oa&&f&&e.K;f=
f.nc)a.currentTarget=f,d&=Bc(e,f,a.type,n,a)&&a.Fb!=n;a=Boolean(d)}else a=k;return a};function Rd(a,b,c,d,f){if(!G&&(!I||!K("525")))return k;if(La&&f)return Sd(a);if(f&&!d||!c&&(17==b||18==b)||G&&d&&b==a)return n;switch(a){case 13:return!(G&&ab(9));case 27:return!I}return Sd(a)}function Sd(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||I&&0==a)return k;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return k;default:return n}}
function Td(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Ud(a,b){lc.call(this);a&&Vd(this,a,b)}z(Ud,Qd);r=Ud.prototype;r.C=m;r.xb=m;r.ic=m;r.yb=m;r.ga=-1;r.fa=-1;r.ac=n;
var Wd={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Xd={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Yd=G||I&&K("525"),Zd=La&&H;r=Ud.prototype;
r.ud=function(a){if(I&&(17==this.ga&&!a.ctrlKey||18==this.ga&&!a.altKey))this.fa=this.ga=-1;Yd&&!Rd(a.keyCode,this.ga,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.fa=H?Td(a.keyCode):a.keyCode,Zd&&(this.ac=a.altKey))};r.wd=function(a){this.fa=this.ga=-1;this.ac=a.altKey};
r.handleEvent=function(a){var b=a.r,c,d,f=b.altKey;G&&"keypress"==a.type?(c=this.fa,d=13!=c&&27!=c?b.keyCode:0):I&&"keypress"==a.type?(c=this.fa,d=0<=b.charCode&&63232>b.charCode&&Sd(c)?b.charCode:0):F?(c=this.fa,d=Sd(c)?b.keyCode:0):(c=b.keyCode||this.fa,d=b.charCode||0,Zd&&(f=this.ac),La&&(63==d&&224==c)&&(c=191));var e=c,h=b.keyIdentifier;c?63232<=c&&c in Wd?e=Wd[c]:25==c&&a.shiftKey&&(e=9):h&&h in Xd&&(e=Xd[h]);a=e==this.ga;this.ga=e;b=new $d(e,d,a,b);b.altKey=f;this.dispatchEvent(b)};r.c=q("C");
function Vd(a,b,c){a.yb&&a.detach();a.C=b;a.xb=O(a.C,"keypress",a,c);a.ic=O(a.C,"keydown",a.ud,c,a);a.yb=O(a.C,"keyup",a.wd,c,a)}r.detach=function(){this.xb&&(P(this.xb),P(this.ic),P(this.yb),this.yb=this.ic=this.xb=m);this.C=m;this.fa=this.ga=-1};function $d(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}z($d,pc);function ae(a){lc.call(this);this.Uc=a;this.h=[]}z(ae,lc);var be=[];function W(a,b,c,d){t(c)||(be[0]=c,c=be);for(var f=0;f<c.length;f++){var e=O(b,c[f],d||a,n,a.Uc||a);a.h.push(e)}return a}function ce(a,b,c,d,f,e){if(t(c))for(var h=0;h<c.length;h++)ce(a,b,c[h],d,f,e);else{a:{d=d||a;e=e||a.Uc||a;f=!!f;if(b=zc(b,c,f))for(c=0;c<b.length;c++)if(!b[c].qa&&b[c].Ga==d&&b[c].capture==f&&b[c].Ca==e){b=b[c];break a}b=m}b&&(b=b.key,P(b),E(a.h,b))}return a}
ae.prototype.pc=function(){C(this.h,P);this.h.length=0};ae.prototype.handleEvent=function(){g(Error("EventHandler.handleEvent not implemented"))};function de(){}ea(de);de.prototype.Bd=0;de.kb();function ee(a){lc.call(this);this.fb=a||ob();this.nb=fe}z(ee,Qd);ee.prototype.xd=de.kb();var fe=m;function ge(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}g(Error("Invalid component state"))}r=ee.prototype;r.wb=m;r.W=n;r.C=m;r.nb=m;r.na=m;r.ab=m;r.za=m;r.Gd=n;r.c=q("C");
function he(a){return a.gc||(a.gc=new ae(a))}r.tc=function(a){this.na&&this.na!=a&&g(Error("Method not supported"));ee.H.tc.call(this,a)};r.Nc=q("fb");r.cb=function(a){this.W&&g(Error("Component already rendered"));if(a&&this.$a(a)){this.Gd=k;if(!this.fb||this.fb.ca!=qb(a))this.fb=ob(a);this.Jc(a);this.Aa()}else g(Error("Invalid element to decorate"))};r.$a=ba(k);r.Jc=function(a){this.C=a};r.Aa=function(){function a(a){!a.W&&a.c()&&a.Aa()}this.W=k;this.ab&&C(this.ab,a,i)};
r.tb=function(){function a(a){a.W&&a.tb()}this.ab&&C(this.ab,a,i);this.gc&&this.gc.pc();this.W=n};r.ib=q("C");r.Ka=function(a){this.W&&g(Error("Component already rendered"));this.nb=a};
r.removeChild=function(a,b){if(a){var c=u(a)?a:a.wb||(a.wb=":"+(a.xd.Bd++).toString(36)),d;this.za&&c?(d=this.za,d=(c in d?d[c]:i)||m):d=m;a=d;c&&a&&(d=this.za,c in d&&delete d[c],E(this.ab,a),b&&(a.tb(),a.C&&wb(a.C)),c=a,c==m&&g(Error("Unable to set parent component")),c.na=m,ee.H.tc.call(c,m))}a||g(Error("Child is not in parent component"));return a};function ie(){}var je;ea(ie);r=ie.prototype;r.ib=function(a){return a};r.gb=function(a,b,c){if(a=a.c?a.c():a)if(G&&!K("7")){var d=ke(eb(a),b);d.push(b);oa(c?fb:hb,a).apply(m,d)}else c?fb(a,b):hb(a,b)};r.$a=ba(k);
r.cb=function(a,b){if(b.id){var c=b.id;if(a.na&&a.na.za){var d=a.na.za,f=a.wb;f in d&&delete d[f];d=a.na.za;c in d&&g(Error('The object already contains the key "'+c+'"'));d[c]=a}a.wb=c}(c=this.ib(b))&&c.firstChild?(c=c.firstChild.nextSibling?Da(c.childNodes):c.firstChild,a.bb=c):a.bb=m;var e=0,h=this.jb(),l=this.jb(),j=n,p=n,c=n,d=eb(b);C(d,function(a){if(!j&&a==h)j=k,l==h&&(p=k);else if(!p&&a==l)p=k;else{var b=e;if(!this.jd){this.sb||le(this);var c=this.sb,d={},f;for(f in c)d[c[f]]=f;this.jd=d}a=
parseInt(this.jd[a],10);e=b|(isNaN(a)?0:a)}},this);a.m=e;j||(d.push(h),l==h&&(p=k));p||d.push(l);(f=a.U)&&d.push.apply(d,f);if(G&&!K("7")){var v=ke(d);0<v.length&&(d.push.apply(d,v),c=k)}if(!j||!p||f||c)b.className=d.join(" ");a.isEnabled()||this.La(b,1,k);a.m&8&&this.La(b,8,k);a.P&16&&this.La(b,16,!!(a.m&16));a.P&64&&this.La(b,64,!!(a.m&64));return b};
r.Gb=function(a,b){var c=!b,d=G||F?a.getElementsByTagName("*"):m;if(ud){if(c=c?"none":"",a.style[ud]=c,d)for(var f=0,e;e=d[f];f++)e.style[ud]=c}else if(G||F)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(f=0;e=d[f];f++)e.setAttribute("unselectable",c)};r.Ka=function(a,b){this.gb(a,this.jb()+"-rtl",b)};r.Zc=function(a){var b;return a.P&32&&(b=a.Ba())?Ab(b):n};
r.sc=function(a,b){var c;if(a.P&32&&(c=a.Ba())){if(!b&&a.m&32){try{c.blur()}catch(d){}a.m&32&&a.Oc()}Ab(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};r.L=function(a,b,c){var d=a.c();if(d){var f;this.sb||le(this);(f=this.sb[b])&&this.gb(a,f,c);this.La(d,b,c)}};r.La=function(a,b,c){je||(je={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=je[b])&&a.setAttribute("aria-"+b,c)};
r.ha=function(a,b){var c=this.ib(a);if(c&&(vb(c),b))if(u(b))if("textContent"in c)c.textContent=b;else if(c.firstChild&&3==c.firstChild.nodeType){for(;c.lastChild!=c.firstChild;)c.removeChild(c.lastChild);c.firstChild.data=b}else vb(c),c.appendChild(qb(c).createTextNode(b));else{var d=function(a){if(a){var b=qb(c);c.appendChild(u(a)?b.createTextNode(a):a)}};t(b)?C(b,d):ga(b)&&!("nodeType"in b)?C(Da(b),d):d(b)}};r.Ba=function(a){return a.c()};r.jb=ba("goog-control");
function ke(a,b){var c=[];b&&(a=a.concat([b]));C([],function(d){Aa(d,oa(Ca,a))&&(!b||Ca(d,b))&&c.push(d.join("_"))});return c}function le(a){var b=a.jb();a.sb={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};var me={};function X(a,b,c){ee.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ia(b);if(d=me[d])break;b=b.H?b.H.constructor:m}b=d?y(d.kb)?d.kb():new d:m}this.D=b;this.bb=a}z(X,ee);r=X.prototype;r.bb=m;r.m=0;r.P=39;r.cc=255;r.Fd=0;r.Ib=k;r.U=m;r.hc=k;r.$b=n;r.Dd=m;function ne(a){a.W&&n!=a.hc&&oe(a,n);a.hc=n}r.Ba=function(){return this.D.Ba(this)};
r.gb=function(a,b){b?a&&(this.U?Ca(this.U,a)||this.U.push(a):this.U=[a],this.D.gb(this,a,k)):a&&this.U&&(E(this.U,a),0==this.U.length&&(this.U=m),this.D.gb(this,a,n))};r.ib=function(){return this.D.ib(this.c())};r.$a=function(a){return this.D.$a(a)};r.Jc=function(a){this.C=a=this.D.cb(this,a);var b=this.Dd||i;b&&a.setAttribute("role",b);this.$b||this.D.Gb(a,n);this.Ib="none"!=a.style.display};
r.Aa=function(){X.H.Aa.call(this);var a=this.D;this.nb==m&&(this.nb="rtl"==hd(this.W?this.C:this.fb.ca.body,"direction"));this.nb&&a.Ka(this.c(),k);this.isEnabled()&&a.sc(this,this.Ib);if(this.P&-2&&(this.hc&&oe(this,k),this.P&32&&(a=this.Ba()))){var b=this.jc||(this.jc=new Ud);Vd(b,a);W(W(W(he(this),b,"key",this.vd),a,"focus",this.sd),a,"blur",this.Oc)}};
function oe(a,b){var c=he(a),d=a.c();b?(W(W(W(W(c,d,"mouseover",a.Sc),d,"mousedown",a.Qc),d,"mouseup",a.Tc),d,"mouseout",a.Rc),a.vb!=da&&W(c,d,"contextmenu",a.vb),G&&W(c,d,"dblclick",a.Pc)):(ce(ce(ce(ce(c,d,"mouseover",a.Sc),d,"mousedown",a.Qc),d,"mouseup",a.Tc),d,"mouseout",a.Rc),a.vb!=da&&ce(c,d,"contextmenu",a.vb),G&&ce(c,d,"dblclick",a.Pc))}r.tb=function(){X.H.tb.call(this);this.jc&&this.jc.detach();this.Ib&&this.isEnabled()&&this.D.sc(this,n)};r.ha=function(a){this.D.ha(this.c(),a);this.bb=a};
r.Ka=function(a){X.H.Ka.call(this,a);var b=this.c();b&&this.D.Ka(b,a)};r.Gb=function(a){this.$b=a;var b=this.c();b&&this.D.Gb(b,a)};r.isEnabled=function(){return!(this.m&1)};function pe(a,b){qe(a,2,b)&&a.L(2,b)}r.setActive=function(a){qe(this,4,a)&&this.L(4,a)};r.L=function(a,b){this.P&a&&b!=!!(this.m&a)&&(this.D.L(this,a,b),this.m=b?this.m|a:this.m&~a)};function Y(a,b){return!!(a.cc&b)&&!!(a.P&b)}function qe(a,b,c){return!!(a.P&b)&&!!(a.m&b)!=c&&(!(a.Fd&b)||a.dispatchEvent(ge(b,c)))&&!a.qd}
r.Sc=function(a){(!a.relatedTarget||!zb(this.c(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&Y(this,2))&&pe(this,k)};r.Rc=function(a){if((!a.relatedTarget||!zb(this.c(),a.relatedTarget))&&this.dispatchEvent("leave"))Y(this,4)&&this.setActive(n),Y(this,2)&&pe(this,n)};r.vb=da;r.Qc=function(a){if(this.isEnabled()&&(Y(this,2)&&pe(this,k),rc(a)&&(!I||!La||!a.ctrlKey)))Y(this,4)&&this.setActive(k),this.D.Zc(this)&&this.Ba().focus();!this.$b&&(rc(a)&&(!I||!La||!a.ctrlKey))&&a.preventDefault()};
r.Tc=function(a){this.isEnabled()&&(Y(this,2)&&pe(this,k),this.m&4&&(re(this,a)&&Y(this,4))&&this.setActive(n))};r.Pc=function(a){this.isEnabled()&&re(this,a)};function re(a,b){if(Y(a,16)){var c=!(a.m&16);qe(a,16,c)&&a.L(16,c)}Y(a,8)&&qe(a,8,k)&&a.L(8,k);Y(a,64)&&(c=!(a.m&64),qe(a,64,c)&&a.L(64,c));c=new nc("action",a);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.oc=b.oc);return a.dispatchEvent(c)}r.sd=function(){Y(this,32)&&qe(this,32,k)&&this.L(32,k)};
r.Oc=function(){Y(this,4)&&this.setActive(n);Y(this,32)&&qe(this,32,n)&&this.L(32,n)};r.vd=function(a){return this.Ib&&this.isEnabled()&&13==a.keyCode&&re(this,a)?(a.preventDefault(),a.stopPropagation(),k):n};y(X)||g(Error("Invalid component class "+X));y(ie)||g(Error("Invalid renderer class "+ie));var se=ia(X);me[se]=ie;function te(){return new X(m)}y(te)||g(Error("Invalid decorator function "+te));function ue(){}z(ue,ie);ea(ue);r=ue.prototype;r.cb=function(a,b){ne(a);a.cc&=-256;a.W&&a.m&32&&g(Error("Component already rendered"));a.m&32&&a.L(32,n);a.P&=-33;ue.H.cb.call(this,a,b);a.ha(b.value);return b};r.$a=function(a){return"TEXTAREA"==a.tagName};r.Ka=da;r.Zc=function(a){return a.isEnabled()};r.sc=da;r.L=function(a,b,c){ue.H.L.call(this,a,b,c);if((a=a.c())&&1==b)a.disabled=c};r.La=da;r.ha=function(a,b){a&&(a.value=b)};r.jb=ba("goog-textarea");function we(a,b,c){X.call(this,a,b||ue.kb(),c);ne(this);this.Gb(k);a||(this.bb="")}z(we,X);var xe=H||I;r=we.prototype;r.Fa=n;r.da=0;r.zd=0;r.bd=0;r.Vc=n;r.Bb=n;r.rc=n;r.qc=n;function ye(a){return a.mb.top+a.mb.bottom+a.Fc.top+a.Fc.bottom}function ze(a){var b=a.bd,c=a.c();b&&(c&&a.Bb)&&(b-=ye(a));return b}function Ae(a){var b=a.zd,c=a.c();b&&(c&&a.Bb)&&(b-=ye(a));return b}r.ha=function(a){we.H.ha.call(this,a);this.c()&&this.lb()};
r.Aa=function(){we.H.Aa.call(this);var a=this.c();S(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.mb=wd(a,"padding");this.Fc=zd(a);W(W(W(W(he(this),a,"scroll",this.lb),a,"focus",this.lb),a,"keyup",this.lb),a,"mouseup",this.Ad);this.c()&&this.lb()};
function Be(a){if(!a.Vc){var b=a.c().cloneNode(n);S(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Nc().ca.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.rc=d>c;b.style.borderWidth="10px";a.qc=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Bb=k);wb(b);a.Vc=k}var b=a.c(),c=a.c().scrollHeight,f=a.c(),d=f.offsetHeight-f.clientHeight;if(!a.rc)var e=a.mb,d=d-(e.top+e.bottom);
a.qc||(f=zd(f),d-=f.top+f.bottom);c+=0<d?d:0;a.Bb?c-=ye(a):(a.rc||(d=a.mb,c+=d.top+d.bottom),a.qc||(a=zd(b),c+=a.top+a.bottom));return c}function Ce(a,b){a.da!=b&&(a.da=b,a.c().style.height=b+"px")}function De(a){a=a.c();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
r.lb=function(){if(!this.Fa){var a=n;this.Fa=k;var b=this.c(),c=this.da;if(b.scrollHeight){var d=n,f=n,e=Be(this),h=b.offsetHeight,l=ze(this),j=Ae(this);l&&e<l?(Ce(this,l),d=k):j&&e>j?(Ce(this,j),b.style.overflowY="",f=k):h!=e?Ce(this,e):this.da||(this.da=e);!d&&(!f&&xe)&&(a=k)}else De(this);this.Fa=n;a&&(a=this.c(),this.Fa||(this.Fa=k,b=n,a.value||(a.value=" ",b=k),(f=a.scrollHeight)?(e=Be(this),d=ze(this),h=Ae(this),!(d&&e<=d)&&!(h&&e>=h)&&(h=this.mb,a.style.paddingBottom=h.bottom+1+"px",Be(this)==
e&&(a.style.paddingBottom=h.bottom+f+"px",a.scrollTop=0,f=Be(this)-f,f>=d?Ce(this,f):Ce(this,d)),a.style.paddingBottom=h.bottom+"px")):De(this),b&&(a.value=""),this.Fa=n));c!=this.da&&this.dispatchEvent("resize")}};r.Ad=function(){var a=this.c(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.da&&(this.da=this.bd=b)};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function Ee(){}
var Fe={Md:"<",Ld:">",Hd:"&",Nd:"\u00a0",Pd:'"',Id:"'"},Ge={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,
ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},He=/&/g,Ie=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,Je=/</g,Ke=/>/g,Le=/\"/g,Me=/=/g,Ne=/\0/g,Oe=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,Pe=/^#(\d+)$/,Qe=/^#x([0-9A-Fa-f]+)$/,Re=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*))?)|(/?>)|[^a-z\\s>]+)",
"i"),Se=RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<[!]--[\\s\\S]*?--\>|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i");
Ee.prototype.parse=function(a,b){var c=m,d=n,f=[],e,h,l;a.M=[];for(a.ea=n;b;){var j=b.match(d?Re:Se),b=b.substring(j[0].length);if(d)if(j[1]){var p=j[1].toLowerCase();if(j[2]){j=j[3];switch(j.charCodeAt(0)){case 34:case 39:j=j.substring(1,j.length-1)}j=j.replace(Ne,"").replace(Oe,na(this.yd,this))}else j=p;f.push(p,j)}else j[4]&&(h!==i&&(l?a.hd&&a.hd(e,f):a.Lc&&a.Lc(e)),l&&h&12&&(c=c===m?b.toLowerCase():c.substring(c.length-b.length),d=c.indexOf("</"+e),0>d&&(d=b.length),h&4?a.Hc&&a.Hc(b.substring(0,
d)):a.gd&&a.gd(b.substring(0,d).replace(Ie,"&amp;$1").replace(Je,"&lt;").replace(Ke,"&gt;")),b=b.substring(d)),e=h=l=i,f.length=0,d=n);else if(j[1])Te(a,j[0]);else if(j[3])l=!j[2],d=k,e=j[3].toLowerCase(),h=Ge.hasOwnProperty(e)?Ge[e]:i;else if(j[4])Te(a,j[4]);else if(j[5])switch(j[5]){case "<":Te(a,"&lt;");break;case ">":Te(a,"&gt;");break;default:Te(a,"&amp;")}}for(c=a.M.length;0<=--c;)a.Y.append("</",a.M[c],">");a.M.length=0};
Ee.prototype.yd=function(a){a=a.toLowerCase();if(Fe.hasOwnProperty(a))return Fe[a];var b=a.match(Pe);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(Qe))?String.fromCharCode(parseInt(b[1],16)):""};function Ue(){};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function Ve(a,b,c){this.Y=a;this.M=[];this.ea=n;this.kd=b;this.Cb=c}z(Ve,Ue);
var We={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,
"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,
"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,
"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,
"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,
"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,
"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};
Ve.prototype.hd=function(a,b){if(!this.ea&&Ge.hasOwnProperty(a)){var c=Ge[a];if(!(c&32))if(c&16)this.ea=!(c&2);else{for(var d=b,f=0;f<d.length;f+=2){var e=d[f],h=d[f+1],l=m,j;if((j=a+"::"+e,We.hasOwnProperty(j))||(j="*::"+e,We.hasOwnProperty(j)))l=We[j];if(l!==m)switch(l){case 0:break;case 2:case 3:h=m;break;case 4:case 5:case 6:case 7:case 8:case 9:h=this.Cb?this.Cb(h):h;break;case 1:h=this.kd&&this.kd(h);break;case 11:h&&"#"===h.charAt(0)?(h=this.Cb?this.Cb(h):h)&&(h="#"+h):h=m;break;default:h=
m}else h=m;d[f+1]=h}if(b=d){c&2||this.M.push(a);this.Y.append("<",a);c=0;for(d=b.length;c<d;c+=2)f=b[c],e=b[c+1],e!==m&&e!==i&&this.Y.append(" ",f,'="',e.replace(He,"&amp;").replace(Je,"&lt;").replace(Ke,"&gt;").replace(Le,"&#34;").replace(Me,"&#61;"),'"');this.Y.append(">")}}}};
Ve.prototype.Lc=function(a){if(this.ea)this.ea=n;else if(Ge.hasOwnProperty(a)){var b=Ge[a];if(!(b&50)){if(b&1)for(b=this.M.length;0<=--b;){var c=this.M[b];if(c===a)break;if(!(Ge[c]&1))return}else for(b=this.M.length;0<=--b&&this.M[b]!==a;);if(!(0>b)){for(var d=this.M.length;--d>b;)c=this.M[d],Ge[c]&1||this.Y.append("</",c,">");this.M.length=b;this.Y.append("</",a,">")}}}};function Te(a,b){a.ea||a.Y.append(b)}Ve.prototype.gd=function(a){this.ea||this.Y.append(a)};
Ve.prototype.Hc=function(a){this.ea||this.Y.append(a)};function Od(){return'<div class="annotorious-popup top-left" style="position:absolute;z-index:1"><div class="annotorious-popup-buttons"><a class="annotorious-popup-button annotorious-popup-button-edit" title="Edit" href="javascript:void(0);">EDIT</a><a class="annotorious-popup-button annotorious-popup-button-delete" title="Delete" href="javascript:void(0);">DELETE</a></div><span class="annotorious-popup-text"></span></div>'}
function Xe(){return'<div class="annotorious-editor" style="position:absolute;z-index:1"><form><textarea class="annotorious-editor-text" placeholder="Add a Comment..." tabindex="1"></textarea><div class="annotorious-editor-button-container"><a class="annotorious-editor-button annotorious-editor-button-cancel" href="javascript:void(0);" tabindex="3">Cancel</a><a class="annotorious-editor-button annotorious-editor-button-save" href="javascript:void(0);" tabindex="2">Save</a></div></form></div>'};function Ye(a){this.element=bd(Xe);this.f=a;this.nd=a.getItem();this.Za=new we("");this.ld=M(".annotorious-editor-button-cancel",this.element)[0];this.wc=M(".annotorious-editor-button-save",this.element)[0];var b;b=this.wc;db?b=b.parentElement:(b=b.parentNode,b=yb(b)?b:m);this.md=b;this.Oa=[];var c=this;O(this.ld,"click",function(b){b.preventDefault();a.stopSelection(c.Cc);c.close()});O(this.wc,"click",function(b){b.preventDefault();b=c.Mc();a.A(b);a.stopSelection();c.Cc?a.fireEvent("onAnnotationUpdated",
b):a.fireEvent("onAnnotationCreated",b);c.close()});V(this.element,n);a.element.appendChild(this.element);this.Za.cb(M(".annotorious-editor-text",this.element)[0])}r=Ye.prototype;r.Yb=function(a){var b=tb("div","annotorious-editor-field");u(a)?b.innerHTML=a:y(a)?this.Oa.push({B:b,dc:a}):yb(a)&&b.appendChild(a);a=this.md;a.parentNode&&a.parentNode.insertBefore(b,a)};
r.open=function(a){(this.pb=this.Cc=a)&&this.Za.ha(String(a.text));V(this.element,k);this.Za.c().focus();C(this.Oa,function(b){var c=b.dc(a);u(c)?b.B.innerHTML=c:yb(c)&&(vb(b.B),b.B.appendChild(c))})};r.close=function(){V(this.element,n);this.Za.ha("")};r.ra=function(a){id(this.element,a.x,a.y)};r.Mc=function(){var a;a=this.Za.c().value;var b=new Gd;(new Ee).parse(new Ve(b,function(a){return a},i),a);a=b.toString();this.pb?this.pb.text=a:this.pb=new Tc(this.nd.src,a,this.f.la().getShape());return this.pb};
Ye.prototype.addField=Ye.prototype.Yb;Ye.prototype.getAnnotation=Ye.prototype.Mc;function Ze(a,b,c){var d=this;c||(c="Click and Drag to Annotate");this.element=bd(Md,{mc:c});this.f=a;this.zc=M(".annotorious-hint-msg",this.element)[0];this.yc=M(".annotorious-hint-icon",this.element)[0];this.Wb=function(){d.show()};this.Vb=function(){$e(d)};this.Jb();$e(this);b.appendChild(this.element)}
Ze.prototype.Jb=function(){var a=this;this.Bc=O(this.yc,"mouseover",function(){a.show();window.clearTimeout(a.Qb)});this.Ac=O(this.yc,"mouseout",function(){$e(a)});this.f.k("onMouseOverItem",this.Wb);this.f.k("onMouseOutOfItem",this.Vb)};Ze.prototype.Ob=function(){P(this.Bc);P(this.Ac);this.f.Ia("onMouseOverItem",this.Wb);this.f.Ia("onMouseOutOfItem",this.Vb)};Ze.prototype.show=function(){window.clearTimeout(this.Qb);U(this.zc,0.8);var a=this;this.Qb=window.setTimeout(function(){$e(a)},3E3)};
function $e(a){window.clearTimeout(a.Qb);U(a.zc,0)}Ze.prototype.eb=function(){this.Ob();delete this.Bc;delete this.Ac;delete this.Wb;delete this.Vb;wb(this.element)};var af="ontouchstart"in window,bf=af?"touchmove":"mousemove",cf=af?"touchend":"mouseup";af&&fb(document.getElementsByTagName("html")[0],"hasTouch");function df(){}r=df.prototype;r.init=function(a,b){this.R=a;this.f=b;this.G=a.getContext("2d");this.G.lineWidth=1;this.Pb=n};
r.Jb=function(){var a=this,b=this.R;this.Tb=O(this.R,bf,function(c){c=Ec(c,b);if(a.Pb){a.I={x:c.x,y:c.y};a.G.clearRect(0,0,b.width,b.height);var c=a.I.x-a.j.x,d=a.I.y-a.j.y;a.G.strokeStyle="#000000";a.G.strokeRect(a.j.x+0.5,a.j.y+0.5,c,d);a.G.strokeStyle="#ffffff";0<c&&0<d?a.G.strokeRect(a.j.x+1.5,a.j.y+1.5,c-2,d-2):0<c&&0>d?a.G.strokeRect(a.j.x+1.5,a.j.y-0.5,c-2,d+2):0>c&&0>d?a.G.strokeRect(a.j.x-0.5,a.j.y-0.5,c+2,d+2):a.G.strokeRect(a.j.x-0.5,a.j.y+1.5,c+2,d-2)}});this.Ub=O(b,cf,function(c){var d=
Ec(c,b),f=a.getShape(),c=c.r?c.r:c;a.Pb=n;f?a.f.fireEvent("onSelectionCompleted",{mouseEvent:c,shape:f,viewportBounds:a.getViewportBounds()}):(a.f.fireEvent("onSelectionCanceled"),af&&(c=a.f.ub(d.x,d.y),0<c.length&&a.f.t(c[0])))})};r.Ob=function(){this.Tb&&(P(this.Tb),delete this.Tb);this.Ub&&(P(this.Ub),delete this.Ub)};r.getName=ba("rect_drag");r.getSupportedShapeType=ba("rect");
r.startSelection=function(a,b){var c={x:a,y:b};this.Pb=k;this.Jb(c);this.j=new Ic(a,b);this.f.fireEvent("onSelectionStarted",{offsetX:a,offsetY:b});S(document.body,"-webkit-user-select","none")};r.stopSelection=function(){this.Ob();this.G.clearRect(0,0,this.R.width,this.R.height);S(document.body,"-webkit-user-select","auto");delete this.I};
r.getShape=function(){if(this.I&&3<Math.abs(this.I.x-this.j.x)&&3<Math.abs(this.I.y-this.j.y)){var a=this.getViewportBounds(),b=this.f.Hb({x:a.left,y:a.top}),a=this.f.Hb({x:a.right-1,y:a.bottom-1});return new Nc("rect",new Mc(b.x,b.y,a.x-b.x,a.y-b.y))}};r.getViewportBounds=function(){var a,b;this.I.x>this.j.x?(a=this.I.x,b=this.j.x):(a=this.j.x,b=this.I.x);var c,d;this.I.y>this.j.y?(c=this.j.y,d=this.I.y):(c=this.I.y,d=this.j.y);return{top:c,right:a,bottom:d,left:b}};
r.drawShape=function(a,b,c){if("rect"==b.type){var d;c?(c="#fff000",d=1.2):(c="#ffffff",d=1);b=b.geometry;a.strokeStyle="#000000";a.lineWidth=d;a.strokeRect(b.x+0.5,b.y+0.5,b.width+1,b.height+1);a.strokeStyle=c;a.strokeRect(b.x+1.5,b.y+1.5,b.width-1,b.height-1)}};function ef(a,b){function c(b,c){S(d,"margin-"+b,c+"px");S(a,"margin-"+b,0);S(a,"padding-"+b,0)}this.Z=a;this.Dc={padding:a.style.padding,margin:a.style.margin};this.v=new Dc;this.Ya=[];this.Xb=k;this.element=tb("div","annotorious-annotationlayer");S(this.element,"position","relative");S(this.element,"display","inline-block");var d=this.element,f=wd(a,"margin"),e=wd(a,"padding");(0!=f.top||0!=e.top)&&c("top",f.top+e.top);(0!=f.right||0!=e.right)&&c("right",f.right+e.right);(0!=f.bottom||0!=e.bottom)&&
c("bottom",f.bottom+e.bottom);(0!=f.left||0!=e.left)&&c("left",f.left+e.left);f=td(a);qd(this.element,f.width,f.height);xb(this.element,a);this.element.appendChild(a);this.aa=bd(Ld,{width:f.width,height:f.height});fb(this.aa,"annotorious-item-unfocus");this.element.appendChild(this.aa);this.g=bd(Ld,{width:f.width,height:f.height});V(this.g,n);this.element.appendChild(this.g);this.popup=b?b:new Nd(this);f=new df;f.init(this.g,this);this.Ya.push(f);this.va=f;this.editor=new Ye(this);this.o=new Ad(this.aa,
this.popup,this);this.Qa=new Ze(this,this.element);var h=this;O(this.element,"mouseover",function(a){a=a.relatedTarget;if(!a||!zb(h.element,a))h.v.fireEvent("onMouseOverItem"),jb(h.aa,"annotorious-item-unfocus","annotorious-item-focus")});O(this.element,"mouseout",function(a){a=a.relatedTarget;if(!a||!zb(h.element,a))h.v.fireEvent("onMouseOutOfItem"),jb(h.aa,"annotorious-item-focus","annotorious-item-unfocus")});O(this.aa,"mousedown",function(a){h.Xb&&(V(h.g,k),h.o.t(i),h.va.startSelection(a.offsetX,
a.offsetY))});this.v.k("onSelectionCompleted",function(a){a=a.viewportBounds;h.editor.ra(new Ic(a.left+h.Z.offsetLeft,a.bottom+4+h.Z.offsetTop));h.editor.open()});this.v.k("onSelectionCanceled",function(){V(h.g,n);h.va.stopSelection()})}r=ef.prototype;r.ba=aa();r.A=function(a,b){this.o.A(a,b)};r.k=function(a,b){this.v.k(a,b)};r.ya=function(a){a.init(this,this.g);this.Ya.push(a)};r.eb=function(){var a=this.Z;a.style.margin=this.Dc.margin;a.style.padding=this.Dc.padding;xb(a,this.element)};
r.Kc=function(a){this.o.w(a);var b=Ba(this.Ya,function(b){return b.getSupportedShapeType()==a.shapes[0].type});if(b){V(this.g,k);this.o.t(i);var c=this.g.getContext("2d"),d=a.shapes[0],f=this,d="pixel"==d.units?d:Rc(d,function(a){return f.hb(a)});b.drawShape(c,d)}b=Pc(a.shapes[0]).geometry;b="pixel"==a.shapes[0].units?new Ic(b.x,b.y+b.height):this.hb(new Ic(b.x,b.y+b.height));this.editor.ra(new Ic(b.x+this.Z.offsetLeft,b.y+4+this.Z.offsetTop));this.editor.open(a)};
r.fireEvent=function(a,b){return this.v.fireEvent(a,b)};r.hb=function(a){var b=rd(this.Z);return{x:a.x*b.width,y:a.y*b.height}};r.la=q("va");r.J=function(){return this.o.J()};r.ub=function(a,b){return Da(this.o.ub(a,b))};r.ma=q("Ya");r.getItem=function(){return{src:ff(this.Z)}};function ff(a){var b=a.getAttribute("data-original");return b?b:a.src}r.V=function(){V(this.aa,n)};r.O=function(){this.Xb=n;this.Qa&&(this.Qa.eb(),delete this.Qa)};r.t=function(a){this.o.t(a)};r.w=function(a){this.o.w(a)};
r.Ia=function(a,b){this.v.Ia(a,b)};r.Ja=function(a){(this.va=Ba(this.Ya,function(b){return b.getName()==a}))||console.log('WARNING: selector "'+a+'" not available')};r.sa=function(){V(this.aa,k)};r.X=function(){this.Xb=k;this.Qa||(this.Qa=new Ze(this,this.element))};r.stopSelection=function(a){V(this.g,n);this.va.stopSelection();a&&this.o.A(a)};r.Hb=function(a){var b=rd(this.Z);return{x:a.x/b.width,y:a.y/b.height}};ef.prototype.fireEvent=ef.prototype.fireEvent;ef.prototype.toItemCoordinates=ef.prototype.Hb;function gf(){Vc(this,function(){return M("img.annotatable",document)})}z(gf,Uc);gf.prototype.ec=function(a){return ff(a)};gf.prototype.ed=function(a){return new ef(a)};gf.prototype.uc=function(a){return yb(a)?"IMG"==a.tagName:n};function hf(a){return'<div class="annotorious-opacity-fade" style="white-space:nowrap; position:absolute; pointer-events:none; top:80px; width:100%; text-align:center;"><div class="annotorious-ol-hint" style="width: 400px; margin:0px auto;">'+Hd(a.mc)+"</dvi></div>"};function jf(a,b){this.$=a;this.Sa=td(b.element);this.n=b.popup;S(this.n.element,"z-index",99E3);this.Ta=[];this.Kb=new OpenLayers.Layer.Boxes("Annotorious");this.$.addLayer(this.Kb);var c=this;this.$.events.register("move",this.$,function(){c.wa&&kf(c)});b.k("beforePopupHide",function(){c.Sb==c.wa?Ed(c.n):lf(c,c.Sb,c.wa)})}
function kf(a){var b=a.wa.Ab.div,c=td(b),d=nd(b,a.$.div),b=d.y,d=d.x,f=c.width,e=c.height,c=td(a.n.element),b={y:b+e+5};d+c.width>a.Sa.width?(jb(a.n.element,"top-left","top-right"),b.x=d+f-c.width):(jb(a.n.element,"top-right","top-left"),b.x=d);0>b.x&&(b.x=0);b.x+c.width>a.Sa.width&&(b.x=a.Sa.width-c.width);b.y+c.height>a.Sa.height&&(b.y=a.Sa.height-c.height);a.n.ra(b)}
function lf(a,b,c){b?(nd(b.Ab.div,a.$.div),wa("height"),S(b.Xc,"border-color","#fff000"),a.wa=b,Pd(a.n,b.ja),kf(a),a.n.show()):delete a.wa;c&&S(c.Xc,"border-color","#fff")}
jf.prototype.A=function(a){var b=a.shapes[0].geometry,b=new OpenLayers.Marker.Box(new OpenLayers.Bounds(b.x,b.y,b.x+b.width,b.y+b.height));fb(b.div,"annotorious-ol-boxmarker-outer");S(b.div,"border",m);var c=tb("div","annotorious-ol-boxmarker-inner");qd(c,"100%","100%");b.div.appendChild(c);var d={ja:a,Ab:b,Xc:c},f=this;O(c,"mouseover",function(){f.wa||lf(f,d);f.Sb=d});O(c,"mouseout",function(){delete f.Sb;Cd(f.n)});this.Ta.push(d);B.sort.call(this.Ta,function(a,b){return Oc(b.ja.shapes[0])-Oc(a.ja.shapes[0])}||
Ga);var e=1E4;C(this.Ta,function(a){S(a.Ab.div,"z-index",e);e++});this.Kb.addMarker(b)};jf.prototype.w=function(a){var b=Ba(this.Ta,function(b){return b.ja==a});b&&(E(this.Ta,b),this.Kb.removeMarker(b.Ab))};jf.prototype.J=aa();jf.prototype.t=function(a){a||Cd(this.n)};function mf(a){this.$=a;this.S=a.div;var b=parseInt(T(this.S,"width"),10),c=parseInt(T(this.S,"height"),10);this.v=new Dc;this.element=tb("div","annotorious-annotationlayer");S(this.element,"position","relative");qd(this.element,b,c);xb(this.element,this.S);this.element.appendChild(this.S);this.Wa=bd(hf,{mc:"Click and Drag"});S(this.Wa,"z-index",9998);U(this.Wa,0);this.element.appendChild(this.Wa);this.popup=new Nd(this);this.o=new jf(a,this);this.g=bd(Ld,{width:b,height:c});V(this.g,n);S(this.g,
"z-index",9999);this.element.appendChild(this.g);this.Xa=new df;this.Xa.init(this.g,this);this.qb=i;this.editor=new Ye(this);S(this.editor.element,"z-index",1E4);var d=this;O(this.element,"mouseover",function(a){a=a.relatedTarget;(!a||!zb(d.element,a))&&d.v.fireEvent("onMouseOverItem")});O(this.element,"mouseout",function(a){a=a.relatedTarget;(!a||!zb(d.element,a))&&d.v.fireEvent("onMouseOutOfItem")});O(this.g,"mousedown",function(a){var b=od(d.S);d.Xa.startSelection(a.clientX-b.x,a.clientY-b.y)});
this.v.k("onSelectionCompleted",function(a){S(d.g,"pointer-events","none");a=a.viewportBounds;d.editor.ra(new Ic(a.left+d.S.offsetLeft,a.bottom+4+d.S.offsetTop));d.editor.open()});this.v.k("onSelectionCanceled",function(){d.stopSelection()})}r=mf.prototype;r.X=aa();r.O=aa();r.ba=function(a){S(this.g,"pointer-events","auto");var b=this;V(this.g,k);U(this.Wa,0.8);window.setTimeout(function(){U(b.Wa,0)},2E3);a&&(this.qb=a)};
r.Kc=function(a){this.o.w(a);var b=this.Xa,c=this;if(b){V(this.g,k);this.o.t(i);var d=this.g.getContext("2d"),f=Rc(a.shapes[0],function(a){return c.hb(a)});b.drawShape(d,f);b=Pc(f).geometry;this.editor.ra(new Ic(b.x+this.S.offsetLeft,b.y+b.height+4+this.S.offsetTop));this.editor.open(a)}};r.A=function(a){this.o.A(a)};r.k=function(a,b){this.v.k(a,b)};r.ya=aa();r.fireEvent=function(a,b){return this.v.fireEvent(a,b)};
r.hb=function(a){a=this.$.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x,a.y));return{x:a.x,y:a.y}};r.la=q("Xa");r.J=aa();r.ma=aa();r.getItem=function(){return{src:"map://openlayers/something"}};r.t=function(a){this.o.t(a)};r.w=function(a){this.o.w(a)};r.Ia=function(a,b){this.v.Ia(a,b)};r.Ja=aa();r.stopSelection=function(a){V(this.g,n);this.qb&&(this.qb(),delete this.qb);this.Xa.stopSelection();a&&this.o.A(a)};
r.Hb=function(a){a=this.$.getLonLatFromPixel(new OpenLayers.Pixel(a.x,a.y));return{x:a.lon,y:a.lat}};function nf(){Vc(this)}z(nf,Uc);nf.prototype.ec=ba("map://openlayers/something");nf.prototype.ed=function(a){return new mf(a)};nf.prototype.uc=function(a){return a instanceof OpenLayers.Map};function Z(){function a(){C(b.z,function(a){a.init()});C(b.Ua,function(a){a.initPlugin&&a.initPlugin(b);C(b.z,function(b){b.Zb(a)})})}this.z=[new gf];nf&&this.z.push(new nf);this.Ua=[];var b=this;window.addEventListener?window.addEventListener("load",a,n):window.attachEvent&&window.attachEvent("onload",a)}function $(a,b){return Ba(a.z,function(a){return ad(a,b)})}r=Z.prototype;r.ba=function(a,b){var c=i,d=i;u(a)?(c=a,d=b):y(a)&&(d=a);if(c){var f=$(this,c);f&&f.ba(c,d)}else C(this.z,function(a){a.ba(d)})};
r.A=function(a,b){var c=$(this,a.src);c&&c.A(a,b)};r.k=function(a,b){C(this.z,function(c){c.k(a,b)})};r.Zb=function(a,b){try{this.Ua.push(new window.annotorious.plugin[a](b))}catch(c){console.log("Could not load plugin: "+a)}};r.la=function(a){var b=$(this,a);if(b)return b.la(a)};r.J=function(a){if(a){var b=$(this,a);return b?b.J(a):[]}var c=[];C(this.z,function(a){Ea(c,a.J())});return c};r.ma=function(a){var b=$(this,a);return b?b.ma(a):[]};
r.V=function(a){if(a){var b=$(this,a);b&&b.V(a)}else C(this.z,function(a){a.V()})};r.O=function(a){if(a){var b=$(this,a);b&&b.O(a)}else C(this.z,function(a){a.O()})};r.t=function(a){if(a){var b=$(this,a.src);b&&b.t(a)}else C(this.z,function(a){a.t()})};r.kc=function(a){var b=Ba(this.z,function(b){return b.uc(a)});b?b.kc(a):g("Error: Annotorious does not support this media type in the current version or build configuration.")};r.pc=function(a){var b=this;C(this.J(a),function(a){b.w(a)})};
r.w=function(a){var b=$(this,a.src);b&&b.w(a)};r.reset=function(){C(this.z,function(a){a.eb();a.init()})};r.ya=function(a,b){var c=$(this,a);c&&c.ya(a,b)};r.Ja=function(a,b){var c=$(this,a);c&&c.Ja(a,b)};r.Ed=function(a){a?this.X(i):this.O(i)};r.sa=function(a){if(a){var b=$(this,a);b&&b.sa(a)}else C(this.z,function(a){a.sa()})};r.X=function(a){if(a){var b=$(this,a);b&&b.X(a)}else C(this.z,function(a){a.X()})};window.anno=new Z;Z.prototype.activateSelector=Z.prototype.ba;
Z.prototype.addAnnotation=Z.prototype.A;Z.prototype.addHandler=Z.prototype.k;Z.prototype.addPlugin=Z.prototype.Zb;Z.prototype.getActiveSelector=Z.prototype.la;Z.prototype.getAnnotations=Z.prototype.J;Z.prototype.getAvailableSelectors=Z.prototype.ma;Z.prototype.hideAnnotations=Z.prototype.V;Z.prototype.hideSelectionWidget=Z.prototype.O;Z.prototype.highlightAnnotation=Z.prototype.t;Z.prototype.makeAnnotatable=Z.prototype.kc;Z.prototype.removeAll=Z.prototype.pc;Z.prototype.removeAnnotation=Z.prototype.w;
Z.prototype.reset=Z.prototype.reset;Z.prototype.setActiveSelector=Z.prototype.Ja;Z.prototype.showAnnotations=Z.prototype.sa;Z.prototype.showSelectionWidget=Z.prototype.X;Z.prototype.addSelector=Z.prototype.ya;Z.prototype.setSelectionEnabled=Z.prototype.Ed;window.annotorious||(window.annotorious={});window.annotorious.plugin||(window.annotorious.plugin={});
