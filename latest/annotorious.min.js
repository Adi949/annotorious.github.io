var h=void 0,k=!0,l=null,m=!1;function n(){return function(){}}function aa(a){return function(){return this[a]}}function ba(a){return function(){return a}}var p,r=this;function ca(a,b){var c=a.split("."),d=r;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&b!==h?d[f]=b:d=d[f]?d[f]:d[f]={}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function t(a){return"string"==typeof a}function u(a){return"function"==da(a)}function ga(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}var ha="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ia=0;function ja(a,b,c){return a.call.apply(a.bind,arguments)}
function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function la(a,b,c){la=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return la.apply(l,arguments)}
function ma(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}function na(a,b){function c(){}c.prototype=b.prototype;a.dc=b.prototype;a.prototype=new c;a.prototype.constructor=a};function oa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function pa(a){if(!qa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ra,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(sa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ta,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ua,"&quot;"));return a}var ra=/&/g,sa=/</g,ta=/>/g,ua=/\"/g,qa=/[&<>\"]/;function va(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var x=Array.prototype,wa=x.indexOf?function(a,b,c){return x.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:0>c?Math.max(0,a.length+c):c;if(t(a))return!t(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},y=x.forEach?function(a,b,c){x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=t(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},xa=x.filter?function(a,b,c){return x.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],e=0,g=t(a)?a.split(""):
a,j=0;j<d;j++)if(j in g){var i=g[j];b.call(c,i,j,a)&&(f[e++]=i)}return f},ya=x.map?function(a,b,c){return x.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),e=t(a)?a.split(""):a,g=0;g<d;g++)g in e&&(f[g]=b.call(c,e[g],g,a));return f};function B(a,b){var c;a:{c=a.length;for(var d=t(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(h,d[f],f,a)){c=f;break a}c=-1}return 0>c?l:t(a)?a.charAt(c):a[c]}function C(a,b){var c=wa(a,b);0<=c&&x.splice.call(a,c,1)}
function za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Aa(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(ea(d)||(f=fa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var e=a.length,g=d.length,j=0;j<g;j++)a[e+j]=d[j];else a.push(d)}}function Ba(a,b,c){return 2>=arguments.length?x.slice.call(a,b):x.slice.call(a,b,c)}function Ca(a,b){return a>b?1:a<b?-1:0};var Da,Ea,Fa,Ga,Ha;function Ia(){return r.navigator?r.navigator.userAgent:l}function Ja(){return r.navigator}Ga=Fa=Ea=Da=m;var Ka;if(Ka=Ia()){var La=Ja();Da=0==Ka.indexOf("Opera");Ea=!Da&&-1!=Ka.indexOf("MSIE");Fa=!Da&&-1!=Ka.indexOf("WebKit");Ga=!Da&&!Fa&&"Gecko"==La.product}var D=Da,E=Ea,F=Ga,H=Fa,Ma=Ja();Ha=-1!=(Ma&&Ma.platform||"").indexOf("Mac");var Na=!!Ja()&&-1!=(Ja().appVersion||"").indexOf("X11"),Oa;
a:{var Pa="",Qa;if(D&&r.opera)var Ra=r.opera.version,Pa="function"==typeof Ra?Ra():Ra;else if(F?Qa=/rv\:([^\);]+)(\)|;)/:E?Qa=/MSIE\s+([^\);]+)(\)|;)/:H&&(Qa=/WebKit\/(\S+)/),Qa)var Sa=Qa.exec(Ia()),Pa=Sa?Sa[1]:"";if(E){var Ta,Ua=r.document;Ta=Ua?Ua.documentMode:h;if(Ta>parseFloat(Pa)){Oa=String(Ta);break a}}Oa=Pa}var Va={};
function I(a){var b;if(!(b=Va[a])){b=0;for(var c=oa(String(Oa)).split("."),d=oa(String(a)).split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var g=c[e]||"",j=d[e]||"",i=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var v=i.exec(g)||["","",""],w=q.exec(j)||["","",""];if(0==v[0].length&&0==w[0].length)break;b=((0==v[1].length?0:parseInt(v[1],10))<(0==w[1].length?0:parseInt(w[1],10))?-1:(0==v[1].length?0:parseInt(v[1],10))>(0==w[1].length?0:parseInt(w[1],10))?1:0)||((0==v[2].length)<
(0==w[2].length)?-1:(0==v[2].length)>(0==w[2].length)?1:0)||(v[2]<w[2]?-1:v[2]>w[2]?1:0)}while(0==b)}b=Va[a]=0<=b}return b}var Wa={};function Xa(a){return Wa[a]||(Wa[a]=E&&!!document.documentMode&&document.documentMode>=a)};var Ya,Za=!E||Xa(9);!F&&!E||E&&Xa(9)||F&&I("1.9.1");E&&I("9");var $a=E||D||H;function ab(a){a=a.className;return t(a)&&a.match(/\S+/g)||[]}function bb(a,b){var c=ab(a),d=Ba(arguments,1),f=c.length+d.length;cb(c,d);a.className=c.join(" ");return c.length==f}function db(a,b){var c=ab(a),d=Ba(arguments,1),c=eb(c,d);a.className=c.join(" ")}function cb(a,b){for(var c=0;c<b.length;c++)0<=wa(a,b[c])||a.push(b[c])}function eb(a,b){return xa(a,function(a){return!(0<=wa(b,a))})}
function fb(a,b,c){var d=ab(a);t(b)?C(d,b):ea(b)&&(d=eb(d,b));t(c)&&!(0<=wa(d,c))?d.push(c):ea(c)&&cb(d,c);a.className=d.join(" ")};function K(a,b){this.x=a!==h?a:0;this.y=b!==h?b:0};function gb(a,b){this.width=a;this.height=b}gb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};gb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function hb(a,b){for(var c in a)b.call(h,a[c],c,a)}var ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<ib.length;e++)c=ib[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function kb(a){return a?new lb(mb(a)):Ya||(Ya=new lb)}var nb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ob(a){var b=!H?a.documentElement:a.body,a=a.parentWindow||a.defaultView;return new K(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}
function pb(a,b,c){var d=arguments,f=document,e=d[0],g=d[1];if(!Za&&g&&(g.name||g.type)){e=["<",e];g.name&&e.push(' name="',pa(g.name),'"');if(g.type){e.push(' type="',pa(g.type),'"');var j={};jb(j,g);delete j.type;g=j}e.push(">");e=e.join("")}e=f.createElement(e);if(g)if(t(g))e.className=g;else if(ea(g))bb.apply(l,[e].concat(g));else{var i=e;hb(g,function(a,b){"style"==b?i.style.cssText=a:"class"==b?i.className=a:"for"==b?i.htmlFor=a:b in nb?i.setAttribute(nb[b],a):0==b.lastIndexOf("aria-",0)||0==
b.lastIndexOf("data-",0)?i.setAttribute(b,a):i[b]=a})}2<d.length&&qb(f,e,d,2);return e}function qb(a,b,c,d){function f(c){c&&b.appendChild(t(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var e=c[d];if(fa(e)&&!(ga(e)&&0<e.nodeType)){var g;a:{if(e&&"number"==typeof e.length){if(ga(e)){g="function"==typeof e.item||"string"==typeof e.item;break a}if(u(e)){g="function"==typeof e.item;break a}}g=m}y(g?za(e):e,f)}else f(e)}}function rb(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function sb(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function tb(a){return ga(a)&&1==a.nodeType}function ub(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function mb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function lb(a){this.Da=a||r.document||document}p=lb.prototype;p.createElement=function(a){return this.Da.createElement(a)};
p.createTextNode=function(a){return this.Da.createTextNode(a)};p.appendChild=function(a,b){a.appendChild(b)};p.append=function(a,b){qb(mb(a),a,arguments,1)};p.contains=ub;var vb;vb=ba(k);/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

The "New" BSD License:

Copyright (c) 2005-2009, The Dojo Foundation
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
    may be used to endorse or promote products derived from this software
    without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
function wb(a,b){var c=b||[];a&&c.push(a);return c}var xb=H&&"BackCompat"==document.compatMode,yb=document.firstChild.children?"children":"childNodes",zb=m;
function Ab(a){function b(){0<=q&&(s.id=c(q,z).replace(/\\/g,""),q=-1);if(0<=v){var a=v==z?l:c(v,z);0>">~+".indexOf(a)?s.z=a:s.Qa=a;v=-1}0<=i&&(s.L.push(c(i+1,z).replace(/\\/g,"")),i=-1)}function c(b,c){return oa(a.slice(b,c))}for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",d=[],f=-1,e=-1,g=-1,j=-1,i=-1,q=-1,v=-1,w="",A="",J,z=0,vd=a.length,s=l,G=l;w=A,A=a.charAt(z),z<vd;z++)if("\\"!=w)if(s||(J=z,s={la:l,Z:[],Ia:[],L:[],z:l,Qa:l,id:l,mb:function(){return zb?this.Zb:this.z}},v=z),0<=f)if("]"==
A){G.jb?G.ob=c(g||f+1,z):G.jb=c(f+1,z);if((f=G.ob)&&('"'==f.charAt(0)||"'"==f.charAt(0)))G.ob=f.slice(1,-1);s.Ia.push(G);G=l;f=g=-1}else"="==A&&(g=0<="|~^$*".indexOf(w)?w:"",G.type=g+A,G.jb=c(f+1,z-g.length),g=z+1);else 0<=e?")"==A&&(0<=j&&(G.value=c(e+1,z)),j=e=-1):"#"==A?(b(),q=z+1):"."==A?(b(),i=z):":"==A?(b(),j=z):"["==A?(b(),f=z,G={}):"("==A?(0<=j&&(G={name:c(j+1,z),value:l},s.Z.push(G)),e=z):" "==A&&w!=A&&(b(),0<=j&&s.Z.push({name:c(j+1,z)}),s.Kb=s.Z.length||s.Ia.length||s.L.length,s.kc=s.la=
c(J,z),s.Zb=s.z=s.Qa?l:s.z||"*",s.z&&(s.z=s.z.toUpperCase()),d.length&&d[d.length-1].Qa&&(s.Hb=d.pop(),s.la=s.Hb.la+" "+s.la),d.push(s),s=l);return d}function Bb(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}}function Cb(a){return 1==a.nodeType}function Db(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(zb?a.getAttribute(b):a.getAttribute(b,2))||""}
var Eb={"*=":function(a,b){return function(c){return 0<=Db(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==Db(c,a).indexOf(b)}},"$=":function(a,b){return function(c){c=" "+Db(c,a);return c.lastIndexOf(b)==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+Db(b,a)+" ").indexOf(c)}},"|=":function(a,b){b=" "+b;return function(c){c=" "+Db(c,a);return c==b||0==c.indexOf(b+"-")}},"=":function(a,b){return function(c){return Db(c,a)==b}}},Fb="undefined"==
typeof document.firstChild.nextElementSibling,Gb=!Fb?"nextElementSibling":"nextSibling",Hb=!Fb?"previousElementSibling":"previousSibling",Ib=Fb?Cb:vb;function Jb(a){for(;a=a[Hb];)if(Ib(a))return m;return k}function Kb(a){for(;a=a[Gb];)if(Ib(a))return m;return k}function Lb(a){var b=a.parentNode,c=0,d=b[yb],f=a._i||-1,e=b._l||-1;if(!d)return-1;d=d.length;if(e==d&&0<=f&&0<=e)return f;b._l=d;f=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[Gb])Ib(b)&&(b._i=++c,a===b&&(f=c));return f}
function Mb(a){return!(Lb(a)%2)}function Nb(a){return Lb(a)%2}
var Pb={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return Jb},"last-child":function(){return Kb},"only-child":function(){return function(a){return!Jb(a)||!Kb(a)?m:k}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return m}return k}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},
not:function(a,b){var c=Ab(b)[0],d={w:1};"*"!=c.z&&(d.z=1);c.L.length||(d.L=1);var f=Ob(c,d);return function(a){return!f(a)}},"nth-child":function(a,b){if("odd"==b)return Nb;if("even"==b)return Mb;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:parseInt(c[0],10):1,f=c[1]?parseInt(c[1],10):0,e=0,g=-1;0<d?0>f?f=f%d&&d+f%d:0<f&&(f>=d&&(e=f-f%d),f%=d):0>d&&(d*=-1,0<f&&(g=f,f%=d));if(0<d)return function(a){a=Lb(a);return a>=e&&(0>g||a<=g)&&a%d==f};b=f}var j=parseInt(b,10);return function(a){return Lb(a)==
j}}},Qb=E?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return zb?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}};
function Ob(a,b){if(!a)return vb;var b=b||{},c=l;b.w||(c=Bb(c,Cb));b.z||"*"!=a.z&&(c=Bb(c,function(b){return b&&b.tagName==a.mb()}));b.L||y(a.L,function(a,b){var e=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=Bb(c,function(a){return e.test(a.className)});c.count=b});b.Z||y(a.Z,function(a){var b=a.name;Pb[b]&&(c=Bb(c,Pb[b](b,a.value)))});b.Ia||y(a.Ia,function(a){var b,e=a.jb;a.type&&Eb[a.type]?b=Eb[a.type](e,a.ob):e.length&&(b=Qb(e));b&&(c=Bb(c,b))});b.id||a.id&&(c=Bb(c,function(b){return!!b&&b.id==a.id}));
c||"default"in b||(c=vb);return c}var Rb={};
function Sb(a){var b=Rb[a.la];if(b)return b;var c=a.Hb,c=c?c.Qa:"",d=Ob(a,{w:1}),f="*"==a.z,e=document.getElementsByClassName;if(c)if(e={w:1},f&&(e.z=1),d=Ob(a,e),"+"==c)var g=d,b=function(a,b,c){for(;a=a[Gb];)if(!Fb||Cb(a)){(!c||Tb(a,c))&&g(a)&&b.push(a);break}return b};else if("~"==c)var j=d,b=function(a,b,c){for(a=a[Gb];a;){if(Ib(a)){if(c&&!Tb(a,c))break;j(a)&&b.push(a)}a=a[Gb]}return b};else{if(">"==c)var i=d,i=i||vb,b=function(a,b,c){for(var d=0,f=a[yb];a=f[d++];)Ib(a)&&((!c||Tb(a,c))&&i(a,d))&&
b.push(a);return b}}else if(a.id)d=!a.Kb&&f?vb:Ob(a,{w:1,id:1}),b=function(b,c){var f;f=kb(b);var e=a.id;if(e=(f=t(e)?f.Da.getElementById(e):e)&&d(f))if(!(e=9==b.nodeType)){for(e=f.parentNode;e&&e!=b;)e=e.parentNode;e=!!e}if(e)return wb(f,c)};else if(e&&/\{\s*\[native code\]\s*\}/.test(String(e))&&a.L.length&&!xb)var d=Ob(a,{w:1,L:1,id:1}),q=a.L.join(" "),b=function(a,b){for(var c=wb(0,b),f,e=0,g=a.getElementsByClassName(q);f=g[e++];)d(f,a)&&c.push(f);return c};else!f&&!a.Kb?b=function(b,c){for(var d=
wb(0,c),f,e=0,g=b.getElementsByTagName(a.mb());f=g[e++];)d.push(f);return d}:(d=Ob(a,{w:1,z:1,id:1}),b=function(b,c){for(var f=wb(0,c),e,g=0,j=b.getElementsByTagName(a.mb());e=j[g++];)d(e,b)&&f.push(e);return f});return Rb[a.la]=b}var Ub={},Vb={};
function Wb(a){var b=Ab(oa(a));if(1==b.length){var c=Sb(b[0]);return function(a){if(a=c(a,[]))a.Pa=k;return a}}return function(a){for(var a=wb(a),c,e,g=b.length,j,i,q=0;q<g;q++){i=[];c=b[q];e=a.length-1;0<e&&(j={},i.Pa=k);e=Sb(c);for(var v=0;c=a[v];v++)e(c,i,j);if(!i.length)break;a=i}return i}}var Xb=!!document.querySelectorAll&&(!H||I("526"));
function Yb(a,b){if(Xb){var c=Vb[a];if(c&&!b)return c}if(c=Ub[a])return c;var c=a.charAt(0),d=-1==a.indexOf(" ");0<=a.indexOf("#")&&d&&(b=k);if(Xb&&!b&&-1==">~+".indexOf(c)&&(!E||-1==a.indexOf(":"))&&!(xb&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf("|=")){var f=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return Vb[a]=function(b){try{if(!(9==b.nodeType||d))throw"";var c=b.querySelectorAll(f);E?c.Vb=k:c.Pa=k;return c}catch(e){return Yb(a,k)(b)}}}var e=a.split(/\s*,\s*/);return Ub[a]=
2>e.length?Wb(a):function(a){for(var b=0,c=[],d;d=e[b++];)c=c.concat(Wb(d)(a));return c}}var L=0,Zb=E?function(a){return zb?a.getAttribute("_uid")||a.setAttribute("_uid",++L)||L:a.uniqueID}:function(a){return a._uid||(a._uid=++L)};function Tb(a,b){if(!b)return 1;var c=Zb(a);return!b[c]?b[c]=1:0}
function $b(a){if(a&&a.Pa)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;L++;if(E&&zb){var c=L+"";a[0].setAttribute("_zipIdx",c);for(var d=1,f;f=a[d];d++)a[d].getAttribute("_zipIdx")!=c&&b.push(f),f.setAttribute("_zipIdx",c)}else if(E&&a.Vb)try{for(d=1;f=a[d];d++)Cb(f)&&b.push(f)}catch(e){}else{a[0]&&(a[0]._zipIdx=L);for(d=1;f=a[d];d++)a[d]._zipIdx!=L&&b.push(f),f._zipIdx=L}return b}
function M(a,b){if(!a)return[];if(a.constructor==Array)return a;if(!t(a))return[a];if(t(b)&&(b=t(b)?document.getElementById(b):b,!b))return[];var b=b||document,c=b.ownerDocument||b.documentElement;zb=b.contentType&&"application/xml"==b.contentType||D&&(b.doctype||"[object XMLDocument]"==c.toString())||!!c&&(E?c.xml:b.xmlVersion||c.xmlVersion);return(c=Yb(a)(b))&&c.Pa?c:$b(c)}M.Z=Pb;ca("goog.dom.query",M);ca("goog.dom.query.pseudos",M.Z);function ac(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}};!E||Xa(9);var bc=!E||Xa(9),cc=E&&!I("9");!H||I("528");F&&I("1.9b")||E&&I("8")||D&&I("9.5")||H&&I("528");F&&!I("8")||E&&I("9");function dc(a,b){this.type=a;this.currentTarget=this.target=b}dc.prototype.qb=m;dc.prototype.defaultPrevented=m;dc.prototype.bc=k;dc.prototype.preventDefault=function(){this.defaultPrevented=k;this.bc=m};function ec(a){ec[" "](a);return a}ec[" "]=n();function fc(a,b){a&&this.init(a,b)}na(fc,dc);p=fc.prototype;p.target=l;p.relatedTarget=l;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=m;p.altKey=m;p.shiftKey=m;p.metaKey=m;p.$b=m;p.H=l;
p.init=function(a,b){var c=this.type=a.type;dc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(F){var f;a:{try{ec(d.nodeName);f=k;break a}catch(e){}f=m}f||(d=l)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=H||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=H||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.$b=Ha?a.metaKey:a.ctrlKey;this.state=a.state;this.H=a;a.defaultPrevented&&this.preventDefault();delete this.qb};
p.preventDefault=function(){fc.dc.preventDefault.call(this);var a=this.H;if(a.preventDefault)a.preventDefault();else if(a.returnValue=m,cc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};p.Xb=aa("H");function gc(){}var hc=0;p=gc.prototype;p.key=0;p.na=m;p.Cb=m;p.init=function(a,b,c,d,f,e){if(u(a))this.Jb=k;else if(a&&a.handleEvent&&u(a.handleEvent))this.Jb=m;else throw Error("Invalid listener argument");this.La=a;this.Nb=b;this.src=c;this.type=d;this.capture=!!f;this.Ka=e;this.Cb=m;this.key=++hc;this.na=m};p.handleEvent=function(a){return this.Jb?this.La.call(this.Ka||this.src,a):this.La.handleEvent.call(this.La,a)};var ic={},N={},jc={},kc={};
function O(a,b,c,d,f){if(b){if(ea(b)){for(var e=0;e<b.length;e++)O(a,b[e],c,d,f);return l}var d=!!d,g=N;b in g||(g[b]={l:0,$:0});g=g[b];d in g||(g[d]={l:0,$:0},g.l++);var g=g[d],j=a[ha]||(a[ha]=++ia),i;g.$++;if(g[j]){i=g[j];for(e=0;e<i.length;e++)if(g=i[e],g.La==c&&g.Ka==f){if(g.na)break;return i[e].key}}else i=g[j]=[],g.l++;var q=lc,v=bc?function(a){return q.call(v.src,v.key,a)}:function(a){a=q.call(v.src,v.key,a);if(!a)return a},e=v;e.src=a;g=new gc;g.init(c,e,a,b,d,f);c=g.key;e.key=c;i.push(g);
ic[c]=g;jc[j]||(jc[j]=[]);jc[j].push(g);a.addEventListener?(a==r||!a.Wb)&&a.addEventListener(b,e,d):a.attachEvent(b in kc?kc[b]:kc[b]="on"+b,e);return c}throw Error("Invalid event type");}
function mc(a){if(ic[a]){var b=ic[a];if(!b.na){var c=b.src,d=b.type,f=b.Nb,e=b.capture;c.removeEventListener?(c==r||!c.Wb)&&c.removeEventListener(d,f,e):c.detachEvent&&c.detachEvent(d in kc?kc[d]:kc[d]="on"+d,f);c=c[ha]||(c[ha]=++ia);jc[c]&&(f=jc[c],C(f,b),0==f.length&&delete jc[c]);b.na=k;if(b=N[d][e][c])b.Lb=k,nc(d,e,c,b);delete ic[a]}}}
function nc(a,b,c,d){if(!d.Ma&&d.Lb){for(var f=0,e=0;f<d.length;f++)d[f].na?d[f].Nb.src=l:(f!=e&&(d[e]=d[f]),e++);d.length=e;d.Lb=m;0==e&&(delete N[a][b][c],N[a][b].l--,0==N[a][b].l&&(delete N[a][b],N[a].l--),0==N[a].l&&delete N[a])}}function oc(a,b,c,d,f){var e=1,b=b[ha]||(b[ha]=++ia);if(a[b]){a.$--;a=a[b];a.Ma?a.Ma++:a.Ma=1;try{for(var g=a.length,j=0;j<g;j++){var i=a[j];i&&!i.na&&(e&=pc(i,f)!==m)}}finally{a.Ma--,nc(c,d,b,a)}}return Boolean(e)}
function pc(a,b){a.Cb&&mc(a.key);return a.handleEvent(b)}
function lc(a,b){if(!ic[a])return k;var c=ic[a],d=c.type,f=N;if(!(d in f))return k;var f=f[d],e,g;if(!bc){var j;if(!(j=b))a:{j=["window","event"];for(var i=r;e=j.shift();)if(i[e]!=l)i=i[e];else{j=l;break a}j=i}e=j;j=k in f;i=m in f;if(j){if(0>e.keyCode||e.returnValue!=h)return k;a:{var q=m;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(v){q=k}if(q||e.returnValue==h)e.returnValue=k}}q=new fc;q.init(e,this);e=k;try{if(j){for(var w=[],A=q.currentTarget;A;A=A.parentNode)w.push(A);g=f[k];g.$=g.l;for(var J=
w.length-1;!q.qb&&0<=J&&g.$;J--)q.currentTarget=w[J],e&=oc(g,w[J],d,k,q);if(i){g=f[m];g.$=g.l;for(J=0;!q.qb&&J<w.length&&g.$;J++)q.currentTarget=w[J],e&=oc(g,w[J],d,m,q)}}else e=pc(c,q)}finally{w&&(w.length=0)}return e}d=new fc(b,this);return e=pc(c,d)};function qc(){this.sa=[]}function rc(a,b){var c=m;return c=!a.offsetX||!a.offsetY&&a.H.changedTouches?{x:a.H.changedTouches[0].clientX-ac(b).left,y:a.H.changedTouches[0].clientY-ac(b).top}:{x:a.offsetX,y:a.offsetY}}qc.prototype.h=function(a,b){this.sa[a]||(this.sa[a]=[]);this.sa[a].push(b)};qc.prototype.ma=function(a,b){var c=this.sa[a];c&&C(c,b)};qc.prototype.fireEvent=function(a,b){var c=m,d=this.sa[a];d&&y(d,function(a){a=a(b);a!==h&&!a&&(c=k)});return c};function sc(a,b){this.I={};this.n=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var f;if(a instanceof sc)tc(a),f=a.n.concat(),d=P(a);else{var c=[],e=0;for(f in a)c[e++]=f;f=c;c=[];e=0;for(d in a)c[e++]=a[d];d=c}for(c=0;c<f.length;c++)this.set(f[c],d[c])}}p=sc.prototype;p.l=0;p.sb=0;function P(a){tc(a);for(var b=[],c=0;c<a.n.length;c++)b.push(a.I[a.n[c]]);return b}
p.clear=function(){this.I={};this.sb=this.l=this.n.length=0};p.remove=function(a){return uc(this.I,a)?(delete this.I[a],this.l--,this.sb++,this.n.length>2*this.l&&tc(this),k):m};function tc(a){if(a.l!=a.n.length){for(var b=0,c=0;b<a.n.length;){var d=a.n[b];uc(a.I,d)&&(a.n[c++]=d);b++}a.n.length=c}if(a.l!=a.n.length){for(var f={},c=b=0;b<a.n.length;)d=a.n[b],uc(f,d)||(a.n[c++]=d,f[d]=1),b++;a.n.length=c}}p.get=function(a,b){return uc(this.I,a)?this.I[a]:b};
p.set=function(a,b){uc(this.I,a)||(this.l++,this.n.push(a),this.sb++);this.I[a]=b};function uc(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Q(a,b){this.x=a;this.y=b};function vc(a){this.points=a}function wc(a){for(var b=0,c=a.length-1,d=0;d<a.length;d++)b+=(a[c].x+a[d].x)*(a[c].y-a[d].y),c=d;return b/2}
function xc(a,b){for(var c,d=c=0,f,e=a.length-1,g=0;g<a.length;g++)f=a[g].x*a[e].y-a[e].x*a[g].y,c+=(a[g].x+a[e].x)*f,d+=(a[g].y+a[e].y)*f,e=g;f=6*wc(a);c=new Q(Math.abs(c/f),Math.abs(d/f));d=[];for(f=0;f<a.length;f++){var e=a[f],j=(0>wc(a)?-1:1)*b,g=e.x-c.x,i=e.y-c.y,q=0<j?1:0>j?-1:0,j=Math.sqrt(Math.pow(j,2)/(1+Math.pow(g/i,2)));d.push({x:e.x+Math.abs(g/i*j)*(0<g?1:0>g?-1:0)*q,y:e.y+Math.abs(j)*(0<i?1:0>i?-1:0)*q})}return d};function yc(a,b,c,d){0<c?(this.x=a,this.width=c):(this.x=a+c,this.width=-c);0<d?(this.y=b,this.height=d):(this.y=b+d,this.height=-d)};function zc(a,b){this.type=a;this.geometry=b}function Ac(a){return"rect"==a.type?a.geometry.width*a.geometry.height:"polygon"==a.type?Math.abs(wc(a.geometry.points)):0}function Bc(a){if("rect"==a.type)return a;if("polygon"==a.type){for(var a=a.geometry.points,b=a[0].x,c=a[0].x,d=a[0].y,f=a[0].y,e=1;e<a.length;e++)a[e].x>c&&(c=a[e].x),a[e].x<b&&(b=a[e].x),a[e].y>f&&(f=a[e].y),a[e].y<d&&(d=a[e].y);return new zc("rect",new yc(b,d,c-b,f-d))}}
function Cc(a,b){var c;c=a.geometry.points;var d=0>wc(c)?-1:1;if(4>c.length)c=xc(c,d*b);else{for(var f=c.length-1,e=1,g=[],j=0;j<c.length;j++)f=xc([c[f],c[j],c[e]],d*b),g.push(f[1]),f=j,e++,e>c.length-1&&(e=0);c=g}return new zc("polygon",new vc(c))}
function Dc(a,b){if("rect"==a.type){var c=a.geometry,d=b({x:c.x,y:c.y}),c=b({x:c.x+c.width,y:c.y+c.height});return new zc("rect",new yc(d.x,d.y,c.x-d.x,c.y-d.y))}if("polygon"==a.type){var f=[];y(a.geometry.points,function(a){f.push(b(a))});return new zc("polygon",new vc(f))}}function Ec(a){return JSON.stringify(a.geometry)}window.annotorious||(window.annotorious={});window.annotorious.geometry||(window.annotorious.geometry={},window.annotorious.geometry.expand=Cc);function Fc(a,b,c){this.src=a;this.text=b;this.shapes=[c];this.context=document.URL};function Gc(){}function Hc(a,b){a.c=new sc;a.ub=[];a.xa=[];a.ua=[];a.da=[];a.Ua=[];a.Fa={ka:m,ja:m};a.pa=new sc;a.Bb=b}function Ic(a,b){var c=a.pa(b);c||(c={ka:m,ja:m},c.set(b,c));return c}
function Jc(a,b){var c=a.lb(b);if(!a.c.get(c)){var d=a.Mb(b),f=[],e=[];y(a.ub,function(a){d.h(a.type,a.Ka)});y(a.xa,function(a){if(a.onInitAnnotator)a.onInitAnnotator(d)});y(a.da,function(a){a.src==c&&(d.v(a),f.push(a))});y(a.Ua,function(a){a.src==c&&(d.r(a),e.push(a))});y(f,function(b){C(a.da,b)});y(e,function(b){C(a.Ua,b)});var g=a.pa.get(c);g?(g.ka&&d.G(),g.ja&&d.M(),a.pa.remove(c)):(a.Fa.ka&&d.G(),a.Fa.ja&&d.M());a.c.set(c,d);C(a.ua,b)}}
function Kc(a){y(a.ua,function(b){for(var c=b,d=c.offsetTop,f=c.offsetLeft,e=c.offsetWidth,g=c.offsetHeight;c.offsetParent;)c=c.offsetParent,d+=c.offsetTop,f+=c.offsetLeft;d<window.pageYOffset+window.innerHeight&&(f<window.pageXOffset+window.innerWidth&&d+g>window.pageYOffset&&f+e>window.pageXOffset)&&Jc(a,b)})}function Lc(a,b,c){if(b){var d=a.c.get(b);d?c?d.ba():d.M():Ic(a,b).ja=c}else y(P(a.c),function(a){c?a.ba():a.M()}),a.Fa.ja=c,y(P(a.pa),function(a){a.ja=c})}
function Mc(a,b,c){if(b){var d=a.c.get(b);d?c?d.N():d.G():Ic(a,b).ka=c}else y(P(a.c),function(a){c?a.N():a.G()}),a.Fa.ka=c,y(P(a.pa),function(a){a.ka=c})}p=Gc.prototype;p.S=function(a,b){var c=h,d=h;t(a)?(c=a,d=b):u(a)&&(d=a);c?(c=this.c.get(c))&&c.S(d):y(P(this.c),function(a){a.S(d)})};p.v=function(a,b){if(R(this,a.src)){var c=this.c.get(a.src);c?c.v(a,b):(this.da.push(a),b&&C(this.da,b))}};p.h=function(a,b){y(P(this.c),function(c){c.h(a,b)});this.ub.push({type:a,Ka:b})};
p.ib=function(a){this.xa.push(a);y(P(this.c),function(b){if(a.onInitAnnotator)a.onInitAnnotator(b)})};p.ia=function(a,b){if(R(this,a)){var c=this.c.get(a);c&&c.ia(b)}};function R(a,b){return uc(a.c.I,b)?k:B(a.ua,function(c){return a.lb(c)==b})!=l}p.Ca=function(){y(P(this.c),function(a){a.Ca()});this.c.clear()};p.X=function(a){if(R(this,a)&&(a=this.c.get(a)))return a.X().getName()};
p.C=function(a){if(a){var b=this.c.get(a);return b?b.C():xa(this.da,function(b){return b.src==a})}var c=[];y(P(this.c),function(a){Aa(c,a.C())});Aa(c,this.da);return c};p.Y=function(a){if(R(this,a)&&(a=this.c.get(a)))return ya(a.Y(),function(a){return a.getName()})};p.M=function(a){Lc(this,a,m)};p.G=function(a){Mc(this,a,m)};p.m=function(a){if(a){if(R(this,a.src)){var b=this.c.get(a.src);b&&b.m(a)}}else y(P(this.c),function(a){a.m()})};
p.init=function(){this.Bb&&Aa(this.ua,this.Bb());Kc(this);var a=this,b=O(window,"scroll",function(){0<a.ua.length?Kc(a):mc(b)})};p.nb=function(a){this.rb(a)&&Jc(this,a)};p.r=function(a){if(R(this,a.src)){var b=this.c.get(a.src);b?b.r(a):this.Ua.push(a)}};p.oa=function(a,b){if(R(this,a)){var c=this.c.get(a);c&&c.oa(b)}};p.ba=function(a){Lc(this,a,k)};p.N=function(a){Mc(this,a,k)};function S(a,b){var c=kb().createElement("DIV");c.innerHTML=a(b||Nc,h,h);if(1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType)return d}return c}var Nc={};function Oc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Oc.prototype.contains=function(a){return!this||!a?m:a instanceof Oc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function Pc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Pc.prototype.contains=function(a){return a instanceof Pc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function T(a,b,c){t(b)?Qc(a,c,b):hb(b,ma(Qc,a))}function Qc(a,b,c){a.style[va(c)]=b}function U(a,b){var c=mb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,l))?c[b]||c.getPropertyValue(b)||"":""}function V(a,b){return U(a,b)||(a.currentStyle?a.currentStyle[b]:l)||a.style&&a.style[b]}function Rc(a,b,c){var d,f=F&&(Ha||Na)&&I("1.9");b instanceof K?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Sc(d,f);a.style.top=Sc(b,f)}
function Tc(a){var b=a.getBoundingClientRect();E&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Uc(a){if(E&&!Xa(8))return a.offsetParent;for(var b=mb(a),c=V(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=V(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return l}
function Vc(a){var b,c=mb(a),d=V(a,"position"),f=F&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),e=new K(0,0),g;b=c?mb(c):document;if(g=E)if(g=!Xa(9))kb(b),g=m;g=g?b.body:b.documentElement;if(a==g)return e;if(a.getBoundingClientRect)b=Tc(a),a=kb(c),a=ob(a.Da),e.x=b.left+a.x,e.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(g),e.x=b.screenX-a.screenX,e.y=b.screenY-a.screenY;else{b=a;do{e.x+=b.offsetLeft;
e.y+=b.offsetTop;b!=a&&(e.x+=b.clientLeft||0,e.y+=b.clientTop||0);if(H&&"fixed"==V(b,"position")){e.x+=c.body.scrollLeft;e.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(D||H&&"absolute"==d)e.y-=c.body.offsetTop;for(b=a;(b=Uc(b))&&b!=c.body&&b!=g;)if(e.x-=b.scrollLeft,!D||"TR"!=b.tagName)e.y-=b.scrollTop}return e}function Wc(a,b){var c=Xc(a),d=Xc(b);return new K(c.x-d.x,c.y-d.y)}
function Xc(a){var b=new K;if(1==a.nodeType){if(a.getBoundingClientRect){var c=Tc(a);b.x=c.left;b.y=c.top}else{var c=kb(a),c=ob(c.Da),d=Vc(a);b.x=d.x-c.x;b.y=d.y-c.y}if(F&&!I(12)){var f;E?f="-ms-transform":H?f="-webkit-transform":D?f="-o-transform":F&&(f="-moz-transform");var e;f&&(e=V(a,f));e||(e=V(a,"transform"));e?(a=e.match(Yc),a=!a?new K(0,0):new K(parseFloat(a[1]),parseFloat(a[2]))):a=new K(0,0);b=new K(b.x+a.x,b.y+a.y)}}else f=u(a.Xb),e=a,a.targetTouches?e=a.targetTouches[0]:f&&a.H.targetTouches&&
(e=a.H.targetTouches[0]),b.x=e.clientX,b.y=e.clientY;return b}function Zc(a,b,c){if(b instanceof gb)c=b.height,b=b.width;else if(c==h)throw Error("missing height argument");a.style.width=Sc(b,k);a.style.height=Sc(c,k)}function Sc(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function $c(a){if("none"!=V(a,"display"))return ad(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=ad(a);b.display=c;b.position=f;b.visibility=d;return a}function ad(a){var b=a.offsetWidth,c=a.offsetHeight,d=H&&!b&&!c;return(b===h||d)&&a.getBoundingClientRect?(a=Tc(a),new gb(a.right-a.left,a.bottom-a.top)):new gb(b,c)}function bd(a){var b=Vc(a),a=$c(a);return new Pc(b.x,b.y,a.width,a.height)}
function W(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function X(a,b){a.style.display=b?"":"none"}function cd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function dd(a,b){if(E){var c=cd(a,a.currentStyle?a.currentStyle[b+"Left"]:l),d=cd(a,a.currentStyle?a.currentStyle[b+"Right"]:l),f=cd(a,a.currentStyle?a.currentStyle[b+"Top"]:l),e=cd(a,a.currentStyle?a.currentStyle[b+"Bottom"]:l);return new Oc(f,d,e,c)}c=U(a,b+"Left");d=U(a,b+"Right");f=U(a,b+"Top");e=U(a,b+"Bottom");return new Oc(parseFloat(f),parseFloat(d),parseFloat(e),parseFloat(c))}var Yc=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function ed(a,b,c){this.J=a;this.j=b;this.e=c;this.ca=[];this.U=[];this.A=this.J.getContext("2d");this.ga=k;this.$a=m;var d=this;O(this.J,"mousemove",function(a){if(d.ga){var b=fd(d,a.offsetX,a.offsetY);b?(d.$a=m,d.d?d.d!=b&&(d.ga=m,gd(d.j)):(d.d=b,hd(d),d.e.fireEvent("onMouseOverAnnotation",{V:d.d,mouseEvent:a}))):!d.$a&&d.d&&(d.ga=m,gd(d.j))}else d.qa=a});c.h("onMouseOutOfItem",function(){delete d.d;d.ga=k});c.h("beforePopupHide",function(){if(!d.ga&&d.qa){var a=d.d;d.d=fd(d,d.qa.offsetX,d.qa.offsetY);
d.ga=k;a!=d.d?(hd(d),d.e.fireEvent("onMouseOutOfAnnotation",{V:a,mouseEvent:d.qa}),d.e.fireEvent("onMouseOverAnnotation",{V:d.d,mouseEvent:d.qa})):d.d&&id(d.j)}else hd(d)})}p=ed.prototype;p.v=function(a,b){b&&(b==this.d&&delete this.d,C(this.ca,b),delete this.U[Ec(b.shapes[0])]);this.ca.push(a);var c=a.shapes[0];if("pixel"!=c.units)var d=this,c=Dc(c,function(a){return d.e.Ea(a)});this.U[Ec(a.shapes[0])]=c;hd(this)};
p.r=function(a){a==this.d&&delete this.d;C(this.ca,a);delete this.U[Ec(a.shapes[0])];hd(this)};p.C=function(){return za(this.ca)};p.m=function(a){(this.d=a)?this.$a=k:gd(this.j);hd(this)};function fd(a,b,c){a=a.Ja(b,c);if(0<a.length)return a[0]}
p.Ja=function(a,b){var c=[],d=this;y(this.ca,function(f){var e;e=d.U[Ec(f.shapes[0])];if("rect"==e.type)e=a<e.geometry.x||b<e.geometry.y||a>e.geometry.x+e.geometry.width||b>e.geometry.y+e.geometry.height?m:k;else if("polygon"==e.type){e=e.geometry.points;for(var g=m,j=e.length-1,i=0;i<e.length;i++)e[i].y>b!=e[j].y>b&&a<(e[j].x-e[i].x)*(b-e[i].y)/(e[j].y-e[i].y)+e[i].x&&(g=!g),j=i;e=g}else e=m;e&&c.push(f)});x.sort.call(c,function(a,b){return Ac(a.shapes[0])-Ac(b.shapes[0])}||Ca);return c};
function jd(a,b,c){var d=B(a.e.Y(),function(a){return a.getSupportedShapeType()==b.type});d?d.drawShape(a.A,b,c):console.log("WARNING unsupported shape type: "+b.type)}function hd(a){a.A.clearRect(0,0,a.J.width,a.J.height);y(a.ca,function(b){jd(a,a.U[Ec(b.shapes[0])])});if(a.d){var b=a.U[Ec(a.d.shapes[0])];jd(a,b,k);b=Bc(b).geometry;a.j.show(a.d,new Q(b.x,b.y+b.height+5))}};E&&I(8);function kd(a,b){a!=l&&this.append.apply(this,arguments)}p=kd.prototype;p.W="";p.set=function(a){this.W=""+a};p.append=function(a,b,c){this.W+=a;if(b!=l)for(var d=1;d<arguments.length;d++)this.W+=arguments[d];return this};p.clear=function(){this.W=""};p.toString=aa("W");function ld(a){return"object"===typeof a&&a&&0===a.gc?a.content:String(a).replace(md,nd)}var od={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function nd(a){return od[a]}var md=/[\x00\x22\x26\x27\x3c\x3e]/g;function pd(a){return'<canvas class="annotorious-item annotorious-opacity-fade" style="position:absolute; top:0px; left:0px; width:'+ld(a.width)+"px; height:"+ld(a.height)+'px; z-index:0" width="'+ld(a.width)+'" height="'+ld(a.height)+'"></canvas>'}
function qd(a){return'<div class="annotorious-hint" style="white-space:nowrap; position:absolute; top:0px; left:0px; pointer-events:none;"><div class="annotorious-hint-msg annotorious-opacity-fade">'+ld(a.pb)+'</div><div class="annotorious-hint-icon" style="pointer-events:auto"></div></div>'};function rd(a){this.element=S(sd);this.e=a;this.Ub=M(".annotorious-popup-text",this.element)[0];this.F=M(".annotorious-popup-buttons",this.element)[0];this.Wa=m;this.ra=[];var b=M(".annotorious-popup-button-edit",this.F)[0],c=M(".annotorious-popup-button-delete",this.F)[0],d=this;O(b,"mouseover",function(){bb(b,"annotorious-popup-button-active")});O(b,"mouseout",function(){db(b,"annotorious-popup-button-active")});O(b,"click",function(){W(d.element,0);T(d.element,"pointer-events","none");a.Eb(d.d)});
O(c,"mouseover",function(){bb(c,"annotorious-popup-button-active")});O(c,"mouseout",function(){db(c,"annotorious-popup-button-active")});O(c,"click",function(){a.fireEvent("beforeAnnotationRemoved",d.d)||(W(d.element,0),T(d.element,"pointer-events","none"),a.r(d.d),a.fireEvent("onAnnotationRemoved",d.d))});O(this.element,"mouseover",function(){window.clearTimeout(d.Va);0.9>(d.F.style[va("opacity")]||"")&&W(d.F,0.9);id(d)});O(this.element,"mouseout",function(){W(d.F,0);gd(d)});a.h("onMouseOutOfItem",
function(){gd(d)});W(this.F,0);W(this.element,0);T(this.element,"pointer-events","none");a.element.appendChild(this.element)}rd.prototype.hb=function(a){var b=pb("div","annotorious-popup-field");t(a)?b.innerHTML=a:u(a)?this.ra.push({w:b,kb:a}):tb(a)&&b.appendChild(a);this.element.appendChild(b)};function gd(a){a.Wa=m;a.ya||(a.ya=window.setTimeout(function(){a.e.fireEvent("beforePopupHide",a);a.Wa||(W(a.element,0),T(a.element,"pointer-events","none"),W(a.F,0.9),delete a.ya)},300))}
function id(a){a.Wa=k;a.ya&&(window.clearTimeout(a.ya),delete a.ya)}rd.prototype.show=function(a,b){id(this);b&&this.aa(b);a&&td(this,a);this.Va&&window.clearTimeout(this.Va);W(this.F,0.9);var c=this;this.Va=window.setTimeout(function(){W(c.F,0)},1E3);W(this.element,0.9);T(this.element,"pointer-events","auto")};rd.prototype.aa=function(a){Rc(this.element,new K(a.x,a.y))};
function td(a,b){a.d=b;a.Ub.innerHTML=b.text?b.text.replace(/\n/g,"<br/>"):'<span class="annotorious-popup-empty">No comment</span>';"editable"in b&&b.editable==m?X(a.F,m):X(a.F,k);y(a.ra,function(a){var d=a.kb(b);t(d)?a.w.innerHTML=d:tb(d)&&(rb(a.w),a.w.appendChild(d))})}rd.prototype.addField=rd.prototype.hb;/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function ud(){}
var wd={ic:"<",hc:">",ec:"&",jc:"\u00a0",lc:'"',fc:"'"},Y={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,
ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},xd=/&/g,yd=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,zd=/</g,Ad=/>/g,Bd=/\"/g,Cd=/=/g,Dd=/\0/g,Ed=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,Fd=/^#(\d+)$/,Gd=/^#x([0-9A-Fa-f]+)$/,Hd=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*))?)|(/?>)|[^a-z\\s>]+)",
"i"),Id=RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<[!]--[\\s\\S]*?--\>|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i");
ud.prototype.parse=function(a,b){var c=l,d=m,f=[],e,g,j;a.D=[];for(a.T=m;b;){var i=b.match(d?Hd:Id),b=b.substring(i[0].length);if(d)if(i[1]){var q=i[1].toLowerCase();if(i[2]){i=i[3];switch(i.charCodeAt(0)){case 34:case 39:i=i.substring(1,i.length-1)}i=i.replace(Dd,"").replace(Ed,la(this.Yb,this))}else i=q;f.push(q,i)}else i[4]&&(g!==h&&(j?a.Pb&&a.Pb(e,f):a.Fb&&a.Fb(e)),j&&g&12&&(c=c===l?b.toLowerCase():c.substring(c.length-b.length),d=c.indexOf("</"+e),0>d&&(d=b.length),g&4?a.Db&&a.Db(b.substring(0,
d)):a.Ob&&a.Ob(b.substring(0,d).replace(yd,"&amp;$1").replace(zd,"&lt;").replace(Ad,"&gt;")),b=b.substring(d)),e=g=j=h,f.length=0,d=m);else if(i[1])Jd(a,i[0]);else if(i[3])j=!i[2],d=k,e=i[3].toLowerCase(),g=Y.hasOwnProperty(e)?Y[e]:h;else if(i[4])Jd(a,i[4]);else if(i[5])switch(i[5]){case "<":Jd(a,"&lt;");break;case ">":Jd(a,"&gt;");break;default:Jd(a,"&amp;")}}for(c=a.D.length;0<=--c;)a.O.append("</",a.D[c],">");a.D.length=0};
ud.prototype.Yb=function(a){a=a.toLowerCase();if(wd.hasOwnProperty(a))return wd[a];var b=a.match(Fd);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(Gd))?String.fromCharCode(parseInt(b[1],16)):""};function Kd(){};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function Ld(a,b,c){this.O=a;this.D=[];this.T=m;this.Qb=b;this.Oa=c}na(Ld,Kd);
var Md={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,
"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,
"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,
"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,
"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,
"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,
"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};
Ld.prototype.Pb=function(a,b){if(!this.T&&Y.hasOwnProperty(a)){var c=Y[a];if(!(c&32))if(c&16)this.T=!(c&2);else{for(var d=b,f=0;f<d.length;f+=2){var e=d[f],g=d[f+1],j=l,i;if((i=a+"::"+e,Md.hasOwnProperty(i))||(i="*::"+e,Md.hasOwnProperty(i)))j=Md[i];if(j!==l)switch(j){case 0:break;case 2:case 3:g=l;break;case 4:case 5:case 6:case 7:case 8:case 9:g=this.Oa?this.Oa(g):g;break;case 1:g=this.Qb&&this.Qb(g);break;case 11:g&&"#"===g.charAt(0)?(g=this.Oa?this.Oa(g):g)&&(g="#"+g):g=l;break;default:g=l}else g=
l;d[f+1]=g}if(b=d){c&2||this.D.push(a);this.O.append("<",a);c=0;for(d=b.length;c<d;c+=2)f=b[c],e=b[c+1],e!==l&&e!==h&&this.O.append(" ",f,'="',e.replace(xd,"&amp;").replace(zd,"&lt;").replace(Ad,"&gt;").replace(Bd,"&#34;").replace(Cd,"&#61;"),'"');this.O.append(">")}}}};
Ld.prototype.Fb=function(a){if(this.T)this.T=m;else if(Y.hasOwnProperty(a)){var b=Y[a];if(!(b&50)){if(b&1)for(b=this.D.length;0<=--b;){var c=this.D[b];if(c===a)break;if(!(Y[c]&1))return}else for(b=this.D.length;0<=--b&&this.D[b]!==a;);if(!(0>b)){for(var d=this.D.length;--d>b;)c=this.D[d],Y[c]&1||this.O.append("</",c,">");this.D.length=b;this.O.append("</",a,">")}}}};function Jd(a,b){a.T||a.O.append(b)}Ld.prototype.Ob=function(a){this.T||this.O.append(a)};Ld.prototype.Db=function(a){this.T||this.O.append(a)};function sd(){return'<div class="annotorious-popup top-left" style="position:absolute;z-index:1"><div class="annotorious-popup-buttons"><a class="annotorious-popup-button annotorious-popup-button-edit" title="Edit" href="javascript:void(0);">EDIT</a><a class="annotorious-popup-button annotorious-popup-button-delete" title="Delete" href="javascript:void(0);">DELETE</a></div><span class="annotorious-popup-text"></span></div>'}
function Nd(){return'<div class="annotorious-editor" style="position:absolute;z-index:1"><form><textarea class="annotorious-editor-text" placeholder="Add a Comment..." tabindex="1"></textarea><div class="annotorious-editor-button-container"><a class="annotorious-editor-button annotorious-editor-button-cancel" href="javascript:void(0);" tabindex="3">Cancel</a><a class="annotorious-editor-button annotorious-editor-button-save" href="javascript:void(0);" tabindex="2">Save</a></div></form></div>'};function Od(a){this.element=S(Nd);this.e=a;this.Tb=a.getItem();this.ha=M(".annotorious-editor-text",this.element)[0];this.Rb=M(".annotorious-editor-button-cancel",this.element)[0];this.tb=M(".annotorious-editor-button-save",this.element)[0];var b;b=this.tb;$a?b=b.parentElement:(b=b.parentNode,b=tb(b)?b:l);this.Sb=b;this.ra=[];var c=this;O(this.Rb,"click",function(b){b.preventDefault();a.stopSelection(c.zb);c.close()});O(this.tb,"click",function(b){b.preventDefault();b=c.Gb();a.v(b);a.stopSelection();
c.zb?a.fireEvent("onAnnotationUpdated",b):a.fireEvent("onAnnotationCreated",b);c.close()});O(this.ha,"keyup",n());X(this.element,m);a.element.appendChild(this.element);this.ha.focus()}p=Od.prototype;p.hb=function(a){var b=pb("div","annotorious-editor-field");t(a)?b.innerHTML=a:u(a)?this.ra.push({w:b,kb:a}):tb(a)&&b.appendChild(a);a=this.Sb;a.parentNode&&a.parentNode.insertBefore(b,a)};
p.open=function(a){if(this.Ga=this.zb=a)this.ha.value=a.text;X(this.element,k);this.ha.focus();y(this.ra,function(b){var c=b.kb(a);t(c)?b.w.innerHTML=c:tb(c)&&(rb(b.w),b.w.appendChild(c))})};p.close=function(){X(this.element,m);this.ha.value=""};p.aa=function(a){Rc(this.element,a.x,a.y)};p.Gb=function(){var a;a=this.ha.value;var b=new kd;(new ud).parse(new Ld(b,function(a){return a},h),a);a=b.toString();this.Ga?this.Ga.text=a:this.Ga=new Fc(this.Tb.src,a,this.e.X().getShape());return this.Ga};
Od.prototype.addField=Od.prototype.hb;Od.prototype.getAnnotation=Od.prototype.Gb;function Pd(a,b,c){var d=this;c||(c="Click and Drag to Annotate");this.element=S(qd,{pb:c});this.e=a;this.wb=M(".annotorious-hint-msg",this.element)[0];this.vb=M(".annotorious-hint-icon",this.element)[0];this.fb=function(){d.show()};this.eb=function(){Qd(d)};this.Sa();Qd(this);b.appendChild(this.element)}
Pd.prototype.Sa=function(){var a=this;this.yb=O(this.vb,"mouseover",function(){a.show();window.clearTimeout(a.Za)});this.xb=O(this.vb,"mouseout",function(){Qd(a)});this.e.h("onMouseOverItem",this.fb);this.e.h("onMouseOutOfItem",this.eb)};Pd.prototype.Xa=function(){mc(this.yb);mc(this.xb);this.e.ma("onMouseOverItem",this.fb);this.e.ma("onMouseOutOfItem",this.eb)};Pd.prototype.show=function(){window.clearTimeout(this.Za);W(this.wb,0.8);var a=this;this.Za=window.setTimeout(function(){Qd(a)},3E3)};
function Qd(a){window.clearTimeout(a.Za);W(a.wb,0)}Pd.prototype.Ca=function(){this.Xa();delete this.yb;delete this.xb;delete this.fb;delete this.eb;var a=this.element;a&&a.parentNode&&a.parentNode.removeChild(a)};var Rd="ontouchstart"in window,Sd=Rd?"touchmove":"mousemove",Td=Rd?"touchend":"mouseup";Rd&&bb(document.getElementsByTagName("html")[0],"hasTouch");function Ud(){}p=Ud.prototype;p.init=function(a,b){this.J=a;this.e=b;this.A=a.getContext("2d");this.A.lineWidth=1;this.Ya=m};
p.Sa=function(){var a=this,b=this.J;this.bb=O(this.J,Sd,function(c){c=rc(c,b);if(a.Ya){a.B={x:c.x,y:c.y};a.A.clearRect(0,0,b.width,b.height);var c=a.B.x-a.g.x,d=a.B.y-a.g.y;a.A.strokeStyle="#000000";a.A.strokeRect(a.g.x+0.5,a.g.y+0.5,c,d);a.A.strokeStyle="#ffffff";0<c&&0<d?a.A.strokeRect(a.g.x+1.5,a.g.y+1.5,c-2,d-2):0<c&&0>d?a.A.strokeRect(a.g.x+1.5,a.g.y-0.5,c-2,d+2):0>c&&0>d?a.A.strokeRect(a.g.x-0.5,a.g.y-0.5,c+2,d+2):a.A.strokeRect(a.g.x-0.5,a.g.y+1.5,c+2,d-2)}});this.cb=O(b,Td,function(c){var d=
rc(c,b),f=a.getShape(),c=c.H?c.H:c;a.Ya=m;f?a.e.fireEvent("onSelectionCompleted",{mouseEvent:c,shape:f,viewportBounds:a.getViewportBounds()}):(a.e.fireEvent("onSelectionCanceled"),Rd&&(c=a.e.Ja(d.x,d.y),0<c.length&&a.e.m(c[0])))})};p.Xa=function(){this.bb&&(mc(this.bb),delete this.bb);this.cb&&(mc(this.cb),delete this.cb)};p.getName=ba("rect_drag");p.getSupportedShapeType=ba("rect");
p.startSelection=function(a,b){var c={x:a,y:b};this.Ya=k;this.Sa(c);this.g=new Q(a,b);this.e.fireEvent("onSelectionStarted",{offsetX:a,offsetY:b});T(document.body,"-webkit-user-select","none")};p.stopSelection=function(){this.Xa();this.A.clearRect(0,0,this.J.width,this.J.height);T(document.body,"-webkit-user-select","auto");delete this.B};
p.getShape=function(){if(this.B&&3<Math.abs(this.B.x-this.g.x)&&3<Math.abs(this.B.y-this.g.y)){var a=this.getViewportBounds(),b=this.e.Ra({x:a.left,y:a.top}),a=this.e.Ra({x:a.right-1,y:a.bottom-1});return new zc("rect",new yc(b.x,b.y,a.x-b.x,a.y-b.y))}};p.getViewportBounds=function(){var a,b;this.B.x>this.g.x?(a=this.B.x,b=this.g.x):(a=this.g.x,b=this.B.x);var c,d;this.B.y>this.g.y?(c=this.g.y,d=this.B.y):(c=this.B.y,d=this.g.y);return{top:c,right:a,bottom:d,left:b}};
p.drawShape=function(a,b,c){if("rect"==b.type){var d;c?(c="#fff000",d=1.2):(c="#ffffff",d=1);b=b.geometry;a.strokeStyle="#000000";a.lineWidth=d;a.strokeRect(b.x+0.5,b.y+0.5,b.width+1,b.height+1);a.strokeStyle=c;a.strokeRect(b.x+1.5,b.y+1.5,b.width-1,b.height-1)}};function Vd(a,b){function c(b,c){T(d,"margin-"+b,c+"px");T(a,"margin-"+b,0);T(a,"padding-"+b,0)}this.P=a;this.Ab={padding:a.style.padding,margin:a.style.margin};this.o=new qc;this.Ba=[];this.gb=k;this.element=pb("div","annotorious-annotationlayer");T(this.element,"position","relative");T(this.element,"display","inline-block");var d=this.element,f=dd(a,"margin"),e=dd(a,"padding");(0!=f.top||0!=e.top)&&c("top",f.top+e.top);(0!=f.right||0!=e.right)&&c("right",f.right+e.right);(0!=f.bottom||0!=e.bottom)&&
c("bottom",f.bottom+e.bottom);(0!=f.left||0!=e.left)&&c("left",f.left+e.left);f=bd(a);Zc(this.element,f.width,f.height);sb(this.element,a);this.element.appendChild(a);this.R=S(pd,{width:f.width,height:f.height});bb(this.R,"annotorious-item-unfocus");this.element.appendChild(this.R);this.f=S(pd,{width:f.width,height:f.height});X(this.f,m);this.element.appendChild(this.f);this.popup=b?b:new rd(this);f=new Ud;f.init(this.f,this);this.Ba.push(f);this.ea=f;this.editor=new Od(this);this.k=new ed(this.R,
this.popup,this);this.ta=new Pd(this,this.element);var g=this;O(this.element,"mouseover",function(a){a=a.relatedTarget;if(!a||!ub(g.element,a))g.o.fireEvent("onMouseOverItem"),fb(g.R,"annotorious-item-unfocus","annotorious-item-focus")});O(this.element,"mouseout",function(a){a=a.relatedTarget;if(!a||!ub(g.element,a))g.o.fireEvent("onMouseOutOfItem"),fb(g.R,"annotorious-item-focus","annotorious-item-unfocus")});O(this.R,"mousedown",function(a){g.gb&&(X(g.f,k),g.k.m(h),g.ea.startSelection(a.offsetX,
a.offsetY))});this.o.h("onSelectionCompleted",function(a){a=a.viewportBounds;g.editor.aa(new Q(a.left+g.P.offsetLeft,a.bottom+4+g.P.offsetTop));g.editor.open()});this.o.h("onSelectionCanceled",function(){X(g.f,m);g.ea.stopSelection()})}p=Vd.prototype;p.S=n();p.v=function(a,b){this.k.v(a,b)};p.h=function(a,b){this.o.h(a,b)};p.ia=function(a){a.init(this,this.f);this.Ba.push(a)};p.Ca=function(){var a=this.P;a.style.margin=this.Ab.margin;a.style.padding=this.Ab.padding;sb(a,this.element)};
p.Eb=function(a){this.k.r(a);var b=B(this.Ba,function(b){return b.getSupportedShapeType()==a.shapes[0].type});if(b){X(this.f,k);this.k.m(h);var c=this.f.getContext("2d"),d=a.shapes[0],f=this,d="pixel"==d.units?d:Dc(d,function(a){return f.Ea(a)});b.drawShape(c,d)}b=Bc(a.shapes[0]).geometry;b="pixel"==a.shapes[0].units?new Q(b.x,b.y+b.height):this.Ea(new Q(b.x,b.y+b.height));this.editor.aa(new Q(b.x+this.P.offsetLeft,b.y+4+this.P.offsetTop));this.editor.open(a)};
p.fireEvent=function(a,b){return this.o.fireEvent(a,b)};p.Ea=function(a){var b=$c(this.P);return{x:a.x*b.width,y:a.y*b.height}};p.X=aa("ea");p.C=function(){return this.k.C()};p.Ja=function(a,b){return za(this.k.Ja(a,b))};p.Y=aa("Ba");p.getItem=function(){return{src:Wd(this.P)}};function Wd(a){var b=a.getAttribute("data-original");return b?b:a.src}p.M=function(){X(this.R,m)};p.G=function(){this.gb=m;this.ta&&(this.ta.Ca(),delete this.ta)};p.m=function(a){this.k.m(a)};p.r=function(a){this.k.r(a)};
p.ma=function(a,b){this.o.ma(a,b)};p.oa=function(a){(this.ea=B(this.Ba,function(b){return b.getName()==a}))||console.log('WARNING: selector "'+a+'" not available')};p.ba=function(){X(this.R,k)};p.N=function(){this.gb=k;this.ta||(this.ta=new Pd(this,this.element))};p.stopSelection=function(a){X(this.f,m);this.ea.stopSelection();a&&this.k.v(a)};p.Ra=function(a){var b=$c(this.P);return{x:a.x/b.width,y:a.y/b.height}};Vd.prototype.fireEvent=Vd.prototype.fireEvent;Vd.prototype.toItemCoordinates=Vd.prototype.Ra;function Xd(){Hc(this,function(){return M("img.annotatable",document)})}na(Xd,Gc);Xd.prototype.lb=function(a){return Wd(a)};Xd.prototype.Mb=function(a){return new Vd(a)};Xd.prototype.rb=function(a){return tb(a)?"IMG"==a.tagName:m};function Yd(a){return'<div class="annotorious-opacity-fade" style="white-space:nowrap; position:absolute; pointer-events:none; top:80px; width:100%; text-align:center;"><div class="annotorious-ol-hint" style="width: 400px; margin:0px auto;">'+ld(a.pb)+"</dvi></div>"};function Zd(a,b){this.Q=a;this.va=bd(b.element);this.j=b.popup;T(this.j.element,"z-index",99E3);this.wa=[];this.Ta=new OpenLayers.Layer.Boxes("Annotorious");this.Q.addLayer(this.Ta);var c=this;this.Q.events.register("move",this.Q,function(){c.fa&&$d(c)});b.h("beforePopupHide",function(){c.ab==c.fa?id(c.j):ae(c,c.ab,c.fa)})}
function $d(a){var b=a.fa.Na.div,c=bd(b),d=Wc(b,a.Q.div),b=d.y,d=d.x,f=c.width,e=c.height,c=bd(a.j.element),b={y:b+e+5};d+c.width>a.va.width?(fb(a.j.element,"top-left","top-right"),b.x=d+f-c.width):(fb(a.j.element,"top-right","top-left"),b.x=d);0>b.x&&(b.x=0);b.x+c.width>a.va.width&&(b.x=a.va.width-c.width);b.y+c.height>a.va.height&&(b.y=a.va.height-c.height);a.j.aa(b)}
function ae(a,b,c){b?(Wc(b.Na.div,a.Q.div),va("height"),T(b.Ib,"border-color","#fff000"),a.fa=b,td(a.j,b.V),$d(a),a.j.show()):delete a.fa;c&&T(c.Ib,"border-color","#fff")}
Zd.prototype.v=function(a){var b=a.shapes[0].geometry,b=new OpenLayers.Marker.Box(new OpenLayers.Bounds(b.x,b.y,b.x+b.width,b.y+b.height));bb(b.div,"annotorious-ol-boxmarker-outer");T(b.div,"border",l);var c=pb("div","annotorious-ol-boxmarker-inner");Zc(c,"100%","100%");b.div.appendChild(c);var d={V:a,Na:b,Ib:c},f=this;O(c,"mouseover",function(){f.fa||ae(f,d);f.ab=d});O(c,"mouseout",function(){delete f.ab;gd(f.j)});this.wa.push(d);x.sort.call(this.wa,function(a,b){return Ac(b.V.shapes[0])-Ac(a.V.shapes[0])}||
Ca);var e=1E4;y(this.wa,function(a){T(a.Na.div,"z-index",e);e++});this.Ta.addMarker(b)};Zd.prototype.r=function(a){var b=B(this.wa,function(b){return b.V==a});b&&(C(this.wa,b),this.Ta.removeMarker(b.Na))};Zd.prototype.C=n();Zd.prototype.m=function(a){a||gd(this.j)};function be(a){this.Q=a;this.K=a.div;var b=parseInt(U(this.K,"width"),10),c=parseInt(U(this.K,"height"),10);this.o=new qc;this.element=pb("div","annotorious-annotationlayer");T(this.element,"position","relative");Zc(this.element,b,c);sb(this.element,this.K);this.element.appendChild(this.K);this.za=S(Yd,{pb:"Click and Drag"});T(this.za,"z-index",9998);W(this.za,0);this.element.appendChild(this.za);this.popup=new rd(this);this.k=new Zd(a,this);this.f=S(pd,{width:b,height:c});X(this.f,m);T(this.f,"z-index",
9999);this.element.appendChild(this.f);this.Aa=new Ud;this.Aa.init(this.f,this);this.Ha=h;this.editor=new Od(this);T(this.editor.element,"z-index",1E4);var d=this;O(this.element,"mouseover",function(a){a=a.relatedTarget;(!a||!ub(d.element,a))&&d.o.fireEvent("onMouseOverItem")});O(this.element,"mouseout",function(a){a=a.relatedTarget;(!a||!ub(d.element,a))&&d.o.fireEvent("onMouseOutOfItem")});O(this.f,"mousedown",function(a){var b=Xc(d.K);d.Aa.startSelection(a.clientX-b.x,a.clientY-b.y)});this.o.h("onSelectionCompleted",
function(a){T(d.f,"pointer-events","none");a=a.viewportBounds;d.editor.aa(new Q(a.left+d.K.offsetLeft,a.bottom+4+d.K.offsetTop));d.editor.open()});this.o.h("onSelectionCanceled",function(){d.stopSelection()})}p=be.prototype;p.N=n();p.G=n();p.S=function(a){T(this.f,"pointer-events","auto");var b=this;X(this.f,k);W(this.za,0.8);window.setTimeout(function(){W(b.za,0)},2E3);a&&(this.Ha=a)};
p.Eb=function(a){this.k.r(a);var b=this.Aa,c=this;if(b){X(this.f,k);this.k.m(h);var d=this.f.getContext("2d"),f=Dc(a.shapes[0],function(a){return c.Ea(a)});b.drawShape(d,f);b=Bc(f).geometry;this.editor.aa(new Q(b.x+this.K.offsetLeft,b.y+b.height+4+this.K.offsetTop));this.editor.open(a)}};p.v=function(a){this.k.v(a)};p.h=function(a,b){this.o.h(a,b)};p.ia=n();p.fireEvent=function(a,b){return this.o.fireEvent(a,b)};
p.Ea=function(a){a=this.Q.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x,a.y));return{x:a.x,y:a.y}};p.X=aa("Aa");p.C=n();p.Y=n();p.getItem=function(){return{src:"map://openlayers/something"}};p.m=function(a){this.k.m(a)};p.r=function(a){this.k.r(a)};p.ma=function(a,b){this.o.ma(a,b)};p.oa=n();p.stopSelection=function(a){X(this.f,m);this.Ha&&(this.Ha(),delete this.Ha);this.Aa.stopSelection();a&&this.k.v(a)};
p.Ra=function(a){a=this.Q.getLonLatFromPixel(new OpenLayers.Pixel(a.x,a.y));return{x:a.lon,y:a.lat}};function ce(){Hc(this)}na(ce,Gc);ce.prototype.lb=ba("map://openlayers/something");ce.prototype.Mb=function(a){return new be(a)};ce.prototype.rb=function(a){return a instanceof OpenLayers.Map};function Z(){function a(){y(b.t,function(a){a.init()});y(b.xa,function(a){a.initPlugin&&a.initPlugin(b);y(b.t,function(b){b.ib(a)})})}this.t=[new Xd];ce&&this.t.push(new ce);this.xa=[];var b=this;window.addEventListener?window.addEventListener("load",a,m):window.attachEvent&&window.attachEvent("onload",a)}function $(a,b){return B(a.t,function(a){return R(a,b)})}p=Z.prototype;p.S=function(a,b){var c=h,d=h;t(a)?(c=a,d=b):u(a)&&(d=a);if(c){var f=$(this,c);f&&f.S(c,d)}else y(this.t,function(a){a.S(d)})};
p.v=function(a,b){var c=$(this,a.src);c&&c.v(a,b)};p.h=function(a,b){y(this.t,function(c){c.h(a,b)})};p.ib=function(a,b){try{this.xa.push(new window.annotorious.plugin[a](b))}catch(c){console.log("Could not load plugin: "+a)}};p.X=function(a){var b=$(this,a);if(b)return b.X(a)};p.C=function(a){if(a){var b=$(this,a);return b?b.C(a):[]}var c=[];y(this.t,function(a){Aa(c,a.C())});return c};p.Y=function(a){var b=$(this,a);return b?b.Y(a):[]};
p.M=function(a){if(a){var b=$(this,a);b&&b.M(a)}else y(this.t,function(a){a.M()})};p.G=function(a){if(a){var b=$(this,a);b&&b.G(a)}else y(this.t,function(a){a.G()})};p.m=function(a){if(a){var b=$(this,a.src);b&&b.m(a)}else y(this.t,function(a){a.m()})};p.nb=function(a){var b=B(this.t,function(b){return b.rb(a)});if(b)b.nb(a);else throw"Error: Annotorious does not support this media type in the current version or build configuration.";};p.ac=function(a){var b=this;y(this.C(a),function(a){b.r(a)})};
p.r=function(a){var b=$(this,a.src);b&&b.r(a)};p.reset=function(){y(this.t,function(a){a.Ca();a.init()})};p.ia=function(a,b){var c=$(this,a);c&&c.ia(a,b)};p.oa=function(a,b){var c=$(this,a);c&&c.oa(a,b)};p.cc=function(a){a?this.N(h):this.G(h)};p.ba=function(a){if(a){var b=$(this,a);b&&b.ba(a)}else y(this.t,function(a){a.ba()})};p.N=function(a){if(a){var b=$(this,a);b&&b.N(a)}else y(this.t,function(a){a.N()})};window.anno=new Z;Z.prototype.activateSelector=Z.prototype.S;Z.prototype.addAnnotation=Z.prototype.v;
Z.prototype.addHandler=Z.prototype.h;Z.prototype.addPlugin=Z.prototype.ib;Z.prototype.getActiveSelector=Z.prototype.X;Z.prototype.getAnnotations=Z.prototype.C;Z.prototype.getAvailableSelectors=Z.prototype.Y;Z.prototype.hideAnnotations=Z.prototype.M;Z.prototype.hideSelectionWidget=Z.prototype.G;Z.prototype.highlightAnnotation=Z.prototype.m;Z.prototype.makeAnnotatable=Z.prototype.nb;Z.prototype.removeAll=Z.prototype.ac;Z.prototype.removeAnnotation=Z.prototype.r;Z.prototype.reset=Z.prototype.reset;
Z.prototype.setActiveSelector=Z.prototype.oa;Z.prototype.showAnnotations=Z.prototype.ba;Z.prototype.showSelectionWidget=Z.prototype.N;Z.prototype.addSelector=Z.prototype.ia;Z.prototype.setSelectionEnabled=Z.prototype.cc;window.annotorious||(window.annotorious={});window.annotorious.plugin||(window.annotorious.plugin={});
