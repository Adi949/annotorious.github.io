var h=void 0,k=!0,l=null,m=!1;function o(){return function(){}}function aa(a){return function(){return this[a]}}function ba(a){return function(){return a}}var q,s=this;function ca(a,b){var c=a.split("."),d=s;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&b!==h?d[e]=b:d=d[e]?d[e]:d[e]={}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return"array"==da(a)}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function x(a){return"function"==da(a)}function fa(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}var ga="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),la=0;function ma(a,b,c){return a.call.apply(a.bind,arguments)}
function na(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function oa(a,b,c){oa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ma:na;return oa.apply(l,arguments)}
function pa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}function qa(a,b){function c(){}c.prototype=b.prototype;a.Nb=b.prototype;a.prototype=new c;a.prototype.constructor=a};var ra={};function sa(a,b){this.x=a;this.y=b};function ta(a){this.Y=a}function ua(a){for(var b=0,c=a.length-1,d=0;d<a.length;d++)b+=(a[c].x+a[d].x)*(a[c].y-a[d].y),c=d;return b/2}
function va(a,b){var c,d;d=c=0;for(var e,f=a.length-1,g=0;g<a.length;g++)e=a[g].x*a[f].y-a[f].x*a[g].y,c+=(a[g].x+a[f].x)*e,d+=(a[g].y+a[f].y)*e,f=g;e=6*ua(a);c=Math.abs(c/e);d=Math.abs(d/e);e=[];for(f=0;f<a.length;f++){var g=a[f],i=(0>ua(a)?-1:1)*b,j=g.x-c,n=g.y-d,w=0<i?1:0>i?-1:0,i=Math.sqrt(Math.pow(i,2)/(1+Math.pow(j/n,2)));e.push({x:g.x+Math.abs(j/n*i)*(0<j?1:0>j?-1:0)*w,y:g.y+Math.abs(i)*(0<n?1:0>n?-1:0)*w})}return e};function wa(a,b,c,d){0<c?(this.x=a,this.width=c):(this.x=a+c,this.width=-c);0<d?(this.y=b,this.height=d):(this.y=b+d,this.height=-d)};function xa(a,b){this.type=a;this.geometry=b}function ya(a){return"rect"==a.type?a.geometry.width*a.geometry.height:"polygon"==a.type?Math.abs(ua(a.geometry.Y)):0}function za(a){if("rect"==a.type)return a.geometry;if("polygon"==a.type){for(var a=a.geometry.Y,b=a[0].x,c=a[0].x,d=a[0].y,e=a[0].y,f=1;f<a.length;f++)a[f].x>c&&(c=a[f].x),a[f].x<b&&(b=a[f].x),a[f].y>e&&(e=a[f].y),a[f].y<d&&(d=a[f].y);return new wa(b,d,c-b,e-d)}}
function Aa(a,b){if("rect"==a.type){var c=a.geometry,d=b({x:c.x,y:c.y}),c=b({x:c.width,y:c.height});return new xa("rect",new wa(d.x,d.y,c.x,c.y))}if("polygon"==a.type){var e=[];y(a.geometry.Y,function(a){e.push(b(a))});return new xa("polygon",new ta(e))}}function Ba(a){return JSON.stringify(a.geometry)};function Fa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Ga(a){if(!Ha.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ia,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ja,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ka,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(La,"&quot;"));return a}var Ia=/&/g,Ja=/</g,Ka=/>/g,La=/\"/g,Ha=/[&<>\"]/,Ma={};function Na(a){return Ma[a]||(Ma[a]=(""+a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()}))};var z=Array.prototype,Oa=z.indexOf?function(a,b,c){return z.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:0>c?Math.max(0,a.length+c):c;if(u(a))return!u(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},y=z.forEach?function(a,b,c){z.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Pa=z.filter?function(a,b,c){return z.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=u(a)?a.split(""):
a,i=0;i<d;i++)if(i in g){var j=g[i];b.call(c,j,i,a)&&(e[f++]=j)}return e},Qa=z.map?function(a,b,c){return z.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=u(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};function A(a,b){var c;a:{c=a.length;for(var d=u(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(h,d[e],e,a)){c=e;break a}c=-1}return 0>c?l:u(a)?a.charAt(c):a[c]}function B(a,b){var c=Oa(a,b);0<=c&&z.splice.call(a,c,1)}
function Ra(a){return z.concat.apply(z,arguments)}function Sa(a){if(t(a))return Ra(a);for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}function Ta(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(t(d)||(e=ea(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var f=a.length,g=d.length,i=0;i<g;i++)a[f+i]=d[i];else a.push(d)}}function Ua(a,b,c,d){z.splice.apply(a,Va(arguments,1))}function Va(a,b,c){return 2>=arguments.length?z.slice.call(a,b):z.slice.call(a,b,c)}
function Wa(a,b){z.sort.call(a,b||Za)}function Za(a,b){return a>b?1:a<b?-1:0};var $a,ab,bb,cb,db;function eb(){return s.navigator?s.navigator.userAgent:l}function fb(){return s.navigator}cb=bb=ab=$a=m;var gb;if(gb=eb()){var hb=fb();$a=0==gb.indexOf("Opera");ab=!$a&&-1!=gb.indexOf("MSIE");bb=!$a&&-1!=gb.indexOf("WebKit");cb=!$a&&!bb&&"Gecko"==hb.product}var ib=$a,F=ab,G=cb,H=bb,jb=fb();db=-1!=(jb&&jb.platform||"").indexOf("Mac");var kb=!!fb()&&-1!=(fb().appVersion||"").indexOf("X11"),lb;
a:{var mb="",nb;if(ib&&s.opera)var ob=s.opera.version,mb="function"==typeof ob?ob():ob;else if(G?nb=/rv\:([^\);]+)(\)|;)/:F?nb=/MSIE\s+([^\);]+)(\)|;)/:H&&(nb=/WebKit\/(\S+)/),nb)var pb=nb.exec(eb()),mb=pb?pb[1]:"";if(F){var qb,rb=s.document;qb=rb?rb.documentMode:h;if(qb>parseFloat(mb)){lb=""+qb;break a}}lb=mb}var sb={};
function I(a){var b;if(!(b=sb[a])){b=0;for(var c=Fa(""+lb).split("."),d=Fa(""+a).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",i=d[f]||"",j=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var w=j.exec(g)||["","",""],p=n.exec(i)||["","",""];if(0==w[0].length&&0==p[0].length)break;b=((0==w[1].length?0:parseInt(w[1],10))<(0==p[1].length?0:parseInt(p[1],10))?-1:(0==w[1].length?0:parseInt(w[1],10))>(0==p[1].length?0:parseInt(p[1],10))?1:0)||((0==w[2].length)<(0==
p[2].length)?-1:(0==w[2].length)>(0==p[2].length)?1:0)||(w[2]<p[2]?-1:w[2]>p[2]?1:0)}while(0==b)}b=sb[a]=0<=b}return b}var tb={};function vb(a){return tb[a]||(tb[a]=F&&!!document.documentMode&&document.documentMode>=a)};var wb,xb=!F||vb(9);!G&&!F||F&&vb(9)||G&&I("1.9.1");F&&I("9");var yb=F||ib||H;function zb(a){return(a=a.className)&&"function"==typeof a.split?a.split(/\s+/):[]}function Ab(a,b){var c=zb(a),d=Va(arguments,1),d=Bb(c,d);a.className=c.join(" ");return d}function Cb(a,b){var c=zb(a),d=Va(arguments,1);Db(c,d);a.className=c.join(" ")}function Bb(a,b){for(var c=0,d=0;d<b.length;d++)0<=Oa(a,b[d])||(a.push(b[d]),c++);return c==b.length}function Db(a,b){for(var c=0,d=0;d<a.length;d++)0<=Oa(b,a[d])&&(Ua(a,d--,1),c++)}
function Eb(a,b,c){var d=zb(a);u(b)?B(d,b):t(b)&&Db(d,b);u(c)&&!(0<=Oa(d,c))?d.push(c):t(c)&&Bb(d,c);a.className=d.join(" ")};function Fb(a,b){this.x=a!==h?a:0;this.y=b!==h?b:0};function Gb(a,b){this.width=a;this.height=b}Gb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Gb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Hb(a,b){for(var c in a)b.call(h,a[c],c,a)}var Ib="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function Jb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ib.length;f++)c=Ib[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Kb(a){return a?new Lb(Mb(a)):wb||(wb=new Lb)}function Nb(a,b){Hb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Ob?a.setAttribute(Ob[d],b):0==d.lastIndexOf("aria-",0)?a.setAttribute(d,b):a[d]=b})}var Ob={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function Pb(a,b,c){var d=arguments,e=document,f=d[0],g=d[1];if(!xb&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',Ga(g.name),'"');if(g.type){f.push(' type="',Ga(g.type),'"');var i={};Jb(i,g);g=i;delete g.type}f.push(">");f=f.join("")}f=e.createElement(f);g&&(u(g)?f.className=g:t(g)?Ab.apply(l,[f].concat(g)):Nb(f,g));2<d.length&&Qb(e,f,d,2);return f}
function Qb(a,b,c,d){function e(c){c&&b.appendChild(u(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];ea(f)&&!(fa(f)&&0<f.nodeType)?y(Rb(f)?Sa(f):f,e):e(f)}}function Sb(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function Tb(a){if(yb)return a.parentElement;a=a.parentNode;return fa(a)&&1==a.nodeType?a:l}
function Ub(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Mb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Rb(a){if(a&&"number"==typeof a.length){if(fa(a))return"function"==typeof a.item||"string"==typeof a.item;if(x(a))return"function"==typeof a.item}return m}function Lb(a){this.Ha=a||s.document||document}q=Lb.prototype;
q.createElement=function(a){return this.Ha.createElement(a)};q.createTextNode=function(a){return this.Ha.createTextNode(a)};function Vb(a){var b=a.Ha,a=!H?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new Fb(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}q.appendChild=function(a,b){a.appendChild(b)};q.append=function(a,b){Qb(Mb(a),a,arguments,1)};q.contains=Ub;function K(a,b){var c=Kb().createElement("DIV");c.innerHTML=a(b||Wb,h,h);if(1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType)return d}return c}var Wb={};function Xb(){return k};/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

 The "New" BSD License:

 Copyright (c) 2005-2009, The Dojo Foundation
 All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
 list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
 this list of conditions and the following disclaimer in the documentation
 and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
 may be used to endorse or promote products derived from this software
 without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
 FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
var L=function(){function a(a,c){if(!a)return[];if(a.constructor==Array)return a;if(!u(a))return[a];if(u(c)&&(c=u(c)?document.getElementById(c):c,!c))return[];var c=c||document,e=c.ownerDocument||c.documentElement;ia=c.contentType&&"application/xml"==c.contentType||ib&&(c.doctype||"[object XMLDocument]"==e.toString())||!!e&&(F?e.xml:c.xmlVersion||e.xmlVersion);return(e=d(a)(c))&&e.Qa?e:b(e)}function b(a){if(a&&a.Qa)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;
P++;if(F&&ia){var c=P+"";a[0].setAttribute("_zipIdx",c);for(var d=1,e;e=a[d];d++)a[d].getAttribute("_zipIdx")!=c&&b.push(e),e.setAttribute("_zipIdx",c)}else if(F&&a.Vb)try{for(d=1;e=a[d];d++)Xa(e)&&b.push(e)}catch(f){}else{a[0]&&(a[0]._zipIdx=P);for(d=1;e=a[d];d++)a[d]._zipIdx!=P&&b.push(e),e._zipIdx=P}return b}function c(a,b){if(!b)return 1;var c=qd(a);return!b[c]?b[c]=1:0}function d(a,b){if(jc){var c=kc[a];if(c&&!b)return c}if(c=lc[a])return c;var c=a.charAt(0),f=-1==a.indexOf(" ");0<=a.indexOf("#")&&
f&&(b=k);if(jc&&!b&&-1==">~+".indexOf(c)&&(!F||-1==a.indexOf(":"))&&!(mc&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf("|=")){var g=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return kc[a]=function(b){try{if(!(9==b.nodeType||f))throw"";var c=b.querySelectorAll(g);F?c.Vb=k:c.Qa=k;return c}catch(e){return d(a,k)(b)}}}var j=a.split(/\s*,\s*/);return lc[a]=2>j.length?e(a):function(a){for(var b=0,c=[],d;d=j[b++];)c=c.concat(e(d)(a));return c}}function e(a){var b=nc(Fa(a));if(1==b.length){var c=
f(b[0]);return function(a){if(a=c(a,[]))a.Qa=k;return a}}return function(a){for(var a=Ca(a),c,d,e=b.length,g,ha,j=0;j<e;j++){ha=[];c=b[j];d=a.length-1;0<d&&(g={},ha.Qa=k);d=f(c);for(var i=0;c=a[i];i++)d(c,ha,g);if(!ha.length)break;a=ha}return ha}}function f(a){var b=oc[a.ja];if(b)return b;var c=a.Db,c=c?c.Ra:"",d=n(a,{J:1}),e="*"==a.t,f=document.getElementsByClassName;if(c)f={J:1},e&&(f.t=1),d=n(a,f),"+"==c?b=j(d):"~"==c?b=i(d):">"==c&&(b=g(d));else if(a.id)d=!a.Gb&&e?Xb:n(a,{J:1,id:1}),b=function(b,
c){var e;e=Kb(b);var f=a.id;if(f=(e=u(f)?e.Ha.getElementById(f):f)&&d(e))if(!(f=9==b.nodeType)){for(f=e.parentNode;f&&!(f==b);)f=f.parentNode;f=!!f}if(f)return Ca(e,c)};else if(f&&/\{\s*\[native code\]\s*\}/.test(""+f)&&a.I.length&&!mc)var d=n(a,{J:1,I:1,id:1}),p=a.I.join(" "),b=function(a,b){for(var c=Ca(0,b),e,f=0,g=a.getElementsByClassName(p);e=g[f++];)d(e,a)&&c.push(e);return c};else!e&&!a.Gb?b=function(b,c){for(var d=Ca(0,c),e,f=0,g=b.getElementsByTagName(a.jb());e=g[f++];)d.push(e);return d}:
(d=n(a,{J:1,t:1,id:1}),b=function(b,c){for(var e=Ca(0,c),f,g=0,j=b.getElementsByTagName(a.jb());f=j[g++];)d(f,b)&&e.push(f);return e});return oc[a.ja]=b}function g(a){a=a||Xb;return function(b,d,e){for(var f=0,g=b[pc];b=g[f++];)Da(b)&&(!e||c(b,e))&&a(b,f)&&d.push(b);return d}}function i(a){return function(b,d,e){for(b=b[Ea];b;){if(Da(b)){if(e&&!c(b,e))break;a(b)&&d.push(b)}b=b[Ea]}return d}}function j(a){return function(b,d,e){for(;b=b[Ea];)if(!Ya||Xa(b)){(!e||c(b,e))&&a(b)&&d.push(b);break}return d}}
function n(a,b){if(!a)return Xb;var b=b||{},c=l;b.J||(c=ja(c,Xa));b.t||"*"!=a.t&&(c=ja(c,function(b){return b&&b.tagName==a.jb()}));b.I||y(a.I,function(a,b){var d=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=ja(c,function(a){return d.test(a.className)});c.count=b});b.Z||y(a.Z,function(a){var b=a.name;ub[b]&&(c=ja(c,ub[b](b,a.value)))});b.Ea||y(a.Ea,function(a){var b,d=a.fb;a.type&&qc[a.type]?b=qc[a.type](d,a.kb):d.length&&(b=rd(d));b&&(c=ja(c,b))});b.id||a.id&&(c=ja(c,function(b){return!!b&&b.id==a.id}));
c||"default"in b||(c=Xb);return c}function w(a){return J(a)%2}function p(a){return!(J(a)%2)}function J(a){var b=a.parentNode,c=0,d=b[pc],e=a._i||-1,f=b._l||-1;if(!d)return-1;d=d.length;if(f==d&&0<=e&&0<=f)return e;b._l=d;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[Ea])Da(b)&&(b._i=++c,a===b&&(e=c));return e}function C(a){for(;a=a[Ea];)if(Da(a))return m;return k}function rc(a){for(;a=a[sd];)if(Da(a))return m;return k}function ka(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||
"":"style"==b?a.style.cssText||"":(ia?a.getAttribute(b):a.getAttribute(b,2))||""}function Xa(a){return 1==a.nodeType}function ja(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}}function nc(a){function b(){0<=n&&(r.id=c(n,v).replace(/\\/g,""),n=-1);if(0<=p){var a=p==v?l:c(p,v);0>">~+".indexOf(a)?r.t=a:r.Ra=a;p=-1}0<=i&&(r.I.push(c(i+1,v).replace(/\\/g,"")),i=-1)}function c(b,d){return Fa(a.slice(b,d))}for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",
d=[],e=-1,f=-1,g=-1,j=-1,i=-1,n=-1,p=-1,w="",D="",C,v=0,J=a.length,r=l,E=l;w=D,D=a.charAt(v),v<J;v++)if("\\"!=w)if(r||(C=v,r={ja:l,Z:[],Ea:[],I:[],t:l,Ra:l,id:l,jb:function(){return ia?this.cc:this.t}},p=v),0<=e)if("]"==D){E.fb?E.kb=c(g||e+1,v):E.fb=c(e+1,v);if((e=E.kb)&&('"'==e.charAt(0)||"'"==e.charAt(0)))E.kb=e.slice(1,-1);r.Ea.push(E);E=l;e=g=-1}else"="==D&&(g=0<="|~^$*".indexOf(w)?w:"",E.type=g+D,E.fb=c(e+1,v-g.length),g=v+1);else 0<=f?")"==D&&(0<=j&&(E.value=c(f+1,v)),j=f=-1):"#"==D?(b(),n=
v+1):"."==D?(b(),i=v):":"==D?(b(),j=v):"["==D?(b(),e=v,E={}):"("==D?(0<=j&&(E={name:c(j+1,v),value:l},r.Z.push(E)),f=v):" "==D&&w!=D&&(b(),0<=j&&r.Z.push({name:c(j+1,v)}),r.Gb=r.Z.length||r.Ea.length||r.I.length,r.nc=r.ja=c(C,v),r.cc=r.t=r.Ra?l:r.t||"*",r.t&&(r.t=r.t.toUpperCase()),d.length&&d[d.length-1].Ra&&(r.Db=d.pop(),r.ja=r.Db.ja+" "+r.ja),d.push(r),r=l);return d}function Ca(a,b){var c=b||[];a&&c.push(a);return c}var mc=H&&"BackCompat"==document.compatMode,pc=document.firstChild.children?"children":
"childNodes",ia=m,qc={"*=":function(a,b){return function(c){return 0<=ka(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==ka(c,a).indexOf(b)}},"$=":function(a,b){return function(c){c=" "+ka(c,a);return c.lastIndexOf(b)==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+ka(b,a)+" ").indexOf(c)}},"|=":function(a,b){b=" "+b;return function(c){c=" "+ka(c,a);return c==b||0==c.indexOf(b+"-")}},"=":function(a,b){return function(c){return ka(c,a)==b}}},
Ya="undefined"==typeof document.firstChild.nextElementSibling,Ea=!Ya?"nextElementSibling":"nextSibling",sd=!Ya?"previousElementSibling":"previousSibling",Da=Ya?Xa:Xb,ub={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return rc},"last-child":function(){return C},"only-child":function(){return function(a){return!rc(a)||!C(a)?m:k}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;
if(1===c||3==c)return m}return k}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var c=nc(b)[0],d={J:1};"*"!=c.t&&(d.t=1);c.I.length||(d.I=1);var e=n(c,d);return function(a){return!e(a)}},"nth-child":function(a,b){if("odd"==b)return w;if("even"==b)return p;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:parseInt(c[0],10):1,e=c[1]?parseInt(c[1],10):0,f=0,g=-1;0<d?0>e?e=e%d&&d+e%d:0<
e&&(e>=d&&(f=e-e%d),e%=d):0>d&&(d*=-1,0<e&&(g=e,e%=d));if(0<d)return function(a){a=J(a);return a>=f&&(0>g||a<=g)&&a%d==e};b=e}var j=parseInt(b,10);return function(a){return J(a)==j}}},rd=F?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return ia?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},oc={},lc={},kc={},jc=!!document.querySelectorAll&&(!H||I("526")),P=0,qd=F?function(a){return ia?a.getAttribute("_uid")||
a.setAttribute("_uid",++P)||P:a.uniqueID}:function(a){return a._uid||(a._uid=++P)};a.Z=ub;return a}();ca("goog.dom.query",L);ca("goog.dom.query.pseudos",L.Z);!F||vb(9);var Yb=!F||vb(9),Zb=F&&!I("8");!H||I("528");G&&I("1.9b")||F&&I("8")||ib&&I("9.5")||H&&I("528");!G||I("8");function $b(){}$b.prototype.Ab=m;$b.prototype.Fa=function(){this.Ab||(this.Ab=k,this.Ga())};$b.prototype.Ga=function(){this.Xb&&ac.apply(l,this.Xb)};function ac(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ea(d)?ac.apply(l,d):d&&"function"==typeof d.Fa&&d.Fa()}};function M(a,b){this.type=a;this.currentTarget=this.target=b}qa(M,$b);M.prototype.Ga=function(){delete this.type;delete this.target;delete this.currentTarget};M.prototype.lb=m;M.prototype.Lb=k;M.prototype.preventDefault=function(){this.Lb=m};function bc(a){bc[" "](a);return a}bc[" "]=o();function cc(a,b){a&&this.F(a,b)}qa(cc,M);q=cc.prototype;q.target=l;q.relatedTarget=l;q.offsetX=0;q.offsetY=0;q.clientX=0;q.clientY=0;q.screenX=0;q.screenY=0;q.button=0;q.keyCode=0;q.charCode=0;q.ctrlKey=m;q.altKey=m;q.shiftKey=m;q.metaKey=m;q.ga=l;
q.F=function(a,b){var c=this.type=a.type;M.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(G){var e;a:{try{bc(d.nodeName);e=k;break a}catch(f){}e=m}e||(d=l)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=H||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=H||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.ga=a;delete this.Lb;delete this.lb};q.preventDefault=function(){cc.Nb.preventDefault.call(this);var a=this.ga;if(a.preventDefault)a.preventDefault();else if(a.returnValue=m,Zb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};q.Zb=aa("ga");
q.Ga=function(){cc.Nb.Ga.call(this);this.relatedTarget=this.currentTarget=this.target=this.ga=l};function dc(){}var ec=0;q=dc.prototype;q.key=0;q.ka=m;q.yb=m;q.F=function(a,b,c,d,e,f){if(x(a))this.Fb=k;else if(a&&a.handleEvent&&x(a.handleEvent))this.Fb=m;else throw Error("Invalid listener argument");this.La=a;this.Jb=b;this.src=c;this.type=d;this.capture=!!e;this.wa=f;this.yb=m;this.key=++ec;this.ka=m};q.handleEvent=function(a){return this.Fb?this.La.call(this.wa||this.src,a):this.La.handleEvent.call(this.La,a)};var fc={},N={},gc={},hc={};
function O(a,b,c,d,e){if(b){if(t(b)){for(var f=0;f<b.length;f++)O(a,b[f],c,d,e);return l}var d=!!d,g=N;b in g||(g[b]={o:0,$:0});g=g[b];d in g||(g[d]={o:0,$:0},g.o++);var g=g[d],i=a[ga]||(a[ga]=++la),j;g.$++;if(g[i]){j=g[i];for(f=0;f<j.length;f++)if(g=j[f],g.La==c&&g.wa==e){if(g.ka)break;return j[f].key}}else j=g[i]=[],g.o++;f=ic();f.src=a;g=new dc;g.F(c,f,a,b,d,e);c=g.key;f.key=c;j.push(g);fc[c]=g;gc[i]||(gc[i]=[]);gc[i].push(g);a.addEventListener?(a==s||!a.Wb)&&a.addEventListener(b,f,d):a.attachEvent(b in
hc?hc[b]:hc[b]="on"+b,f);return c}throw Error("Invalid event type");}function ic(){var a=sc,b=Yb?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b}
function Q(a){if(fc[a]){var b=fc[a];if(!b.ka){var c=b.src,d=b.type,e=b.Jb,f=b.capture;c.removeEventListener?(c==s||!c.Wb)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in hc?hc[d]:hc[d]="on"+d,e);c=c[ga]||(c[ga]=++la);e=N[d][f][c];if(gc[c]){var g=gc[c];B(g,b);0==g.length&&delete gc[c]}b.ka=k;e.Ib=k;tc(d,f,c,e);delete fc[a]}}}
function tc(a,b,c,d){if(!d.Ma&&d.Ib){for(var e=0,f=0;e<d.length;e++)d[e].ka?d[e].Jb.src=l:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.Ib=m;0==f&&(delete N[a][b][c],N[a][b].o--,0==N[a][b].o&&(delete N[a][b],N[a].o--),0==N[a].o&&delete N[a])}}function uc(a,b,c,d,e){var f=1,b=b[ga]||(b[ga]=++la);if(a[b]){a.$--;a=a[b];a.Ma?a.Ma++:a.Ma=1;try{for(var g=a.length,i=0;i<g;i++){var j=a[i];j&&!j.ka&&(f&=vc(j,e)!==m)}}finally{a.Ma--,tc(c,d,b,a)}}return Boolean(f)}
function vc(a,b){var c=a.handleEvent(b);a.yb&&Q(a.key);return c}
function sc(a,b){if(!fc[a])return k;var c=fc[a],d=c.type,e=N;if(!(d in e))return k;var e=e[d],f,g;if(!Yb){var i;if(!(i=b))a:{i=["window","event"];for(var j=s;f=i.shift();)if(j[f]!=l)j=j[f];else{i=l;break a}i=j}f=i;i=k in e;j=m in e;if(i){if(0>f.keyCode||f.returnValue!=h)return k;a:{var n=m;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(w){n=k}if(n||f.returnValue==h)f.returnValue=k}}n=new cc;n.F(f,this);f=k;try{if(i){for(var p=[],J=n.currentTarget;J;J=J.parentNode)p.push(J);g=e[k];g.$=g.o;for(var C=
p.length-1;!n.lb&&0<=C&&g.$;C--)n.currentTarget=p[C],f&=uc(g,p[C],d,k,n);if(j){g=e[m];g.$=g.o;for(C=0;!n.lb&&C<p.length&&g.$;C++)n.currentTarget=p[C],f&=uc(g,p[C],d,m,n)}}else f=vc(c,n)}finally{p&&(p.length=0),n.Fa()}return f}d=new cc(b,this);try{f=vc(c,d)}finally{d.Fa()}return f};function R(a,b,c){u(b)?wc(a,c,b):Hb(b,pa(wc,a))}function wc(a,b,c){a.style[Na(c)]=b}function xc(a,b){var c=Mb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,l))?c[b]||c.getPropertyValue(b):""}function yc(a,b){return xc(a,b)||(a.currentStyle?a.currentStyle[b]:l)||a.style&&a.style[b]}function zc(a,b,c){var d,e=G&&(db||kb)&&I("1.9");b instanceof Fb?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Ac(d,e);a.style.top=Ac(b,e)}
function Bc(a){var b=a.getBoundingClientRect();F&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Cc(a){if(F&&!vb(8))return a.offsetParent;for(var b=Mb(a),c=yc(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=yc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return l}function Dc(a,b){var c=Ec(a),d=Ec(b);return new Fb(c.x-d.x,c.y-d.y)}
function Ec(a){var b=new Fb;if(1==a.nodeType)if(a.getBoundingClientRect)a=Bc(a),b.x=a.left,b.y=a.top;else{var c=Vb(Kb(a));var d,e=Mb(a),f=yc(a,"position"),g=G&&e.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==f&&(d=e.getBoxObjectFor(a))&&(0>d.screenX||0>d.screenY),i=new Fb(0,0),j;d=e?9==e.nodeType?e:Mb(e):document;if(j=F)if(j=!vb(9))Kb(d),j=m;j=j?d.body:d.documentElement;if(a!=j)if(a.getBoundingClientRect)d=Bc(a),a=Vb(Kb(e)),i.x=d.left+a.x,i.y=d.top+a.y;else if(e.getBoxObjectFor&&!g)d=e.getBoxObjectFor(a),
a=e.getBoxObjectFor(j),i.x=d.screenX-a.screenX,i.y=d.screenY-a.screenY;else{g=a;do{i.x+=g.offsetLeft;i.y+=g.offsetTop;g!=a&&(i.x+=g.clientLeft||0,i.y+=g.clientTop||0);if(H&&"fixed"==yc(g,"position")){i.x+=e.body.scrollLeft;i.y+=e.body.scrollTop;break}g=g.offsetParent}while(g&&g!=a);if(ib||H&&"absolute"==f)i.y-=e.body.offsetTop;for(g=a;(g=Cc(g))&&g!=e.body&&g!=j;)if(i.x-=g.scrollLeft,!ib||"TR"!=g.tagName)i.y-=g.scrollTop}b.x=i.x-c.x;b.y=i.y-c.y}else c=x(a.Zb),i=a,a.targetTouches?i=a.targetTouches[0]:
c&&a.ga.targetTouches&&(i=a.ga.targetTouches[0]),b.x=i.clientX,b.y=i.clientY;return b}function Fc(a,b,c){if(b instanceof Gb)c=b.height,b=b.width;else if(c==h)throw Error("missing height argument");a.style.width=Ac(b,k);a.style.height=Ac(c,k)}function Ac(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function Gc(a){if("none"!=yc(a,"display"))return Hc(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Hc(a);b.display=c;b.position=e;b.visibility=d;return a}function Hc(a){var b=a.offsetWidth,c=a.offsetHeight,d=H&&!b&&!c;return(b===h||d)&&a.getBoundingClientRect?(a=Bc(a),new Gb(a.right-a.left,a.bottom-a.top)):new Gb(b,c)}
function S(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function T(a,b){a.style.display=b?"":"none"};function Ic(a){var b,c;this.S=a;this.m=new Jc;this.ua=[];this.xb=k;b=Pb("div","annotorious-annotationlayer");R(b,"position","relative");R(b,"display","inline-block");Fc(b,a.width,a.height);Sb(b,a);b.appendChild(a);c=K(Kc,{width:a.width,height:a.height});Ab(c,"annotorious-item-unfocus");b.appendChild(c);this.k=K(Kc,{width:a.width,height:a.height});T(this.k,m);b.appendChild(this.k);this.popup=new U(b,this);a=new Lc;a.F(this.k,this);this.ua.push(a);this.oa=a;a=new Mc;a.F(this.k,this);this.ua.push(a);
this.D=new Nc(c,this.popup,this);this.editor=new V(this,b);this.rb=new Oc(this,b);var d=this;O(b,"mouseover",function(a){a=a.relatedTarget;if(!a||!Ub(b,a))d.m.fireEvent(Pc),Eb(c,"annotorious-item-unfocus","annotorious-item-focus")});O(b,"mouseout",function(a){a=a.relatedTarget;if(!a||!Ub(b,a))d.m.fireEvent(Qc),Eb(c,"annotorious-item-focus","annotorious-item-unfocus")});O(c,"mousedown",function(a){d.xb&&(T(d.k,k),d.D.A(h),d.oa.mb(a.offsetX,a.offsetY))});this.m.g(Rc,function(a){a=a.ob;d.editor.la({x:a.left+
d.S.offsetLeft,y:a.bottom+4+d.S.offsetTop});d.editor.open()});this.m.g(Sc,function(){T(d.k,m);d.oa.K()})}function Tc(a,b){a.D.r(b);var c=A(a.ua,function(a){return a.ib()==b.shapes[0].type});if(c){T(a.k,k);a.D.A(h);var d=a.k.getContext("2d"),e=b.shapes[0],e="pixel"==e.units?e:Aa(e,function(b){return a.Ia(b)});c.hb(d,e)}c=za(b.shapes[0]);c="pixel"==b.shapes[0].units?{x:c.x,y:c.y+c.height}:a.Ia({x:c.x,y:c.y+c.height});a.editor.la({x:c.x+a.S.offsetLeft,y:c.y+4+a.S.offsetTop});a.editor.open(b)}q=Ic.prototype;
q.n=function(a,b){this.D.n(a,b)};q.g=function(a,b){this.m.g(a,b)};q.fireEvent=function(a,b){this.m.fireEvent(a,b)};q.Ia=function(a){var b=Gc(this.S);return{x:a.x*b.width,y:a.y*b.height}};q.ha=aa("oa");q.G=function(){return this.D.G()};q.ia=aa("ua");q.getItem=function(){return{src:Uc(this.S)}};q.A=function(a){this.D.A(a)};q.r=function(a){this.D.r(a)};q.Sa=function(a,b){this.m.Sa(a,b)};q.ya=function(a){this.oa=A(this.ua,function(b){return b.getName()==a})};
q.aa=function(a){this.xb=a;a||(a=this.rb,a.pa(),delete a.wb,delete a.vb,delete a.bb,delete a.ab,(a=a.element)&&a.parentNode&&a.parentNode.removeChild(a),delete this.rb)};q.K=function(a){T(this.k,m);this.oa.K();a&&this.D.n(a)};q.za=function(a){var b=Gc(this.S);return{x:a.x/b.width,y:a.y/b.height}};function W(a,b){this.P={};this.l=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof W)Vc(a),e=a.l.concat(),d=Wc(a);else{var c=[],f=0;for(e in a)c[f++]=e;e=c;c=[];f=0;for(d in a)c[f++]=a[d];d=c}for(c=0;c<e.length;c++)this.set(e[c],d[c])}}W.prototype.o=0;function Wc(a){Vc(a);for(var b=[],c=0;c<a.l.length;c++)b.push(a.P[a.l[c]]);return b}
W.prototype.clear=function(){this.P={};this.o=this.l.length=0};function Vc(a){if(a.o!=a.l.length){for(var b=0,c=0;b<a.l.length;){var d=a.l[b];Object.prototype.hasOwnProperty.call(a.P,d)&&(a.l[c++]=d);b++}a.l.length=c}if(a.o!=a.l.length){for(var e={},c=b=0;b<a.l.length;)d=a.l[b],Object.prototype.hasOwnProperty.call(e,d)||(a.l[c++]=d,e[d]=1),b++;a.l.length=c}}W.prototype.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.P,a)?this.P[a]:b};
W.prototype.set=function(a,b){Object.prototype.hasOwnProperty.call(this.P,a)||(this.o++,this.l.push(a));this.P[a]=b};function Xc(){this.j=new W;this.Aa=[];this.U=[];this.pb=[];this.ra=[];this.ca=[];this.Ua=[];this.tb=k}q=Xc.prototype;q.F=function(){var a=L("img.annotatable",document);Ta(this.pb,a);Ta(this.ra,a);Yc(this);var b=this,c=O(window,"scroll",function(){0<b.ra.length?Yc(b):Q(c)})};
function Yc(a){y(a.ra,function(b){for(var c=b,d=c.offsetTop,e=c.offsetLeft,f=c.offsetWidth,g=c.offsetHeight;c.offsetParent;)c=c.offsetParent,d+=c.offsetTop,e+=c.offsetLeft;d<window.pageYOffset+window.innerHeight&&e<window.pageXOffset+window.innerWidth&&d+g>window.pageYOffset&&e+f>window.pageXOffset&&Zc(a,b)})}
function Zc(a,b){var c=[],d=[],e=new Ic(b);a.tb||e.aa(m);var f=Uc(b);y(a.Aa,function(a){e.g(a.type,a.wa)});y(a.U,function(a){if(a.onInitAnnotator)a.onInitAnnotator(e)});y(a.ca,function(a){a.src==f&&(e.n(a),c.push(a))});y(a.Ua,function(a){a.src==f&&(e.r(a),d.push(a))});y(c,function(b){B(a.ca,b)});y(d,function(b){B(a.Ua,b)});a.j.set(f,e);B(a.ra,b)}function Uc(a){var b=a.getAttribute("data-original");return b?b:a.src}
q.n=function(a,b){if(this.N(a.src)){var c=this.j.get(a.src);c?c.n(a,b):(this.ca.push(a),b&&B(this.ca,b))}};q.g=function(a,b){y(Wc(this.j),function(c){c.g(a,b)});this.Aa.push({type:a,wa:b})};q.Da=function(a){this.U.push(a);y(Wc(this.j),function(b){if(a.onInitAnnotator)a.onInitAnnotator(b)})};q.N=function(a){return Object.prototype.hasOwnProperty.call(this.j.P,a)?k:A(this.ra,function(b){return Uc(b)==a})!=l};q.ha=function(a){if(this.N(a)&&(a=this.j.get(a)))return a.ha().getName()};
q.G=function(a){if(a){var b=this.j.get(a);return b?b.G():Pa(this.ca,function(b){return b.src==a})}var c=[];y(Wc(this.j),function(a){Ta(c,a.G())});Ta(c,this.ca);return c};q.ia=function(a){if(this.N(a)&&(a=this.j.get(a)))return Qa(a.ia(),function(a){return a.getName()})};q.A=function(a){if(a){if(this.N(a.src)){var b=this.j.get(a.src);b&&b.A(a)}}else y(Wc(this.j),function(a){a.A()})};q.Na=function(a){this.nb(a)&&(this.pb.push(a),Zc(this,a))};
q.r=function(a){if(this.N(a.src)){var b=this.j.get(a.src);b?b.r(a):this.Ua.push(a)}};q.ya=function(a,b){if(this.N(a)){var c=this.j.get(a);c&&c.ya(b)}};q.aa=function(a){this.tb=a;y(Wc(this.j),function(b){b.aa(a)})};q.nb=function(a){return fa(a)&&1==a.nodeType?"IMG"==a.tagName:m};function Nc(a,b,c){this.h=a;this.v=b;this.e=c;this.ba=[];this.W=[];this.c=this.h.getContext("2d");this.ea=k;this.Za=m;var d=this;O(this.h,"mousemove",function(a){if(d.ea){var b=$c(d,a.offsetX,a.offsetY);b?(d.Za=m,d.f?d.f!=b&&(d.ea=m,ad(d.v)):(d.f=b,bd(d),d.e.fireEvent(cd,{X:d.f,Oa:a}))):!d.Za&&d.f&&(d.ea=m,ad(d.v))}else d.na=a});c.g(Qc,function(){delete d.f;d.ea=k});c.g(dd,function(){if(!d.ea&&d.na){var a=d.f;d.f=$c(d,d.na.offsetX,d.na.offsetY);d.ea=k;a!=d.f?(bd(d),d.e.fireEvent(ed,{X:a,Oa:d.na}),
d.e.fireEvent(cd,{X:d.f,Oa:d.na})):d.f&&fd(d.v)}else bd(d)})}Nc.prototype.n=function(a,b){b&&(b==this.f&&delete this.f,B(this.ba,b),delete this.W[Ba(b.shapes[0])]);this.ba.push(a);var c=a.shapes[0];if("pixel"!=c.units)var d=this,c=Aa(c,function(a){return d.e.Ia(a)});this.W[Ba(a.shapes[0])]=c;bd(this)};Nc.prototype.r=function(a){a==this.f&&delete this.f;B(this.ba,a);delete this.W[Ba(a.shapes[0])];bd(this)};Nc.prototype.G=aa("ba");Nc.prototype.A=function(a){(this.f=a)?this.Za=k:ad(this.v);bd(this)};
function $c(a,b,c){a=gd(a,b,c);if(0<a.length)return a[0]}
function gd(a,b,c){var d=[];y(a.ba,function(e){var f;f=a.W[Ba(e.shapes[0])];if("rect"==f.type)f=b<f.geometry.x||c<f.geometry.y||b>f.geometry.x+f.geometry.width||c>f.geometry.y+f.geometry.height?m:k;else if("polygon"==f.type){f=f.geometry.Y;for(var g=m,i=f.length-1,j=0;j<f.length;j++)f[j].y>c!=f[i].y>c&&b<(f[i].x-f[j].x)*(c-f[j].y)/(f[i].y-f[j].y)+f[j].x&&(g=!g),i=j;f=g}else f=m;f&&d.push(e)});Wa(d,function(a,b){return ya(a.shapes[0])>ya(b.shapes[0])});return d}
function hd(a,b,c){var d=A(a.e.ia(),function(a){return a.ib()==b.type});d?d.hb(a.c,b,c):console.log("WARNING unsupported shape type: "+b.type)}function bd(a){a.c.clearRect(0,0,a.h.width,a.h.height);y(a.ba,function(b){hd(a,a.W[Ba(b.shapes[0])])});if(a.f){var b=a.W[Ba(a.f.shapes[0])];hd(a,b,k);b=za(b);a.v.show(a.f,{x:b.x,y:b.y+b.height+5})}};var id={};
function jd(a){this.M=a;this.Q=a.div;var b=parseInt(xc(this.Q,"width")),c=parseInt(xc(this.Q,"height"));this.m=new Jc;var d=Pb("div","annotorious-annotationlayer");R(d,"position","relative");Fc(d,b,c);Sb(d,this.Q);d.appendChild(this.Q);var e=K(kd,{Hb:"Press and Hold CTRL to Annotate"});R(e,"z-index",9998);S(e,0);d.appendChild(e);var f=K(ld,{Hb:"Click and Drag"});R(f,"z-index",9998);S(f,0);d.appendChild(f);this.v=new U(d,this);this.D=new md(a,this.v,this);this.k=K(Kc,{width:b,height:c});T(this.k,m);
R(this.k,"z-index",9999);d.appendChild(this.k);this.cb=new Lc;this.Xa=new V(this.cb,this);R(this.Xa.element,"z-index",1E4);var g=this;O(d,"mouseover",function(a){a=a.relatedTarget;if(!a||!Ub(d,a))g.m.fireEvent(Pc),S(e,0.8)});O(d,"mouseout",function(a){a=a.relatedTarget;if(!a||!Ub(d,a))g.m.fireEvent(Qc),S(e,0)});var i=m;O(document,"keydown",function(a){17==a.keyCode&&(i=k,S(e,0),S(f,0.8),window.setTimeout(function(){S(f,0)},2E3))});O(document,"keyup",function(){i=m});O(this.Q,"mousedown",function(a){i&&
(T(g.k,k),g.cb.mb(a.clientX,a.clientY))});this.m.g(Rc,function(a){a=a.ob;g.Xa.la(a.left+g.Q.offsetLeft,a.bottom+4+g.Q.offsetTop);g.Xa.open()});this.m.g(Sc,function(){g.K()})}q=jd.prototype;q.K=function(){T(this.k,m);this.cb.K()};q.g=function(a,b){this.m.g(a,b)};q.fireEvent=function(a,b){this.m.fireEvent(a,b)};q.za=function(a){a=this.M.getLonLatFromPixel(new OpenLayers.Pixel(a.x,a.y));return{x:a.lon,y:a.lat}};
q.Ia=function(a){a=this.M.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x,a.y));return{x:a.x,y:a.y}};q.n=function(a){this.D.n(a)};q.r=function(a){this.D.r(a)};function nd(){this.j=new W;this.Aa=[];this.U=[];this.Sb=[]}q=nd.prototype;q.F=o();q.n=o();q.g=o();q.Da=o();q.N=o();q.G=o();q.Na=function(a){var b=new jd(a);y(this.Aa,function(a){b.g(a.type,a.wa)});y(this.U,function(a){a.bc&&a.bc(b.jc());a.ac&&a.ac(b.ic())});this.j.set(map.id,b);this.Sb.push(map)};q.r=o();q.A=o();q.aa=o();q.nb=function(a){return a instanceof OpenLayers.Map};function md(a,b,c){this.M=a;this.v=b;R(this.v.element,"z-index",99E3);this.Ca=[];this.Ta=new OpenLayers.Layer.Boxes("Annotorious");this.M.addLayer(this.Ta);var d=this;this.M.events.register("move",this.M,function(){if(d.da){var a=d.da.xa.div,b=Dc(a,d.M.div),a=parseInt(a.style[Na("height")]||"",10);d.v.la(b.x,b.y+a+5)}});c.g(dd,function(){d.$a==d.da?fd(d.v):od(d,d.$a,d.da)})}
function od(a,b,c){if(b){var d=Dc(b.xa.div,a.M.div),e=parseInt(b.xa.div.style[Na("height")]||"",10);R(b.Eb,"border-color","#fff000");a.v.show(b.X,d.x,d.y+e+5);a.da=b}else delete a.da;c&&R(c.Eb,"border-color","#fff")}
md.prototype.n=function(a){var b=a.shapes[0].geometry,b=new OpenLayers.Marker.Box(new OpenLayers.Bounds(b.x,b.y,b.x+b.width,b.y+b.height));Ab(b.div,"annotorious-ol-boxmarker-outer");R(b.div,"border",l);var c=Pb("div","annotorious-ol-boxmarker-inner");Fc(c,"100%","100%");b.div.appendChild(c);var d={X:a,xa:b,Eb:c},e=this;O(c,"mouseover",function(){e.da||od(e,d);e.$a=d});O(c,"mouseout",function(){delete e.$a;ad(e.v)});this.Ca.push(d);Wa(this.Ca,function(a,b){var c=a.X.shapes[0].geometry;return ra.Yb.size(b.X.shapes[0].geometry)-
ra.Yb.size(c)});var f=1E4;y(this.Ca,function(a){R(a.xa.div,"z-index",f);f++});this.Ta.addMarker(b)};md.prototype.r=function(a){var b=A(this.Ca,function(b){return b.X==a});b&&this.Ta.removeMarker(b.xa)};window.annotorious||(window.annotorious={});window.annotorious.plugin||(window.annotorious.plugin={});function Mc(){}q=Mc.prototype;q.F=function(a,b){this.h=a;this.e=b;this.c=a.getContext("2d");this.V=[];this.R=m};
q.ma=function(){function a(a,b){return 1<c.V.length&&5>Math.abs(a-c.d.x)&&5>Math.abs(b-c.d.y)}function b(a,b){c.c.clearRect(0,0,c.h.width,c.h.height);c.c.lineWidth=2.5;c.c.strokeStyle="#000000";c.c.beginPath();c.c.moveTo(c.d.x,c.d.y);y(c.V,function(a){c.c.lineTo(a.x,a.y)});c.c.lineTo(a.x,a.y);c.c.stroke();c.c.lineWidth=1.4;c.c.strokeStyle="#ffffff";c.c.beginPath();c.c.moveTo(c.d.x,c.d.y);y(c.V,function(a){c.c.lineTo(a.x,a.y)});c.c.lineTo(a.x,a.y);c.c.stroke();b&&(c.c.lineWidth=1,c.c.fillStyle="#ffffff",
c.c.strokeStyle="#000000",c.c.beginPath(),c.c.arc(a.x,a.y,3.5,0,2*Math.PI,m),c.c.fill(),c.c.stroke())}var c=this;this.T=O(this.h,"mousemove",function(d){c.R&&(c.Tb={x:d.offsetX,y:d.offsetY},b(c.Tb,a(d.offsetX,d.offsetY)))});this.fa=O(this.h,"mouseup",function(d){a(d.offsetX,d.offsetY)?(c.R=m,b(c.d),c.e.fireEvent(Rc,{Oa:d,shape:c.Ja(),ob:c.Ka()})):c.V.push({x:d.offsetX,y:d.offsetY})})};q.pa=function(){this.T&&(Q(this.T),delete this.T);this.fa&&(Q(this.fa),delete this.fa)};q.getName=ba("polygon");
q.ib=ba("polygon");q.mb=function(a,b){this.R=k;this.ma();this.d=new sa(a,b);this.e.fireEvent(pd,{offsetX:a,offsetY:b});R(document.body,"-webkit-user-select","none")};q.K=function(){this.pa();this.c.clearRect(0,0,this.h.width,this.h.height);R(document.body,"-webkit-user-select","auto");this.V=[]};q.Ja=function(){var a=[];a.push(this.e.za(this.d));var b=this;y(this.V,function(c){a.push(b.e.za(c))});return new xa("polygon",new ta(a))};
q.Ka=function(){var a=this.d.x,b=this.d.x,c=this.d.y,d=this.d.y;y(this.V,function(e){e.x>a&&(a=e.x);e.x<b&&(b=e.x);e.y>d&&(d=e.y);e.y<c&&(c=e.y)});return{top:c,right:a,bottom:d,left:b}};
q.hb=function(a,b,c){c=c?"#fff000":"#ffffff";a.lineWidth=1.3;a.strokeStyle="#000000";var d;d=b.geometry.Y;var e=0>ua(d)?-1:1;if(4>d.length)d=va(d,1.2*e);else{for(var f=d.length-1,g=1,i=[],j=0;j<d.length;j++)f=va([d[f],d[j],d[g]],1.2*e),i.push(f[1]),f=j,g++,g>d.length-1&&(g=0);d=i}e=(new xa("polygon",new ta(d))).geometry.Y;a.beginPath();a.moveTo(e[0].x,e[0].y);for(d=1;d<e.length;d++)a.lineTo(e[d].x,e[d].y);a.lineTo(e[0].x,e[0].y);a.stroke();a.lineWidth=1.2;a.strokeStyle=c;b=b.geometry.Y;a.beginPath();
a.moveTo(b[0].x,b[0].y);for(d=1;d<b.length;d++)a.lineTo(b[d].x,b[d].y);a.lineTo(b[0].x,b[0].y);a.stroke()};function Lc(){}q=Lc.prototype;q.F=function(a,b){this.h=a;this.e=b;this.c=a.getContext("2d");this.c.lineWidth=1;this.R=m};
q.ma=function(){var a=this;this.T=O(this.h,"mousemove",function(b){if(a.R){a.w={x:b.offsetX,y:b.offsetY};a.c.clearRect(0,0,a.h.width,a.h.height);var b=a.w.x-a.d.x,c=a.w.y-a.d.y;a.c.strokeStyle="#000000";a.c.strokeRect(a.d.x+0.5,a.d.y+0.5,b,c);a.c.strokeStyle="#ffffff";0<b&&0<c?a.c.strokeRect(a.d.x+1.5,a.d.y+1.5,b-2,c-2):0<b&&0>c?a.c.strokeRect(a.d.x+1.5,a.d.y-0.5,b-2,c+2):0>b&&0>c?a.c.strokeRect(a.d.x-0.5,a.d.y-0.5,b+2,c+2):a.c.strokeRect(a.d.x-0.5,a.d.y+1.5,b+2,c-2)}});this.fa=O(this.h,"mouseup",
function(b){a.R=m;var c=a.Ja();c?a.e.fireEvent(Rc,{Oa:b,shape:c,ob:a.Ka()}):a.e.fireEvent(Sc)})};q.pa=function(){this.T&&(Q(this.T),delete this.T);this.fa&&(Q(this.fa),delete this.ec)};q.getName=ba("rect_drag");q.ib=ba("rect");q.mb=function(a,b){this.R=k;this.ma();this.d=new sa(a,b);this.e.fireEvent(pd,{offsetX:a,offsetY:b});R(document.body,"-webkit-user-select","none")};q.K=function(){this.pa();this.c.clearRect(0,0,this.h.width,this.h.height);R(document.body,"-webkit-user-select","auto");delete this.w};
q.Ja=function(){if(this.w&&3<Math.abs(this.w.x-this.d.x)&&3<Math.abs(this.w.y-this.d.y)){var a=this.Ka(),b=this.e.za({x:a.left,y:a.top}),a=this.e.za({x:a.right-1,y:a.bottom-1});return new xa("rect",new wa(b.x,b.y,a.x-b.x,a.y-b.y))}};q.Ka=function(){var a,b;this.w.x>this.d.x?(a=this.w.x,b=this.d.x):(a=this.d.x,b=this.w.x);var c,d;this.w.y>this.d.y?(c=this.d.y,d=this.w.y):(c=this.w.y,d=this.d.y);return{top:c,right:a,bottom:d,left:b}};
q.hb=function(a,b,c){if("rect"==b.type){var d;c?(c="#fff000",d=1.2):(c="#ffffff",d=1);b=b.geometry;a.strokeStyle="#000000";a.lineWidth=d;a.strokeRect(b.x+0.5,b.y+0.5,b.width+1,b.height+1);a.strokeStyle=c;a.strokeRect(b.x+1.5,b.y+1.5,b.width-1,b.height-1)}};function td(a,b,c){this.src=a;this.text=b;this.shapes=[c];this.context=document.URL};function ud(a){window.addEventListener?window.addEventListener("load",a):window.attachEvent&&window.attachEvent("onload",a)};function X(){this.H=[new Xc];id&&this.H.push(new nd);this.U=[];var a=this;ud(function(){y(a.H,function(a){a.F()});y(a.U,function(b){b.initPlugin&&b.initPlugin(a);y(a.H,function(a){a.Da(b)})})})}function Y(a,b){return A(a.H,function(a){return a.N(b)})}q=X.prototype;q.n=function(a,b){var c=Y(this,a.src);c&&c.n(a,b)};q.g=function(a,b){y(this.H,function(c){c.g(a,b)})};q.Da=function(a,b){try{this.U.push(new window.annotorious.plugin[a](b))}catch(c){console.log("Could not load plugin: "+a)}};
q.ha=function(a){var b=Y(this,a);if(b)return b.ha(a)};q.G=function(a){if(a){var b=Y(this,a);return b?b.G(a):[]}var c=[];y(this.H,function(a){Ta(c,a.G())});return c};q.ia=function(a){var b=Y(this,a);if(b)return b.ia(a)};q.A=function(a){if(a){var b=Y(this,a.src);b&&b.A(a)}else y(this.H,function(a){a.A()})};q.Na=function(a){var b=A(this.H,function(b){return b.nb(a)});if(b)b.Na(a);else throw"Error: Annotorious does not support this media type in the current version or build configuration.";};
q.r=function(a){var b=Y(this,a.src);b&&b.r(a)};q.ya=function(a,b){var c=Y(this,a);c&&c.ya(a,b)};q.aa=function(a){y(this.H,function(b){b.aa(a)})};window.anno=new X;X.prototype.addAnnotation=X.prototype.n;X.prototype.addHandler=X.prototype.g;X.prototype.addPlugin=X.prototype.Da;X.prototype.getActiveSelector=X.prototype.ha;X.prototype.getAnnotations=X.prototype.G;X.prototype.getAvailableSelectors=X.prototype.ia;X.prototype.highlightAnnotation=X.prototype.A;X.prototype.makeAnnotatable=X.prototype.Na;
X.prototype.removeAnnotation=X.prototype.r;X.prototype.setActiveSelector=X.prototype.ya;X.prototype.setSelectionEnabled=X.prototype.aa;var vd;(vd="ScriptEngine"in s&&"JScript"==s.ScriptEngine())&&(s.ScriptEngineMajorVersion(),s.ScriptEngineMinorVersion(),s.ScriptEngineBuildVersion());function Z(a,b){this.z=vd?[]:"";a!=l&&this.append.apply(this,arguments)}Z.prototype.set=function(a){this.clear();this.append(a)};vd?(Z.prototype.gb=0,Z.prototype.append=function(a,b,c){b==l?this.z[this.gb++]=a:(this.z.push.apply(this.z,arguments),this.gb=this.z.length);return this}):Z.prototype.append=function(a,b,c){this.z+=a;if(b!=l)for(var d=1;d<arguments.length;d++)this.z+=arguments[d];return this};Z.prototype.clear=function(){vd?this.gb=this.z.length=0:this.z=""};
Z.prototype.toString=function(){if(vd){var a=this.z.join("");this.clear();a&&this.append(a);return a}return this.z};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

 // Copyright (C) 2006 Google Inc.
 //
 // Licensed under the Apache License, Version 2.0 (the "License");
 // you may not use this file except in compliance with the License.
 // You may obtain a copy of the License at
 //
 //      http://www.apache.org/licenses/LICENSE-2.0
 //
 // Unless required by applicable law or agreed to in writing, software
 // distributed under the License is distributed on an "AS IS" BASIS,
 // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 // See the License for the specific language governing permissions and
 // limitations under the License.

*/
function wd(){}
var xd={lc:"<",kc:">",fc:"&",mc:"\u00a0",oc:'"',gc:"'"},$={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,
ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},yd=/&/g,zd=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,Ad=/</g,Bd=/>/g,Cd=/\"/g,Dd=/=/g,Ed=/\0/g,Fd=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,Gd=/^#(\d+)$/,Hd=/^#x([0-9A-Fa-f]+)$/,Id=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*))?)|(/?>)|[^a-z\\s>]+)",
"i"),Jd=RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<[!]--[\\s\\S]*?--\>|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i");
wd.prototype.parse=function(a,b){var c=l,d=m,e=[],f,g,i;a.B=[];for(a.O=m;b;){var j=b.match(d?Id:Jd),b=b.substring(j[0].length);if(d)if(j[1]){var n=j[1].toLowerCase();if(j[2]){j=j[3];switch(j.charCodeAt(0)){case 34:case 39:j=j.substring(1,j.length-1)}j=j.replace(Ed,"").replace(Fd,oa(this.$b,this))}else j=n;e.push(n,j)}else j[4]&&(g!==h&&(i?a.Mb&&a.Mb(f,e):a.Bb&&a.Bb(f)),i&&g&12&&(c=c===l?b.toLowerCase():c.substring(c.length-b.length),d=c.indexOf("</"+f),0>d&&(d=b.length),g&4?a.zb&&a.zb(b.substring(0,
d)):a.Kb&&a.Kb(b.substring(0,d).replace(zd,"&amp;$1").replace(Ad,"&lt;").replace(Bd,"&gt;")),b=b.substring(d)),f=g=i=h,e.length=0,d=m);else if(j[1])Kd(a,j[0]);else if(j[3])i=!j[2],d=k,f=j[3].toLowerCase(),g=$.hasOwnProperty(f)?$[f]:h;else if(j[4])Kd(a,j[4]);else if(j[5])switch(j[5]){case "<":Kd(a,"&lt;");break;case ">":Kd(a,"&gt;");break;default:Kd(a,"&amp;")}}for(c=a.B.length;0<=--c;)a.L.append("</",a.B[c],">");a.B.length=0};
wd.prototype.$b=function(a){a=a.toLowerCase();if(xd.hasOwnProperty(a))return xd[a];var b=a.match(Gd);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(Hd))?String.fromCharCode(parseInt(b[1],16)):""};function Ld(){};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

 // Copyright (C) 2006 Google Inc.
 //
 // Licensed under the Apache License, Version 2.0 (the "License");
 // you may not use this file except in compliance with the License.
 // You may obtain a copy of the License at
 //
 //      http://www.apache.org/licenses/LICENSE-2.0
 //
 // Unless required by applicable law or agreed to in writing, software
 // distributed under the License is distributed on an "AS IS" BASIS,
 // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 // See the License for the specific language governing permissions and
 // limitations under the License.

*/
function Md(a,b){var c=new Z;(new wd).parse(new Nd(c,b,h),a);return c.toString()}function Nd(a,b,c){this.L=a;this.B=[];this.O=m;this.Ob=b;this.Pa=c}qa(Nd,Ld);
var Od={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,
"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,
"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,
"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,
"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,
"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,
"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};
Nd.prototype.Mb=function(a,b){if(!this.O&&$.hasOwnProperty(a)){var c=$[a];if(!(c&32))if(c&16)this.O=!(c&2);else{for(var d=b,e=0;e<d.length;e+=2){var f=d[e],g=d[e+1],i=l,j;if((j=a+"::"+f,Od.hasOwnProperty(j))||(j="*::"+f,Od.hasOwnProperty(j)))i=Od[j];if(i!==l)switch(i){case 0:break;case 2:case 3:g=l;break;case 4:case 5:case 6:case 7:case 8:case 9:g=this.Pa?this.Pa(g):g;break;case 1:g=this.Ob&&this.Ob(g);break;case 11:g&&"#"===g.charAt(0)?(g=this.Pa?this.Pa(g):g)&&(g="#"+g):g=l;break;default:g=l}else g=
l;d[e+1]=g}if(b=d){c&2||this.B.push(a);this.L.append("<",a);c=0;for(d=b.length;c<d;c+=2)e=b[c],f=b[c+1],f!==l&&f!==h&&this.L.append(" ",e,'="',f.replace(yd,"&amp;").replace(Ad,"&lt;").replace(Bd,"&gt;").replace(Cd,"&#34;").replace(Dd,"&#61;"),'"');this.L.append(">")}}}};
Nd.prototype.Bb=function(a){if(this.O)this.O=m;else if($.hasOwnProperty(a)){var b=$[a];if(!(b&50)){if(b&1)for(b=this.B.length;0<=--b;){var c=this.B[b];if(c===a)break;if(!($[c]&1))return}else for(b=this.B.length;0<=--b&&!(this.B[b]===a););if(!(0>b)){for(var d=this.B.length;--d>b;)c=this.B[d],$[c]&1||this.L.append("</",c,">");this.B.length=b;this.L.append("</",a,">")}}}};function Kd(a,b){a.O||a.L.append(b)}Nd.prototype.Kb=function(a){this.O||this.L.append(a)};Nd.prototype.zb=function(a){this.O||this.L.append(a)};function V(a,b){this.element=K(Pd);this.e=a;this.Rb=a.getItem();this.va=L(".annotorious-editor-text",this.element)[0];this.Pb=L(".annotorious-editor-button-cancel",this.element)[0];this.qb=L(".annotorious-editor-button-save",this.element)[0];this.Qb=Tb(this.qb);this.Ba=[];var c=this;O(this.Pb,"click",function(b){b.preventDefault();a.K(c.sa);c.close()});O(this.qb,"click",function(b){b.preventDefault();b=Qd(c);a.n(b);a.K();c.sa?a.fireEvent(Rd,b):a.fireEvent(Sd,b);c.close()});T(this.element,m);b.appendChild(this.element);
this.va.focus()}V.prototype.eb=function(a){var b=Pb("div","annotorious-editor-field");u(a)?b.innerHTML=a:x(a)&&this.Ba.push({J:b,Cb:a});a=this.Qb;a.parentNode&&a.parentNode.insertBefore(b,a)};V.prototype.open=function(a){if(this.sa=a)this.va.value=a.text;T(this.element,k);this.va.focus()};V.prototype.close=function(){T(this.element,m);this.va.value=""};V.prototype.la=function(a){zc(this.element,a.x,a.y)};
function Qd(a){var b=Md(a.va.value,function(a){return a});return a.sa?(a.sa.text=b,a.sa):new td(a.Rb.src,b,a.e.ha().Ja())}V.prototype.addField=V.prototype.eb;function Jc(){this.qa=[]}Jc.prototype.g=function(a,b){this.qa[a]||(this.qa[a]=[]);this.qa[a].push(b)};Jc.prototype.Sa=function(a,b){var c=this.qa[a];c&&B(c,b)};Jc.prototype.fireEvent=function(a,b){var c=this.qa[a];c&&y(c,function(a){a(b)})};var Pc="onMouseOverItem",Qc="onMouseOutOfItem",cd="onMouseOverAnnotation",ed="onMouseOutOfAnnotation",pd="onSelectionStarted",Sc="onSelectionCanceled",Rc="onSelectionCompleted",dd="beforePopupHide",Sd="onAnnotationCreated",Rd="onAnnotationUpdated",Td={};function Oc(a,b){var c=this;this.element=K(kd);this.e=a;this.ub=L(".annotorious-hint-msg",this.element)[0];this.sb=L(".annotorious-hint-icon",this.element)[0];this.bb=function(){c.show()};this.ab=function(){Ud(c)};this.ma();Ud(this);b.appendChild(this.element)}Oc.prototype.ma=function(){var a=this;this.wb=O(this.sb,"mouseover",function(){a.show();window.clearTimeout(a.Ya)});this.vb=O(this.sb,"mouseout",function(){Ud(a)});this.e.g(Pc,this.bb);this.e.g(Qc,this.ab)};
Oc.prototype.pa=function(){Q(this.wb);Q(this.vb);this.e.Sa(Pc,this.bb);this.e.Sa(Qc,this.ab)};Oc.prototype.show=function(){window.clearTimeout(this.Ya);S(this.ub,0.8);var a=this;this.Ya=window.setTimeout(function(){Ud(a)},3E3)};function Ud(a){window.clearTimeout(a.Ya);S(a.ub,0)};function U(a,b){this.element=K(Vd);this.e=b;this.Ub=L(".annotorious-popup-text",this.element)[0];this.C=L(".annotorious-popup-buttons",this.element)[0];this.Wa=m;this.Ba=[];var c=L(".annotorious-popup-button-edit",this.C)[0],d=L(".annotorious-popup-button-delete",this.C)[0],e=this;O(c,"mouseover",function(){Ab(c,"annotorious-popup-button-active")});O(c,"mouseout",function(){Cb(c,"annotorious-popup-button-active")});O(c,"click",function(){S(e.element,0);R(e.element,"pointer-events","none");Tc(b,e.f)});
O(d,"mouseover",function(){Ab(d,"annotorious-popup-button-active")});O(d,"mouseout",function(){Cb(d,"annotorious-popup-button-active")});O(d,"click",function(){S(e.element,0);R(e.element,"pointer-events","none");b.fireEvent("onAnnotationRemoved",e.f);b.r(e.f)});O(this.element,"mouseover",function(){window.clearTimeout(e.Va);0.9>(e.C.style[Na("opacity")]||"")&&S(e.C,0.9);fd(e)});O(this.element,"mouseout",function(){S(e.C,0);ad(e)});b.g(Td.dc,function(){ad(e)});S(this.C,0);S(this.element,0);R(this.element,
"pointer-events","none");a.appendChild(this.element)}U.prototype.eb=function(a){var b=Pb("div","annotorious-popup-field");u(a)?b.innerHTML=a:x(a)&&this.Ba.push({J:b,Cb:a});this.element.appendChild(b)};function ad(a){a.Wa=m;a.ta||(a.ta=window.setTimeout(function(){a.e.fireEvent(dd,a);a.Wa||(S(a.element,0),R(a.element,"pointer-events","none"),S(a.C,0.9),delete a.ta)},300))}function fd(a){a.Wa=k;a.ta&&(window.clearTimeout(a.ta),delete a.ta)}
U.prototype.show=function(a,b){fd(this);if(a&&b){this.f=a;this.Ub.innerHTML=a.text?a.text:'<span class="annotorious-popup-empty">No comment</span>';"editable"in a&&a.editable==m?T(this.C,m):T(this.C,k);this.la(b);this.Va&&window.clearTimeout(this.Va);S(this.C,0.9);var c=this;this.Va=window.setTimeout(function(){S(c.C,0)},1E3);y(this.Ba,function(b){b.J.innerHTML=b.Cb(a)})}S(this.element,0.9);R(this.element,"pointer-events","auto")};U.prototype.la=function(a){zc(this.element,new Fb(a.x,a.y))};
U.prototype.addField=U.prototype.eb;F&&I(8);function Wd(a){return"object"===typeof a&&a&&0===a.hc?a.content:(""+a).replace(Xd,Yd)}var Zd={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\u000c":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Yd(a){return Zd[a]}var Xd=/[\x00\x22\x26\x27\x3c\x3e]/g;function Vd(){return'<div class="annotorious-popup" style="position:absolute;z-index:1"><div class="annotorious-popup-buttons"><a class="annotorious-popup-button annotorious-popup-button-edit" title="Edit" href="javascript:void(0);">EDIT</a><a class="annotorious-popup-button annotorious-popup-button-delete" title="Delete" href="javascript:void(0);">DELETE</a></div><span class="annotorious-popup-text"></span></div>'}
function Pd(){return'<div class="annotorious-editor" style="position:absolute;z-index:1"><form><textarea class="annotorious-editor-text" placeholder="Add a Comment..." tabindex="1"></textarea><div class="annotorious-editor-button-container"><a class="annotorious-editor-button annotorious-editor-button-cancel" href="javascript:void(0);" tabindex="3">Cancel</a><a class="annotorious-editor-button annotorious-editor-button-save" href="javascript:void(0);" tabindex="2">Save</a></div></form></div>'};function Kc(a){return'<canvas class="annotorious-item annotorious-opacity-fade" style="position:absolute; top:0px; left:0px; width:'+Wd(a.width)+"px; height:"+Wd(a.height)+'px; z-index:0" width="'+Wd(a.width)+'" height="'+Wd(a.height)+'"></canvas>'}
function kd(){return'<div class="annotorious-hint" style="white-space:nowrap; position:absolute; top:0px; left:0px; pointer-events:none;"><div class="annotorious-hint-msg annotorious-opacity-fade">Click and Drag to Annotate</div><div class="annotorious-hint-icon" style="pointer-events:auto"></div></div>'};function ld(a){return'<div class="annotorious-opacity-fade" style="white-space:nowrap; position:absolute; pointer-events:none; top:80px; width:100%; text-align:center;"><div class="annotorious-ol-hint annotorious-ol-hint-secondary" style="width: 400px; margin:0px auto;">'+Wd(a.Hb)+"</dvi></div>"};
