var h=void 0,k=!0,l=null,m=!1;function n(){return function(){}}function aa(a){return function(){return this[a]}}function ba(a){return function(){return a}}var p,r=this;function ca(a,b){var c=a.split("."),d=r;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&b!==h?d[f]=b:d=d[f]?d[f]:d[f]={}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function t(a){return"string"==typeof a}function w(a){return"function"==da(a)}function ga(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}var ha="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ia=0;function ja(a,b,c){return a.call.apply(a.bind,arguments)}
function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function la(a,b,c){la=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return la.apply(l,arguments)}
function ma(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}function na(a,b){function c(){}c.prototype=b.prototype;a.bc=b.prototype;a.prototype=new c;a.prototype.constructor=a};function oa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function pa(a){if(!qa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ra,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(sa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ta,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ua,"&quot;"));return a}var ra=/&/g,sa=/</g,ta=/>/g,ua=/\"/g,qa=/[&<>\"]/;function va(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var x=Array.prototype,wa=x.indexOf?function(a,b,c){return x.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:0>c?Math.max(0,a.length+c):c;if(t(a))return!t(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},y=x.forEach?function(a,b,c){x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=t(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},xa=x.filter?function(a,b,c){return x.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],e=0,g=t(a)?a.split(""):
a,i=0;i<d;i++)if(i in g){var j=g[i];b.call(c,j,i,a)&&(f[e++]=j)}return f},ya=x.map?function(a,b,c){return x.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),e=t(a)?a.split(""):a,g=0;g<d;g++)g in e&&(f[g]=b.call(c,e[g],g,a));return f};function B(a,b){var c;a:{c=a.length;for(var d=t(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(h,d[f],f,a)){c=f;break a}c=-1}return 0>c?l:t(a)?a.charAt(c):a[c]}function C(a,b){var c=wa(a,b);0<=c&&x.splice.call(a,c,1)}
function za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Aa(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(ea(d)||(f=fa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var e=a.length,g=d.length,i=0;i<g;i++)a[e+i]=d[i];else a.push(d)}}function Ba(a,b,c){return 2>=arguments.length?x.slice.call(a,b):x.slice.call(a,b,c)}function Ca(a,b){return a>b?1:a<b?-1:0};var Da,Ea,Fa,Ga,Ha;function Ia(){return r.navigator?r.navigator.userAgent:l}function Ja(){return r.navigator}Ga=Fa=Ea=Da=m;var Ka;if(Ka=Ia()){var La=Ja();Da=0==Ka.indexOf("Opera");Ea=!Da&&-1!=Ka.indexOf("MSIE");Fa=!Da&&-1!=Ka.indexOf("WebKit");Ga=!Da&&!Fa&&"Gecko"==La.product}var D=Da,E=Ea,F=Ga,H=Fa,Ma=Ja();Ha=-1!=(Ma&&Ma.platform||"").indexOf("Mac");var Na=!!Ja()&&-1!=(Ja().appVersion||"").indexOf("X11"),Oa;
a:{var Pa="",Qa;if(D&&r.opera)var Ra=r.opera.version,Pa="function"==typeof Ra?Ra():Ra;else if(F?Qa=/rv\:([^\);]+)(\)|;)/:E?Qa=/MSIE\s+([^\);]+)(\)|;)/:H&&(Qa=/WebKit\/(\S+)/),Qa)var Sa=Qa.exec(Ia()),Pa=Sa?Sa[1]:"";if(E){var Ta,Ua=r.document;Ta=Ua?Ua.documentMode:h;if(Ta>parseFloat(Pa)){Oa=String(Ta);break a}}Oa=Pa}var Va={};
function I(a){var b;if(!(b=Va[a])){b=0;for(var c=oa(String(Oa)).split("."),d=oa(String(a)).split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var g=c[e]||"",i=d[e]||"",j=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var u=j.exec(g)||["","",""],v=q.exec(i)||["","",""];if(0==u[0].length&&0==v[0].length)break;b=((0==u[1].length?0:parseInt(u[1],10))<(0==v[1].length?0:parseInt(v[1],10))?-1:(0==u[1].length?0:parseInt(u[1],10))>(0==v[1].length?0:parseInt(v[1],10))?1:0)||((0==u[2].length)<
(0==v[2].length)?-1:(0==u[2].length)>(0==v[2].length)?1:0)||(u[2]<v[2]?-1:u[2]>v[2]?1:0)}while(0==b)}b=Va[a]=0<=b}return b}var Wa={};function Xa(a){return Wa[a]||(Wa[a]=E&&!!document.documentMode&&document.documentMode>=a)};var Ya,Za=!E||Xa(9);!F&&!E||E&&Xa(9)||F&&I("1.9.1");E&&I("9");var $a=E||D||H;function ab(a){a=a.className;return t(a)&&a.match(/\S+/g)||[]}function bb(a,b){var c=ab(a),d=Ba(arguments,1),f=c.length+d.length;cb(c,d);a.className=c.join(" ");return c.length==f}function db(a,b){var c=ab(a),d=Ba(arguments,1),c=eb(c,d);a.className=c.join(" ")}function cb(a,b){for(var c=0;c<b.length;c++)0<=wa(a,b[c])||a.push(b[c])}function eb(a,b){return xa(a,function(a){return!(0<=wa(b,a))})}
function fb(a,b,c){var d=ab(a);t(b)?C(d,b):ea(b)&&(d=eb(d,b));t(c)&&!(0<=wa(d,c))?d.push(c):ea(c)&&cb(d,c);a.className=d.join(" ")};function K(a,b){this.x=a!==h?a:0;this.y=b!==h?b:0};function gb(a,b){this.width=a;this.height=b}gb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};gb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function hb(a,b){for(var c in a)b.call(h,a[c],c,a)}var ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<ib.length;e++)c=ib[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function kb(a){return a?new lb(mb(a)):Ya||(Ya=new lb)}var nb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ob(a){var b=!H?a.documentElement:a.body,a=a.parentWindow||a.defaultView;return new K(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}
function pb(a,b,c){var d=arguments,f=document,e=d[0],g=d[1];if(!Za&&g&&(g.name||g.type)){e=["<",e];g.name&&e.push(' name="',pa(g.name),'"');if(g.type){e.push(' type="',pa(g.type),'"');var i={};jb(i,g);delete i.type;g=i}e.push(">");e=e.join("")}e=f.createElement(e);if(g)if(t(g))e.className=g;else if(ea(g))bb.apply(l,[e].concat(g));else{var j=e;hb(g,function(a,b){"style"==b?j.style.cssText=a:"class"==b?j.className=a:"for"==b?j.htmlFor=a:b in nb?j.setAttribute(nb[b],a):0==b.lastIndexOf("aria-",0)||0==
b.lastIndexOf("data-",0)?j.setAttribute(b,a):j[b]=a})}2<d.length&&qb(f,e,d,2);return e}function qb(a,b,c,d){function f(c){c&&b.appendChild(t(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var e=c[d];if(fa(e)&&!(ga(e)&&0<e.nodeType)){var g;a:{if(e&&"number"==typeof e.length){if(ga(e)){g="function"==typeof e.item||"string"==typeof e.item;break a}if(w(e)){g="function"==typeof e.item;break a}}g=m}y(g?za(e):e,f)}else f(e)}}function rb(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function sb(a){return ga(a)&&1==a.nodeType}function tb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function mb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function lb(a){this.Ca=a||r.document||document}p=lb.prototype;p.createElement=function(a){return this.Ca.createElement(a)};p.createTextNode=function(a){return this.Ca.createTextNode(a)};
p.appendChild=function(a,b){a.appendChild(b)};p.append=function(a,b){qb(mb(a),a,arguments,1)};p.contains=tb;var ub;ub=ba(k);/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

The "New" BSD License:

Copyright (c) 2005-2009, The Dojo Foundation
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
    may be used to endorse or promote products derived from this software
    without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
function vb(a,b){var c=b||[];a&&c.push(a);return c}var wb=H&&"BackCompat"==document.compatMode,xb=document.firstChild.children?"children":"childNodes",yb=m;
function zb(a){function b(){0<=q&&(s.id=c(q,z).replace(/\\/g,""),q=-1);if(0<=u){var a=u==z?l:c(u,z);0>">~+".indexOf(a)?s.w=a:s.Pa=a;u=-1}0<=j&&(s.K.push(c(j+1,z).replace(/\\/g,"")),j=-1)}function c(b,c){return oa(a.slice(b,c))}for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",d=[],f=-1,e=-1,g=-1,i=-1,j=-1,q=-1,u=-1,v="",A="",J,z=0,ud=a.length,s=l,G=l;v=A,A=a.charAt(z),z<ud;z++)if("\\"!=v)if(s||(J=z,s={ka:l,Y:[],Ha:[],K:[],w:l,Pa:l,id:l,lb:function(){return yb?this.Xb:this.w}},u=z),0<=f)if("]"==
A){G.ib?G.nb=c(g||f+1,z):G.ib=c(f+1,z);if((f=G.nb)&&('"'==f.charAt(0)||"'"==f.charAt(0)))G.nb=f.slice(1,-1);s.Ha.push(G);G=l;f=g=-1}else"="==A&&(g=0<="|~^$*".indexOf(v)?v:"",G.type=g+A,G.ib=c(f+1,z-g.length),g=z+1);else 0<=e?")"==A&&(0<=i&&(G.value=c(e+1,z)),i=e=-1):"#"==A?(b(),q=z+1):"."==A?(b(),j=z):":"==A?(b(),i=z):"["==A?(b(),f=z,G={}):"("==A?(0<=i&&(G={name:c(i+1,z),value:l},s.Y.push(G)),e=z):" "==A&&v!=A&&(b(),0<=i&&s.Y.push({name:c(i+1,z)}),s.Hb=s.Y.length||s.Ha.length||s.K.length,s.ic=s.ka=
c(J,z),s.Xb=s.w=s.Pa?l:s.w||"*",s.w&&(s.w=s.w.toUpperCase()),d.length&&d[d.length-1].Pa&&(s.Eb=d.pop(),s.ka=s.Eb.ka+" "+s.ka),d.push(s),s=l);return d}function Ab(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}}function Bb(a){return 1==a.nodeType}function Cb(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(yb?a.getAttribute(b):a.getAttribute(b,2))||""}
var Db={"*=":function(a,b){return function(c){return 0<=Cb(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==Cb(c,a).indexOf(b)}},"$=":function(a,b){return function(c){c=" "+Cb(c,a);return c.lastIndexOf(b)==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+Cb(b,a)+" ").indexOf(c)}},"|=":function(a,b){b=" "+b;return function(c){c=" "+Cb(c,a);return c==b||0==c.indexOf(b+"-")}},"=":function(a,b){return function(c){return Cb(c,a)==b}}},Eb="undefined"==
typeof document.firstChild.nextElementSibling,Fb=!Eb?"nextElementSibling":"nextSibling",Gb=!Eb?"previousElementSibling":"previousSibling",Hb=Eb?Bb:ub;function Ib(a){for(;a=a[Gb];)if(Hb(a))return m;return k}function Jb(a){for(;a=a[Fb];)if(Hb(a))return m;return k}function Kb(a){var b=a.parentNode,c=0,d=b[xb],f=a._i||-1,e=b._l||-1;if(!d)return-1;d=d.length;if(e==d&&0<=f&&0<=e)return f;b._l=d;f=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[Fb])Hb(b)&&(b._i=++c,a===b&&(f=c));return f}
function Lb(a){return!(Kb(a)%2)}function Mb(a){return Kb(a)%2}
var Ob={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return Ib},"last-child":function(){return Jb},"only-child":function(){return function(a){return!Ib(a)||!Jb(a)?m:k}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return m}return k}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},
not:function(a,b){var c=zb(b)[0],d={v:1};"*"!=c.w&&(d.w=1);c.K.length||(d.K=1);var f=Nb(c,d);return function(a){return!f(a)}},"nth-child":function(a,b){if("odd"==b)return Mb;if("even"==b)return Lb;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:parseInt(c[0],10):1,f=c[1]?parseInt(c[1],10):0,e=0,g=-1;0<d?0>f?f=f%d&&d+f%d:0<f&&(f>=d&&(e=f-f%d),f%=d):0>d&&(d*=-1,0<f&&(g=f,f%=d));if(0<d)return function(a){a=Kb(a);return a>=e&&(0>g||a<=g)&&a%d==f};b=f}var i=parseInt(b,10);return function(a){return Kb(a)==
i}}},Pb=E?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return yb?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}};
function Nb(a,b){if(!a)return ub;var b=b||{},c=l;b.v||(c=Ab(c,Bb));b.w||"*"!=a.w&&(c=Ab(c,function(b){return b&&b.tagName==a.lb()}));b.K||y(a.K,function(a,b){var e=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=Ab(c,function(a){return e.test(a.className)});c.count=b});b.Y||y(a.Y,function(a){var b=a.name;Ob[b]&&(c=Ab(c,Ob[b](b,a.value)))});b.Ha||y(a.Ha,function(a){var b,e=a.ib;a.type&&Db[a.type]?b=Db[a.type](e,a.nb):e.length&&(b=Pb(e));b&&(c=Ab(c,b))});b.id||a.id&&(c=Ab(c,function(b){return!!b&&b.id==a.id}));
c||"default"in b||(c=ub);return c}var Qb={};
function Rb(a){var b=Qb[a.ka];if(b)return b;var c=a.Eb,c=c?c.Pa:"",d=Nb(a,{v:1}),f="*"==a.w,e=document.getElementsByClassName;if(c)if(e={v:1},f&&(e.w=1),d=Nb(a,e),"+"==c)var g=d,b=function(a,b,c){for(;a=a[Fb];)if(!Eb||Bb(a)){(!c||Sb(a,c))&&g(a)&&b.push(a);break}return b};else if("~"==c)var i=d,b=function(a,b,c){for(a=a[Fb];a;){if(Hb(a)){if(c&&!Sb(a,c))break;i(a)&&b.push(a)}a=a[Fb]}return b};else{if(">"==c)var j=d,j=j||ub,b=function(a,b,c){for(var d=0,e=a[xb];a=e[d++];)Hb(a)&&((!c||Sb(a,c))&&j(a,d))&&
b.push(a);return b}}else if(a.id)d=!a.Hb&&f?ub:Nb(a,{v:1,id:1}),b=function(b,c){var e;e=kb(b);var f=a.id;if(f=(e=t(f)?e.Ca.getElementById(f):f)&&d(e))if(!(f=9==b.nodeType)){for(f=e.parentNode;f&&f!=b;)f=f.parentNode;f=!!f}if(f)return vb(e,c)};else if(e&&/\{\s*\[native code\]\s*\}/.test(String(e))&&a.K.length&&!wb)var d=Nb(a,{v:1,K:1,id:1}),q=a.K.join(" "),b=function(a,b){for(var c=vb(0,b),e,f=0,g=a.getElementsByClassName(q);e=g[f++];)d(e,a)&&c.push(e);return c};else!f&&!a.Hb?b=function(b,c){for(var d=
vb(0,c),e,f=0,g=b.getElementsByTagName(a.lb());e=g[f++];)d.push(e);return d}:(d=Nb(a,{v:1,w:1,id:1}),b=function(b,c){for(var e=vb(0,c),f,g=0,i=b.getElementsByTagName(a.lb());f=i[g++];)d(f,b)&&e.push(f);return e});return Qb[a.ka]=b}var Tb={},Ub={};
function Vb(a){var b=zb(oa(a));if(1==b.length){var c=Rb(b[0]);return function(a){if(a=c(a,[]))a.Oa=k;return a}}return function(a){for(var a=vb(a),c,e,g=b.length,i,j,q=0;q<g;q++){j=[];c=b[q];e=a.length-1;0<e&&(i={},j.Oa=k);e=Rb(c);for(var u=0;c=a[u];u++)e(c,j,i);if(!j.length)break;a=j}return j}}var Wb=!!document.querySelectorAll&&(!H||I("526"));
function Xb(a,b){if(Wb){var c=Ub[a];if(c&&!b)return c}if(c=Tb[a])return c;var c=a.charAt(0),d=-1==a.indexOf(" ");0<=a.indexOf("#")&&d&&(b=k);if(Wb&&!b&&-1==">~+".indexOf(c)&&(!E||-1==a.indexOf(":"))&&!(wb&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf("|=")){var f=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return Ub[a]=function(b){try{if(!(9==b.nodeType||d))throw"";var c=b.querySelectorAll(f);E?c.Tb=k:c.Oa=k;return c}catch(e){return Xb(a,k)(b)}}}var e=a.split(/\s*,\s*/);return Tb[a]=
2>e.length?Vb(a):function(a){for(var b=0,c=[],d;d=e[b++];)c=c.concat(Vb(d)(a));return c}}var L=0,Yb=E?function(a){return yb?a.getAttribute("_uid")||a.setAttribute("_uid",++L)||L:a.uniqueID}:function(a){return a._uid||(a._uid=++L)};function Sb(a,b){if(!b)return 1;var c=Yb(a);return!b[c]?b[c]=1:0}
function Zb(a){if(a&&a.Oa)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;L++;if(E&&yb){var c=L+"";a[0].setAttribute("_zipIdx",c);for(var d=1,f;f=a[d];d++)a[d].getAttribute("_zipIdx")!=c&&b.push(f),f.setAttribute("_zipIdx",c)}else if(E&&a.Tb)try{for(d=1;f=a[d];d++)Bb(f)&&b.push(f)}catch(e){}else{a[0]&&(a[0]._zipIdx=L);for(d=1;f=a[d];d++)a[d]._zipIdx!=L&&b.push(f),f._zipIdx=L}return b}
function M(a,b){if(!a)return[];if(a.constructor==Array)return a;if(!t(a))return[a];if(t(b)&&(b=t(b)?document.getElementById(b):b,!b))return[];var b=b||document,c=b.ownerDocument||b.documentElement;yb=b.contentType&&"application/xml"==b.contentType||D&&(b.doctype||"[object XMLDocument]"==c.toString())||!!c&&(E?c.xml:b.xmlVersion||c.xmlVersion);return(c=Xb(a)(b))&&c.Oa?c:Zb(c)}M.Y=Ob;ca("goog.dom.query",M);ca("goog.dom.query.pseudos",M.Y);function $b(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}};!E||Xa(9);var ac=!E||Xa(9),bc=E&&!I("9");!H||I("528");F&&I("1.9b")||E&&I("8")||D&&I("9.5")||H&&I("528");F&&!I("8")||E&&I("9");function cc(a,b){this.type=a;this.currentTarget=this.target=b}cc.prototype.pb=m;cc.prototype.defaultPrevented=m;cc.prototype.$b=k;cc.prototype.preventDefault=function(){this.defaultPrevented=k;this.$b=m};function dc(a){dc[" "](a);return a}dc[" "]=n();function ec(a,b){a&&this.init(a,b)}na(ec,cc);p=ec.prototype;p.target=l;p.relatedTarget=l;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=m;p.altKey=m;p.shiftKey=m;p.metaKey=m;p.Yb=m;p.H=l;
p.init=function(a,b){var c=this.type=a.type;cc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(F){var f;a:{try{dc(d.nodeName);f=k;break a}catch(e){}f=m}f||(d=l)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=H||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=H||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Yb=Ha?a.metaKey:a.ctrlKey;this.state=a.state;this.H=a;a.defaultPrevented&&this.preventDefault();delete this.pb};
p.preventDefault=function(){ec.bc.preventDefault.call(this);var a=this.H;if(a.preventDefault)a.preventDefault();else if(a.returnValue=m,bc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};p.Vb=aa("H");function fc(){}var gc=0;p=fc.prototype;p.key=0;p.ma=m;p.zb=m;p.init=function(a,b,c,d,f,e){if(w(a))this.Gb=k;else if(a&&a.handleEvent&&w(a.handleEvent))this.Gb=m;else throw Error("Invalid listener argument");this.Ka=a;this.Kb=b;this.src=c;this.type=d;this.capture=!!f;this.Ja=e;this.zb=m;this.key=++gc;this.ma=m};p.handleEvent=function(a){return this.Gb?this.Ka.call(this.Ja||this.src,a):this.Ka.handleEvent.call(this.Ka,a)};var hc={},N={},ic={},jc={};
function O(a,b,c,d,f){if(b){if(ea(b)){for(var e=0;e<b.length;e++)O(a,b[e],c,d,f);return l}var d=!!d,g=N;b in g||(g[b]={n:0,Z:0});g=g[b];d in g||(g[d]={n:0,Z:0},g.n++);var g=g[d],i=a[ha]||(a[ha]=++ia),j;g.Z++;if(g[i]){j=g[i];for(e=0;e<j.length;e++)if(g=j[e],g.Ka==c&&g.Ja==f){if(g.ma)break;return j[e].key}}else j=g[i]=[],g.n++;var q=kc,u=ac?function(a){return q.call(u.src,u.key,a)}:function(a){a=q.call(u.src,u.key,a);if(!a)return a},e=u;e.src=a;g=new fc;g.init(c,e,a,b,d,f);c=g.key;e.key=c;j.push(g);
hc[c]=g;ic[i]||(ic[i]=[]);ic[i].push(g);a.addEventListener?(a==r||!a.Ub)&&a.addEventListener(b,e,d):a.attachEvent(b in jc?jc[b]:jc[b]="on"+b,e);return c}throw Error("Invalid event type");}
function lc(a){if(hc[a]){var b=hc[a];if(!b.ma){var c=b.src,d=b.type,f=b.Kb,e=b.capture;c.removeEventListener?(c==r||!c.Ub)&&c.removeEventListener(d,f,e):c.detachEvent&&c.detachEvent(d in jc?jc[d]:jc[d]="on"+d,f);c=c[ha]||(c[ha]=++ia);ic[c]&&(f=ic[c],C(f,b),0==f.length&&delete ic[c]);b.ma=k;if(b=N[d][e][c])b.Ib=k,mc(d,e,c,b);delete hc[a]}}}
function mc(a,b,c,d){if(!d.La&&d.Ib){for(var f=0,e=0;f<d.length;f++)d[f].ma?d[f].Kb.src=l:(f!=e&&(d[e]=d[f]),e++);d.length=e;d.Ib=m;0==e&&(delete N[a][b][c],N[a][b].n--,0==N[a][b].n&&(delete N[a][b],N[a].n--),0==N[a].n&&delete N[a])}}function nc(a,b,c,d,f){var e=1,b=b[ha]||(b[ha]=++ia);if(a[b]){a.Z--;a=a[b];a.La?a.La++:a.La=1;try{for(var g=a.length,i=0;i<g;i++){var j=a[i];j&&!j.ma&&(e&=oc(j,f)!==m)}}finally{a.La--,mc(c,d,b,a)}}return Boolean(e)}
function oc(a,b){a.zb&&lc(a.key);return a.handleEvent(b)}
function kc(a,b){if(!hc[a])return k;var c=hc[a],d=c.type,f=N;if(!(d in f))return k;var f=f[d],e,g;if(!ac){var i;if(!(i=b))a:{i=["window","event"];for(var j=r;e=i.shift();)if(j[e]!=l)j=j[e];else{i=l;break a}i=j}e=i;i=k in f;j=m in f;if(i){if(0>e.keyCode||e.returnValue!=h)return k;a:{var q=m;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(u){q=k}if(q||e.returnValue==h)e.returnValue=k}}q=new ec;q.init(e,this);e=k;try{if(i){for(var v=[],A=q.currentTarget;A;A=A.parentNode)v.push(A);g=f[k];g.Z=g.n;for(var J=
v.length-1;!q.pb&&0<=J&&g.Z;J--)q.currentTarget=v[J],e&=nc(g,v[J],d,k,q);if(j){g=f[m];g.Z=g.n;for(J=0;!q.pb&&J<v.length&&g.Z;J++)q.currentTarget=v[J],e&=nc(g,v[J],d,m,q)}}else e=oc(c,q)}finally{v&&(v.length=0)}return e}d=new ec(b,this);return e=oc(c,d)};function pc(){this.ra=[]}function qc(a,b){var c=m;return c=!a.offsetX||!a.offsetY&&a.H.changedTouches?{x:a.H.changedTouches[0].clientX-$b(b).left,y:a.H.changedTouches[0].clientY-$b(b).top}:{x:a.offsetX,y:a.offsetY}}pc.prototype.h=function(a,b){this.ra[a]||(this.ra[a]=[]);this.ra[a].push(b)};pc.prototype.la=function(a,b){var c=this.ra[a];c&&C(c,b)};pc.prototype.fireEvent=function(a,b){var c=m,d=this.ra[a];d&&y(d,function(a){a=a(b);a!==h&&!a&&(c=k)});return c};function rc(a,b){this.M={};this.o=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var f;if(a instanceof rc)sc(a),f=a.o.concat(),d=P(a);else{var c=[],e=0;for(f in a)c[e++]=f;f=c;c=[];e=0;for(d in a)c[e++]=a[d];d=c}for(c=0;c<f.length;c++)this.set(f[c],d[c])}}p=rc.prototype;p.n=0;p.Ob=0;function P(a){sc(a);for(var b=[],c=0;c<a.o.length;c++)b.push(a.M[a.o[c]]);return b}
p.remove=function(a){return tc(this.M,a)?(delete this.M[a],this.n--,this.Ob++,this.o.length>2*this.n&&sc(this),k):m};function sc(a){if(a.n!=a.o.length){for(var b=0,c=0;b<a.o.length;){var d=a.o[b];tc(a.M,d)&&(a.o[c++]=d);b++}a.o.length=c}if(a.n!=a.o.length){for(var f={},c=b=0;b<a.o.length;)d=a.o[b],tc(f,d)||(a.o[c++]=d,f[d]=1),b++;a.o.length=c}}p.get=function(a,b){return tc(this.M,a)?this.M[a]:b};p.set=function(a,b){tc(this.M,a)||(this.n++,this.o.push(a),this.Ob++);this.M[a]=b};
function tc(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Q(a,b){this.x=a;this.y=b};function uc(a){this.points=a}function vc(a){for(var b=0,c=a.length-1,d=0;d<a.length;d++)b+=(a[c].x+a[d].x)*(a[c].y-a[d].y),c=d;return b/2}
function wc(a,b){for(var c,d=c=0,f,e=a.length-1,g=0;g<a.length;g++)f=a[g].x*a[e].y-a[e].x*a[g].y,c+=(a[g].x+a[e].x)*f,d+=(a[g].y+a[e].y)*f,e=g;f=6*vc(a);c=new Q(Math.abs(c/f),Math.abs(d/f));d=[];for(f=0;f<a.length;f++){var e=a[f],i=(0>vc(a)?-1:1)*b,g=e.x-c.x,j=e.y-c.y,q=0<i?1:0>i?-1:0,i=Math.sqrt(Math.pow(i,2)/(1+Math.pow(g/j,2)));d.push({x:e.x+Math.abs(g/j*i)*(0<g?1:0>g?-1:0)*q,y:e.y+Math.abs(i)*(0<j?1:0>j?-1:0)*q})}return d};function xc(a,b,c,d){0<c?(this.x=a,this.width=c):(this.x=a+c,this.width=-c);0<d?(this.y=b,this.height=d):(this.y=b+d,this.height=-d)};function yc(a,b){this.type=a;this.geometry=b}function zc(a){return"rect"==a.type?a.geometry.width*a.geometry.height:"polygon"==a.type?Math.abs(vc(a.geometry.points)):0}function Ac(a){if("rect"==a.type)return a;if("polygon"==a.type){for(var a=a.geometry.points,b=a[0].x,c=a[0].x,d=a[0].y,f=a[0].y,e=1;e<a.length;e++)a[e].x>c&&(c=a[e].x),a[e].x<b&&(b=a[e].x),a[e].y>f&&(f=a[e].y),a[e].y<d&&(d=a[e].y);return new yc("rect",new xc(b,d,c-b,f-d))}}
function Bc(a,b){var c;c=a.geometry.points;var d=0>vc(c)?-1:1;if(4>c.length)c=wc(c,d*b);else{for(var f=c.length-1,e=1,g=[],i=0;i<c.length;i++)f=wc([c[f],c[i],c[e]],d*b),g.push(f[1]),f=i,e++,e>c.length-1&&(e=0);c=g}return new yc("polygon",new uc(c))}
function Cc(a,b){if("rect"==a.type){var c=a.geometry,d=b({x:c.x,y:c.y}),c=b({x:c.x+c.width,y:c.y+c.height});return new yc("rect",new xc(d.x,d.y,c.x-d.x,c.y-d.y))}if("polygon"==a.type){var f=[];y(a.geometry.points,function(a){f.push(b(a))});return new yc("polygon",new uc(f))}}function Dc(a){return JSON.stringify(a.geometry)}window.annotorious||(window.annotorious={});window.annotorious.geometry||(window.annotorious.geometry={},window.annotorious.geometry.expand=Bc);function Ec(a,b,c){this.src=a;this.text=b;this.shapes=[c];this.context=document.URL};function Fc(){}function Gc(a,b){a.e=new rc;a.sb=[];a.wa=[];a.ta=[];a.ca=[];a.Ta=[];a.Ea={ja:m,ia:m};a.oa=new rc;a.yb=b}function Hc(a,b){var c=a.oa(b);c||(c={ja:m,ia:m},c.set(b,c));return c}
function Ic(a,b){var c=a.kb(b);if(!a.e.get(c)){var d=a.Jb(b),f=[],e=[];y(a.sb,function(a){d.h(a.type,a.Ja)});y(a.wa,function(a){if(a.onInitAnnotator)a.onInitAnnotator(d)});y(a.ca,function(a){a.src==c&&(d.t(a),f.push(a))});y(a.Ta,function(a){a.src==c&&(d.r(a),e.push(a))});y(f,function(b){C(a.ca,b)});y(e,function(b){C(a.Ta,b)});var g=a.oa.get(c);g?(g.ja&&d.G(),g.ia&&d.L(),a.oa.remove(c)):(a.Ea.ja&&d.G(),a.Ea.ia&&d.L());a.e.set(c,d);C(a.ta,b)}}
function Jc(a){y(a.ta,function(b){for(var c=b,d=c.offsetTop,f=c.offsetLeft,e=c.offsetWidth,g=c.offsetHeight;c.offsetParent;)c=c.offsetParent,d+=c.offsetTop,f+=c.offsetLeft;d<window.pageYOffset+window.innerHeight&&(f<window.pageXOffset+window.innerWidth&&d+g>window.pageYOffset&&f+e>window.pageXOffset)&&Ic(a,b)})}function Kc(a,b,c){if(b){var d=a.e.get(b);d?c?d.aa():d.L():Hc(a,b).ia=c}else y(P(a.e),function(a){c?a.aa():a.L()}),a.Ea.ia=c,y(P(a.oa),function(a){a.ia=c})}
function Lc(a,b,c){if(b){var d=a.e.get(b);d?c?d.N():d.G():Hc(a,b).ja=c}else y(P(a.e),function(a){c?a.N():a.G()}),a.Ea.ja=c,y(P(a.oa),function(a){a.ja=c})}p=Fc.prototype;p.R=function(a,b){var c=h,d=h;t(a)?(c=a,d=b):w(a)&&(d=a);c?(c=this.e.get(c))&&c.R(d):y(P(this.e),function(a){a.R(d)})};p.t=function(a,b){if(R(this,a.src)){var c=this.e.get(a.src);c?c.t(a,b):(this.ca.push(a),b&&C(this.ca,b))}};p.h=function(a,b){y(P(this.e),function(c){c.h(a,b)});this.sb.push({type:a,Ja:b})};
p.hb=function(a){this.wa.push(a);y(P(this.e),function(b){if(a.onInitAnnotator)a.onInitAnnotator(b)})};p.ga=function(a,b){if(R(this,a)){var c=this.e.get(a);c&&c.ga(b)}};function R(a,b){return tc(a.e.M,b)?k:B(a.ta,function(c){return a.kb(c)==b})!=l}p.W=function(a){if(R(this,a)&&(a=this.e.get(a)))return a.W().getName()};p.C=function(a){if(a){var b=this.e.get(a);return b?b.C():xa(this.ca,function(b){return b.src==a})}var c=[];y(P(this.e),function(a){Aa(c,a.C())});Aa(c,this.ca);return c};
p.X=function(a){if(R(this,a)&&(a=this.e.get(a)))return ya(a.X(),function(a){return a.getName()})};p.L=function(a){Kc(this,a,m)};p.G=function(a){Lc(this,a,m)};p.l=function(a){if(a){if(R(this,a.src)){var b=this.e.get(a.src);b&&b.l(a)}}else y(P(this.e),function(a){a.l()})};p.init=function(){this.yb&&Aa(this.ta,this.yb());Jc(this);var a=this,b=O(window,"scroll",function(){0<a.ta.length?Jc(a):lc(b)})};p.mb=function(a){this.qb(a)&&Ic(this,a)};
p.r=function(a){if(R(this,a.src)){var b=this.e.get(a.src);b?b.r(a):this.Ta.push(a)}};p.na=function(a,b){if(R(this,a)){var c=this.e.get(a);c&&c.na(b)}};p.aa=function(a){Kc(this,a,k)};p.N=function(a){Lc(this,a,k)};function S(a,b){var c=kb().createElement("DIV");c.innerHTML=a(b||Mc,h,h);if(1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType)return d}return c}var Mc={};function Nc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Nc.prototype.contains=function(a){return!this||!a?m:a instanceof Nc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function Oc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Oc.prototype.contains=function(a){return a instanceof Oc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function T(a,b,c){t(b)?Pc(a,c,b):hb(b,ma(Pc,a))}function Pc(a,b,c){a.style[va(c)]=b}function U(a,b){var c=mb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,l))?c[b]||c.getPropertyValue(b)||"":""}function V(a,b){return U(a,b)||(a.currentStyle?a.currentStyle[b]:l)||a.style&&a.style[b]}function Qc(a,b,c){var d,f=F&&(Ha||Na)&&I("1.9");b instanceof K?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Rc(d,f);a.style.top=Rc(b,f)}
function Sc(a){var b=a.getBoundingClientRect();E&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Tc(a){if(E&&!Xa(8))return a.offsetParent;for(var b=mb(a),c=V(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=V(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return l}
function Uc(a){var b,c=mb(a),d=V(a,"position"),f=F&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),e=new K(0,0),g;b=c?mb(c):document;if(g=E)if(g=!Xa(9))kb(b),g=m;g=g?b.body:b.documentElement;if(a==g)return e;if(a.getBoundingClientRect)b=Sc(a),a=kb(c),a=ob(a.Ca),e.x=b.left+a.x,e.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(g),e.x=b.screenX-a.screenX,e.y=b.screenY-a.screenY;else{b=a;do{e.x+=b.offsetLeft;
e.y+=b.offsetTop;b!=a&&(e.x+=b.clientLeft||0,e.y+=b.clientTop||0);if(H&&"fixed"==V(b,"position")){e.x+=c.body.scrollLeft;e.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(D||H&&"absolute"==d)e.y-=c.body.offsetTop;for(b=a;(b=Tc(b))&&b!=c.body&&b!=g;)if(e.x-=b.scrollLeft,!D||"TR"!=b.tagName)e.y-=b.scrollTop}return e}function Vc(a,b){var c=Wc(a),d=Wc(b);return new K(c.x-d.x,c.y-d.y)}
function Wc(a){var b=new K;if(1==a.nodeType){if(a.getBoundingClientRect){var c=Sc(a);b.x=c.left;b.y=c.top}else{var c=kb(a),c=ob(c.Ca),d=Uc(a);b.x=d.x-c.x;b.y=d.y-c.y}if(F&&!I(12)){var f;E?f="-ms-transform":H?f="-webkit-transform":D?f="-o-transform":F&&(f="-moz-transform");var e;f&&(e=V(a,f));e||(e=V(a,"transform"));e?(a=e.match(Xc),a=!a?new K(0,0):new K(parseFloat(a[1]),parseFloat(a[2]))):a=new K(0,0);b=new K(b.x+a.x,b.y+a.y)}}else f=w(a.Vb),e=a,a.targetTouches?e=a.targetTouches[0]:f&&a.H.targetTouches&&
(e=a.H.targetTouches[0]),b.x=e.clientX,b.y=e.clientY;return b}function Yc(a,b,c){if(b instanceof gb)c=b.height,b=b.width;else if(c==h)throw Error("missing height argument");a.style.width=Rc(b,k);a.style.height=Rc(c,k)}function Rc(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function Zc(a){if("none"!=V(a,"display"))return $c(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=$c(a);b.display=c;b.position=f;b.visibility=d;return a}function $c(a){var b=a.offsetWidth,c=a.offsetHeight,d=H&&!b&&!c;return(b===h||d)&&a.getBoundingClientRect?(a=Sc(a),new gb(a.right-a.left,a.bottom-a.top)):new gb(b,c)}function ad(a){var b=Uc(a),a=Zc(a);return new Oc(b.x,b.y,a.width,a.height)}
function W(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function X(a,b){a.style.display=b?"":"none"}function bd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function cd(a,b){if(E){var c=bd(a,a.currentStyle?a.currentStyle[b+"Left"]:l),d=bd(a,a.currentStyle?a.currentStyle[b+"Right"]:l),f=bd(a,a.currentStyle?a.currentStyle[b+"Top"]:l),e=bd(a,a.currentStyle?a.currentStyle[b+"Bottom"]:l);return new Nc(f,d,e,c)}c=U(a,b+"Left");d=U(a,b+"Right");f=U(a,b+"Top");e=U(a,b+"Bottom");return new Nc(parseFloat(f),parseFloat(d),parseFloat(e),parseFloat(c))}var Xc=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function dd(a,b,c){this.I=a;this.j=b;this.d=c;this.ba=[];this.U=[];this.z=this.I.getContext("2d");this.fa=k;this.Za=m;var d=this;O(this.I,"mousemove",function(a){if(d.fa){var b=ed(d,a.offsetX,a.offsetY);b?(d.Za=m,d.c?d.c!=b&&(d.fa=m,fd(d.j)):(d.c=b,gd(d),d.d.fireEvent("onMouseOverAnnotation",{V:d.c,mouseEvent:a}))):!d.Za&&d.c&&(d.fa=m,fd(d.j))}else d.pa=a});c.h("onMouseOutOfItem",function(){delete d.c;d.fa=k});c.h("beforePopupHide",function(){if(!d.fa&&d.pa){var a=d.c;d.c=ed(d,d.pa.offsetX,d.pa.offsetY);
d.fa=k;a!=d.c?(gd(d),d.d.fireEvent("onMouseOutOfAnnotation",{V:a,mouseEvent:d.pa}),d.d.fireEvent("onMouseOverAnnotation",{V:d.c,mouseEvent:d.pa})):d.c&&hd(d.j)}else gd(d)})}p=dd.prototype;p.t=function(a,b){b&&(b==this.c&&delete this.c,C(this.ba,b),delete this.U[Dc(b.shapes[0])]);this.ba.push(a);var c=a.shapes[0];if("pixel"!=c.units)var d=this,c=Cc(c,function(a){return d.d.Da(a)});this.U[Dc(a.shapes[0])]=c;gd(this)};
p.r=function(a){a==this.c&&delete this.c;C(this.ba,a);delete this.U[Dc(a.shapes[0])];gd(this)};p.C=function(){return za(this.ba)};p.l=function(a){(this.c=a)?this.Za=k:fd(this.j);gd(this)};function ed(a,b,c){a=a.Ia(b,c);if(0<a.length)return a[0]}
p.Ia=function(a,b){var c=[],d=this;y(this.ba,function(f){var e;e=d.U[Dc(f.shapes[0])];if("rect"==e.type)e=a<e.geometry.x||b<e.geometry.y||a>e.geometry.x+e.geometry.width||b>e.geometry.y+e.geometry.height?m:k;else if("polygon"==e.type){e=e.geometry.points;for(var g=m,i=e.length-1,j=0;j<e.length;j++)e[j].y>b!=e[i].y>b&&a<(e[i].x-e[j].x)*(b-e[j].y)/(e[i].y-e[j].y)+e[j].x&&(g=!g),i=j;e=g}else e=m;e&&c.push(f)});x.sort.call(c,function(a,b){return zc(a.shapes[0])-zc(b.shapes[0])}||Ca);return c};
function id(a,b,c){var d=B(a.d.X(),function(a){return a.getSupportedShapeType()==b.type});d?d.drawShape(a.z,b,c):console.log("WARNING unsupported shape type: "+b.type)}function gd(a){a.z.clearRect(0,0,a.I.width,a.I.height);y(a.ba,function(b){id(a,a.U[Dc(b.shapes[0])])});if(a.c){var b=a.U[Dc(a.c.shapes[0])];id(a,b,k);b=Ac(b).geometry;a.j.show(a.c,new Q(b.x,b.y+b.height+5))}};E&&I(8);function jd(a,b){a!=l&&this.append.apply(this,arguments)}jd.prototype.ha="";jd.prototype.set=function(a){this.ha=""+a};jd.prototype.append=function(a,b,c){this.ha+=a;if(b!=l)for(var d=1;d<arguments.length;d++)this.ha+=arguments[d];return this};jd.prototype.toString=aa("ha");function kd(a){return"object"===typeof a&&a&&0===a.ec?a.content:String(a).replace(ld,md)}var nd={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function md(a){return nd[a]}var ld=/[\x00\x22\x26\x27\x3c\x3e]/g;function od(a){return'<canvas class="annotorious-item annotorious-opacity-fade" style="position:absolute; top:0px; left:0px; width:'+kd(a.width)+"px; height:"+kd(a.height)+'px; z-index:0" width="'+kd(a.width)+'" height="'+kd(a.height)+'"></canvas>'}
function pd(a){return'<div class="annotorious-hint" style="white-space:nowrap; position:absolute; top:0px; left:0px; pointer-events:none;"><div class="annotorious-hint-msg annotorious-opacity-fade">'+kd(a.ob)+'</div><div class="annotorious-hint-icon" style="pointer-events:auto"></div></div>'};function qd(a){this.element=S(rd);this.d=a;this.Sb=M(".annotorious-popup-text",this.element)[0];this.F=M(".annotorious-popup-buttons",this.element)[0];this.Va=m;this.qa=[];var b=M(".annotorious-popup-button-edit",this.F)[0],c=M(".annotorious-popup-button-delete",this.F)[0],d=this;O(b,"mouseover",function(){bb(b,"annotorious-popup-button-active")});O(b,"mouseout",function(){db(b,"annotorious-popup-button-active")});O(b,"click",function(){W(d.element,0);T(d.element,"pointer-events","none");a.Bb(d.c)});
O(c,"mouseover",function(){bb(c,"annotorious-popup-button-active")});O(c,"mouseout",function(){db(c,"annotorious-popup-button-active")});O(c,"click",function(){a.fireEvent("beforeAnnotationRemoved",d.c)||(W(d.element,0),T(d.element,"pointer-events","none"),a.r(d.c),a.fireEvent("onAnnotationRemoved",d.c))});O(this.element,"mouseover",function(){window.clearTimeout(d.Ua);0.9>(d.F.style[va("opacity")]||"")&&W(d.F,0.9);hd(d)});O(this.element,"mouseout",function(){W(d.F,0);fd(d)});a.h("onMouseOutOfItem",
function(){fd(d)});W(this.F,0);W(this.element,0);T(this.element,"pointer-events","none");a.element.appendChild(this.element)}qd.prototype.gb=function(a){var b=pb("div","annotorious-popup-field");t(a)?b.innerHTML=a:w(a)?this.qa.push({v:b,jb:a}):sb(a)&&b.appendChild(a);this.element.appendChild(b)};function fd(a){a.Va=m;a.xa||(a.xa=window.setTimeout(function(){a.d.fireEvent("beforePopupHide",a);a.Va||(W(a.element,0),T(a.element,"pointer-events","none"),W(a.F,0.9),delete a.xa)},300))}
function hd(a){a.Va=k;a.xa&&(window.clearTimeout(a.xa),delete a.xa)}qd.prototype.show=function(a,b){hd(this);b&&this.$(b);a&&sd(this,a);this.Ua&&window.clearTimeout(this.Ua);W(this.F,0.9);var c=this;this.Ua=window.setTimeout(function(){W(c.F,0)},1E3);W(this.element,0.9);T(this.element,"pointer-events","auto")};qd.prototype.$=function(a){Qc(this.element,new K(a.x,a.y))};
function sd(a,b){a.c=b;a.Sb.innerHTML=b.text?b.text.replace(/\n/g,"<br/>"):'<span class="annotorious-popup-empty">No comment</span>';"editable"in b&&b.editable==m?X(a.F,m):X(a.F,k);y(a.qa,function(a){var d=a.jb(b);t(d)?a.v.innerHTML=d:sb(d)&&(rb(a.v),a.v.appendChild(d))})}qd.prototype.addField=qd.prototype.gb;/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function td(){}
var vd={gc:"<",fc:">",cc:"&",hc:"\u00a0",jc:'"',dc:"'"},Y={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,
ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},wd=/&/g,xd=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,yd=/</g,zd=/>/g,Ad=/\"/g,Bd=/=/g,Cd=/\0/g,Dd=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,Ed=/^#(\d+)$/,Fd=/^#x([0-9A-Fa-f]+)$/,Gd=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*))?)|(/?>)|[^a-z\\s>]+)",
"i"),Hd=RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<[!]--[\\s\\S]*?--\>|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i");
td.prototype.parse=function(a,b){var c=l,d=m,f=[],e,g,i;a.D=[];for(a.S=m;b;){var j=b.match(d?Gd:Hd),b=b.substring(j[0].length);if(d)if(j[1]){var q=j[1].toLowerCase();if(j[2]){j=j[3];switch(j.charCodeAt(0)){case 34:case 39:j=j.substring(1,j.length-1)}j=j.replace(Cd,"").replace(Dd,la(this.Wb,this))}else j=q;f.push(q,j)}else j[4]&&(g!==h&&(i?a.Mb&&a.Mb(e,f):a.Cb&&a.Cb(e)),i&&g&12&&(c=c===l?b.toLowerCase():c.substring(c.length-b.length),d=c.indexOf("</"+e),0>d&&(d=b.length),g&4?a.Ab&&a.Ab(b.substring(0,
d)):a.Lb&&a.Lb(b.substring(0,d).replace(xd,"&amp;$1").replace(yd,"&lt;").replace(zd,"&gt;")),b=b.substring(d)),e=g=i=h,f.length=0,d=m);else if(j[1])Id(a,j[0]);else if(j[3])i=!j[2],d=k,e=j[3].toLowerCase(),g=Y.hasOwnProperty(e)?Y[e]:h;else if(j[4])Id(a,j[4]);else if(j[5])switch(j[5]){case "<":Id(a,"&lt;");break;case ">":Id(a,"&gt;");break;default:Id(a,"&amp;")}}for(c=a.D.length;0<=--c;)a.O.append("</",a.D[c],">");a.D.length=0};
td.prototype.Wb=function(a){a=a.toLowerCase();if(vd.hasOwnProperty(a))return vd[a];var b=a.match(Ed);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(Fd))?String.fromCharCode(parseInt(b[1],16)):""};function Jd(){};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function Kd(a,b,c){this.O=a;this.D=[];this.S=m;this.Nb=b;this.Na=c}na(Kd,Jd);
var Ld={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,
"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,
"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,
"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,
"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,
"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,
"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};
Kd.prototype.Mb=function(a,b){if(!this.S&&Y.hasOwnProperty(a)){var c=Y[a];if(!(c&32))if(c&16)this.S=!(c&2);else{for(var d=b,f=0;f<d.length;f+=2){var e=d[f],g=d[f+1],i=l,j;if((j=a+"::"+e,Ld.hasOwnProperty(j))||(j="*::"+e,Ld.hasOwnProperty(j)))i=Ld[j];if(i!==l)switch(i){case 0:break;case 2:case 3:g=l;break;case 4:case 5:case 6:case 7:case 8:case 9:g=this.Na?this.Na(g):g;break;case 1:g=this.Nb&&this.Nb(g);break;case 11:g&&"#"===g.charAt(0)?(g=this.Na?this.Na(g):g)&&(g="#"+g):g=l;break;default:g=l}else g=
l;d[f+1]=g}if(b=d){c&2||this.D.push(a);this.O.append("<",a);c=0;for(d=b.length;c<d;c+=2)f=b[c],e=b[c+1],e!==l&&e!==h&&this.O.append(" ",f,'="',e.replace(wd,"&amp;").replace(yd,"&lt;").replace(zd,"&gt;").replace(Ad,"&#34;").replace(Bd,"&#61;"),'"');this.O.append(">")}}}};
Kd.prototype.Cb=function(a){if(this.S)this.S=m;else if(Y.hasOwnProperty(a)){var b=Y[a];if(!(b&50)){if(b&1)for(b=this.D.length;0<=--b;){var c=this.D[b];if(c===a)break;if(!(Y[c]&1))return}else for(b=this.D.length;0<=--b&&this.D[b]!==a;);if(!(0>b)){for(var d=this.D.length;--d>b;)c=this.D[d],Y[c]&1||this.O.append("</",c,">");this.D.length=b;this.O.append("</",a,">")}}}};function Id(a,b){a.S||a.O.append(b)}Kd.prototype.Lb=function(a){this.S||this.O.append(a)};Kd.prototype.Ab=function(a){this.S||this.O.append(a)};function rd(){return'<div class="annotorious-popup top-left" style="position:absolute;z-index:1"><div class="annotorious-popup-buttons"><a class="annotorious-popup-button annotorious-popup-button-edit" title="Edit" href="javascript:void(0);">EDIT</a><a class="annotorious-popup-button annotorious-popup-button-delete" title="Delete" href="javascript:void(0);">DELETE</a></div><span class="annotorious-popup-text"></span></div>'}
function Md(){return'<div class="annotorious-editor" style="position:absolute;z-index:1"><form><textarea class="annotorious-editor-text" placeholder="Add a Comment..." tabindex="1"></textarea><div class="annotorious-editor-button-container"><a class="annotorious-editor-button annotorious-editor-button-cancel" href="javascript:void(0);" tabindex="3">Cancel</a><a class="annotorious-editor-button annotorious-editor-button-save" href="javascript:void(0);" tabindex="2">Save</a></div></form></div>'};function Nd(a){this.element=S(Md);this.d=a;this.Rb=a.getItem();this.Ba=M(".annotorious-editor-text",this.element)[0];this.Pb=M(".annotorious-editor-button-cancel",this.element)[0];this.rb=M(".annotorious-editor-button-save",this.element)[0];var b;b=this.rb;$a?b=b.parentElement:(b=b.parentNode,b=sb(b)?b:l);this.Qb=b;this.qa=[];var c=this;O(this.Pb,"click",function(b){b.preventDefault();a.stopSelection(c.xb);c.close()});O(this.rb,"click",function(b){b.preventDefault();b=c.Db();a.t(b);a.stopSelection();
c.xb?a.fireEvent("onAnnotationUpdated",b):a.fireEvent("onAnnotationCreated",b);c.close()});X(this.element,m);a.element.appendChild(this.element);this.Ba.focus()}p=Nd.prototype;p.gb=function(a){var b=pb("div","annotorious-editor-field");t(a)?b.innerHTML=a:w(a)?this.qa.push({v:b,jb:a}):sb(a)&&b.appendChild(a);a=this.Qb;a.parentNode&&a.parentNode.insertBefore(b,a)};
p.open=function(a){if(this.Fa=this.xb=a)this.Ba.value=a.text;X(this.element,k);this.Ba.focus();y(this.qa,function(b){var c=b.jb(a);t(c)?b.v.innerHTML=c:sb(c)&&(rb(b.v),b.v.appendChild(c))})};p.close=function(){X(this.element,m);this.Ba.value=""};p.$=function(a){Qc(this.element,a.x,a.y)};p.Db=function(){var a;a=this.Ba.value;var b=new jd;(new td).parse(new Kd(b,function(a){return a},h),a);a=b.toString();this.Fa?this.Fa.text=a:this.Fa=new Ec(this.Rb.src,a,this.d.W().getShape());return this.Fa};
Nd.prototype.addField=Nd.prototype.gb;Nd.prototype.getAnnotation=Nd.prototype.Db;function Od(a,b,c){var d=this;c||(c="Click and Drag to Annotate");this.element=S(pd,{ob:c});this.d=a;this.ub=M(".annotorious-hint-msg",this.element)[0];this.tb=M(".annotorious-hint-icon",this.element)[0];this.eb=function(){d.show()};this.cb=function(){Pd(d)};this.Ra();Pd(this);b.appendChild(this.element)}
Od.prototype.Ra=function(){var a=this;this.wb=O(this.tb,"mouseover",function(){a.show();window.clearTimeout(a.Ya)});this.vb=O(this.tb,"mouseout",function(){Pd(a)});this.d.h("onMouseOverItem",this.eb);this.d.h("onMouseOutOfItem",this.cb)};Od.prototype.Wa=function(){lc(this.wb);lc(this.vb);this.d.la("onMouseOverItem",this.eb);this.d.la("onMouseOutOfItem",this.cb)};Od.prototype.show=function(){window.clearTimeout(this.Ya);W(this.ub,0.8);var a=this;this.Ya=window.setTimeout(function(){Pd(a)},3E3)};
function Pd(a){window.clearTimeout(a.Ya);W(a.ub,0)};var Qd="ontouchstart"in window,Rd=Qd?"touchmove":"mousemove",Sd=Qd?"touchend":"mouseup";Qd&&bb(document.getElementsByTagName("html")[0],"hasTouch");function Td(){}p=Td.prototype;p.init=function(a,b){this.I=a;this.d=b;this.z=a.getContext("2d");this.z.lineWidth=1;this.Xa=m};
p.Ra=function(){var a=this,b=this.I;this.ab=O(this.I,Rd,function(c){c=qc(c,b);if(a.Xa){a.B={x:c.x,y:c.y};a.z.clearRect(0,0,b.width,b.height);var c=a.B.x-a.g.x,d=a.B.y-a.g.y;a.z.strokeStyle="#000000";a.z.strokeRect(a.g.x+0.5,a.g.y+0.5,c,d);a.z.strokeStyle="#ffffff";0<c&&0<d?a.z.strokeRect(a.g.x+1.5,a.g.y+1.5,c-2,d-2):0<c&&0>d?a.z.strokeRect(a.g.x+1.5,a.g.y-0.5,c-2,d+2):0>c&&0>d?a.z.strokeRect(a.g.x-0.5,a.g.y-0.5,c+2,d+2):a.z.strokeRect(a.g.x-0.5,a.g.y+1.5,c+2,d-2)}});this.bb=O(b,Sd,function(c){var d=
qc(c,b),f=a.getShape(),c=c.H?c.H:c;a.Xa=m;f?a.d.fireEvent("onSelectionCompleted",{mouseEvent:c,shape:f,viewportBounds:a.getViewportBounds()}):(a.d.fireEvent("onSelectionCanceled"),Qd&&(c=a.d.Ia(d.x,d.y),0<c.length&&a.d.l(c[0])))})};p.Wa=function(){this.ab&&(lc(this.ab),delete this.ab);this.bb&&(lc(this.bb),delete this.bb)};p.getName=ba("rect_drag");p.getSupportedShapeType=ba("rect");
p.startSelection=function(a,b){var c={x:a,y:b};this.Xa=k;this.Ra(c);this.g=new Q(a,b);this.d.fireEvent("onSelectionStarted",{offsetX:a,offsetY:b});T(document.body,"-webkit-user-select","none")};p.stopSelection=function(){this.Wa();this.z.clearRect(0,0,this.I.width,this.I.height);T(document.body,"-webkit-user-select","auto");delete this.B};
p.getShape=function(){if(this.B&&3<Math.abs(this.B.x-this.g.x)&&3<Math.abs(this.B.y-this.g.y)){var a=this.getViewportBounds(),b=this.d.Qa({x:a.left,y:a.top}),a=this.d.Qa({x:a.right-1,y:a.bottom-1});return new yc("rect",new xc(b.x,b.y,a.x-b.x,a.y-b.y))}};p.getViewportBounds=function(){var a,b;this.B.x>this.g.x?(a=this.B.x,b=this.g.x):(a=this.g.x,b=this.B.x);var c,d;this.B.y>this.g.y?(c=this.g.y,d=this.B.y):(c=this.B.y,d=this.g.y);return{top:c,right:a,bottom:d,left:b}};
p.drawShape=function(a,b,c){if("rect"==b.type){var d;c?(c="#fff000",d=1.2):(c="#ffffff",d=1);b=b.geometry;a.strokeStyle="#000000";a.lineWidth=d;a.strokeRect(b.x+0.5,b.y+0.5,b.width+1,b.height+1);a.strokeStyle=c;a.strokeRect(b.x+1.5,b.y+1.5,b.width-1,b.height-1)}};function Ud(a,b){function c(b,c){T(f,"margin-"+b,c+"px");T(a,"margin-"+b,0);T(a,"padding-"+b,0)}this.T=a;this.m=new pc;this.Aa=[];this.fb=k;var d=ad(a);this.element=pb("div","annotorious-annotationlayer");T(this.element,"position","relative");T(this.element,"display","inline-block");var f=this.element,e=cd(a,"margin"),g=cd(a,"padding");(0!=e.top||0!=g.top)&&c("top",e.top+g.top);(0!=e.right||0!=g.right)&&c("right",e.right+g.right);(0!=e.bottom||0!=g.bottom)&&c("bottom",e.bottom+g.bottom);(0!=e.left||
0!=g.left)&&c("left",e.left+g.left);Yc(this.element,d.width,d.height);(e=a.parentNode)&&e.replaceChild(this.element,a);this.element.appendChild(a);this.Q=S(od,{width:d.width,height:d.height});bb(this.Q,"annotorious-item-unfocus");this.element.appendChild(this.Q);this.f=S(od,{width:d.width,height:d.height});X(this.f,m);this.element.appendChild(this.f);this.popup=b?b:new qd(this);d=new Td;d.init(this.f,this);this.Aa.push(d);this.da=d;this.editor=new Nd(this);this.k=new dd(this.Q,this.popup,this);this.sa=
new Od(this,this.element);var i=this;O(this.element,"mouseover",function(a){a=a.relatedTarget;if(!a||!tb(i.element,a))i.m.fireEvent("onMouseOverItem"),fb(i.Q,"annotorious-item-unfocus","annotorious-item-focus")});O(this.element,"mouseout",function(a){a=a.relatedTarget;if(!a||!tb(i.element,a))i.m.fireEvent("onMouseOutOfItem"),fb(i.Q,"annotorious-item-focus","annotorious-item-unfocus")});O(this.Q,"mousedown",function(a){i.fb&&(X(i.f,k),i.k.l(h),i.da.startSelection(a.offsetX,a.offsetY))});this.m.h("onSelectionCompleted",
function(a){a=a.viewportBounds;i.editor.$(new Q(a.left+i.T.offsetLeft,a.bottom+4+i.T.offsetTop));i.editor.open()});this.m.h("onSelectionCanceled",function(){X(i.f,m);i.da.stopSelection()})}p=Ud.prototype;p.R=n();p.t=function(a,b){this.k.t(a,b)};p.h=function(a,b){this.m.h(a,b)};p.ga=function(a){a.init(this,this.f);this.Aa.push(a)};
p.Bb=function(a){this.k.r(a);var b=B(this.Aa,function(b){return b.getSupportedShapeType()==a.shapes[0].type});if(b){X(this.f,k);this.k.l(h);var c=this.f.getContext("2d"),d=a.shapes[0],f=this,d="pixel"==d.units?d:Cc(d,function(a){return f.Da(a)});b.drawShape(c,d)}b=Ac(a.shapes[0]).geometry;b="pixel"==a.shapes[0].units?new Q(b.x,b.y+b.height):this.Da(new Q(b.x,b.y+b.height));this.editor.$(new Q(b.x+this.T.offsetLeft,b.y+4+this.T.offsetTop));this.editor.open(a)};
p.fireEvent=function(a,b){return this.m.fireEvent(a,b)};p.Da=function(a){var b=Zc(this.T);return{x:a.x*b.width,y:a.y*b.height}};p.W=aa("da");p.C=function(){return this.k.C()};p.Ia=function(a,b){return za(this.k.Ia(a,b))};p.X=aa("Aa");p.getItem=function(){return{src:Vd(this.T)}};function Vd(a){var b=a.getAttribute("data-original");return b?b:a.src}p.L=function(){X(this.Q,m)};
p.G=function(){this.fb=m;if(this.sa){var a=this.sa;a.Wa();delete a.wb;delete a.vb;delete a.eb;delete a.cb;(a=a.element)&&a.parentNode&&a.parentNode.removeChild(a);delete this.sa}};p.l=function(a){this.k.l(a)};p.r=function(a){this.k.r(a)};p.la=function(a,b){this.m.la(a,b)};p.na=function(a){(this.da=B(this.Aa,function(b){return b.getName()==a}))||console.log('WARNING: selector "'+a+'" not available')};p.aa=function(){X(this.Q,k)};p.N=function(){this.fb=k;this.sa||(this.sa=new Od(this,this.element))};
p.stopSelection=function(a){X(this.f,m);this.da.stopSelection();a&&this.k.t(a)};p.Qa=function(a){var b=Zc(this.T);return{x:a.x/b.width,y:a.y/b.height}};Ud.prototype.fireEvent=Ud.prototype.fireEvent;Ud.prototype.toItemCoordinates=Ud.prototype.Qa;function Wd(){Gc(this,function(){return M("img.annotatable",document)})}na(Wd,Fc);Wd.prototype.kb=function(a){return Vd(a)};Wd.prototype.Jb=function(a){return new Ud(a)};Wd.prototype.qb=function(a){return sb(a)?"IMG"==a.tagName:m};function Xd(a){return'<div class="annotorious-opacity-fade" style="white-space:nowrap; position:absolute; pointer-events:none; top:80px; width:100%; text-align:center;"><div class="annotorious-ol-hint" style="width: 400px; margin:0px auto;">'+kd(a.ob)+"</dvi></div>"};function Yd(a,b){this.P=a;this.ua=ad(b.element);this.j=b.popup;T(this.j.element,"z-index",99E3);this.va=[];this.Sa=new OpenLayers.Layer.Boxes("Annotorious");this.P.addLayer(this.Sa);var c=this;this.P.events.register("move",this.P,function(){c.ea&&Zd(c)});b.h("beforePopupHide",function(){c.$a==c.ea?hd(c.j):$d(c,c.$a,c.ea)})}
function Zd(a){var b=a.ea.Ma.div,c=ad(b),d=Vc(b,a.P.div),b=d.y,d=d.x,f=c.width,e=c.height,c=ad(a.j.element),b={y:b+e+5};d+c.width>a.ua.width?(fb(a.j.element,"top-left","top-right"),b.x=d+f-c.width):(fb(a.j.element,"top-right","top-left"),b.x=d);0>b.x&&(b.x=0);b.x+c.width>a.ua.width&&(b.x=a.ua.width-c.width);b.y+c.height>a.ua.height&&(b.y=a.ua.height-c.height);a.j.$(b)}
function $d(a,b,c){b?(Vc(b.Ma.div,a.P.div),va("height"),T(b.Fb,"border-color","#fff000"),a.ea=b,sd(a.j,b.V),Zd(a),a.j.show()):delete a.ea;c&&T(c.Fb,"border-color","#fff")}
Yd.prototype.t=function(a){var b=a.shapes[0].geometry,b=new OpenLayers.Marker.Box(new OpenLayers.Bounds(b.x,b.y,b.x+b.width,b.y+b.height));bb(b.div,"annotorious-ol-boxmarker-outer");T(b.div,"border",l);var c=pb("div","annotorious-ol-boxmarker-inner");Yc(c,"100%","100%");b.div.appendChild(c);var d={V:a,Ma:b,Fb:c},f=this;O(c,"mouseover",function(){f.ea||$d(f,d);f.$a=d});O(c,"mouseout",function(){delete f.$a;fd(f.j)});this.va.push(d);x.sort.call(this.va,function(a,b){return zc(b.V.shapes[0])-zc(a.V.shapes[0])}||
Ca);var e=1E4;y(this.va,function(a){T(a.Ma.div,"z-index",e);e++});this.Sa.addMarker(b)};Yd.prototype.r=function(a){var b=B(this.va,function(b){return b.V==a});b&&(C(this.va,b),this.Sa.removeMarker(b.Ma))};Yd.prototype.C=n();Yd.prototype.l=function(a){a||fd(this.j)};function ae(a){this.P=a;this.J=a.div;var b=parseInt(U(this.J,"width"),10),c=parseInt(U(this.J,"height"),10);this.m=new pc;this.element=pb("div","annotorious-annotationlayer");T(this.element,"position","relative");Yc(this.element,b,c);var d=this.J,f=d.parentNode;f&&f.replaceChild(this.element,d);this.element.appendChild(this.J);this.ya=S(Xd,{ob:"Click and Drag"});T(this.ya,"z-index",9998);W(this.ya,0);this.element.appendChild(this.ya);this.popup=new qd(this);this.k=new Yd(a,this);this.f=S(od,{width:b,
height:c});X(this.f,m);T(this.f,"z-index",9999);this.element.appendChild(this.f);this.za=new Td;this.za.init(this.f,this);this.Ga=h;this.editor=new Nd(this);T(this.editor.element,"z-index",1E4);var e=this;O(this.element,"mouseover",function(a){a=a.relatedTarget;(!a||!tb(e.element,a))&&e.m.fireEvent("onMouseOverItem")});O(this.element,"mouseout",function(a){a=a.relatedTarget;(!a||!tb(e.element,a))&&e.m.fireEvent("onMouseOutOfItem")});O(this.f,"mousedown",function(a){var b=Wc(e.J);e.za.startSelection(a.clientX-
b.x,a.clientY-b.y)});this.m.h("onSelectionCompleted",function(a){T(e.f,"pointer-events","none");a=a.viewportBounds;e.editor.$(new Q(a.left+e.J.offsetLeft,a.bottom+4+e.J.offsetTop));e.editor.open()});this.m.h("onSelectionCanceled",function(){e.stopSelection()})}p=ae.prototype;p.N=n();p.G=n();p.R=function(a){T(this.f,"pointer-events","auto");var b=this;X(this.f,k);W(this.ya,0.8);window.setTimeout(function(){W(b.ya,0)},2E3);a&&(this.Ga=a)};
p.Bb=function(a){this.k.r(a);var b=this.za,c=this;if(b){X(this.f,k);this.k.l(h);var d=this.f.getContext("2d"),f=Cc(a.shapes[0],function(a){return c.Da(a)});b.drawShape(d,f);b=Ac(f).geometry;this.editor.$(new Q(b.x+this.J.offsetLeft,b.y+b.height+4+this.J.offsetTop));this.editor.open(a)}};p.t=function(a){this.k.t(a)};p.h=function(a,b){this.m.h(a,b)};p.ga=n();p.fireEvent=function(a,b){return this.m.fireEvent(a,b)};
p.Da=function(a){a=this.P.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x,a.y));return{x:a.x,y:a.y}};p.W=aa("za");p.C=n();p.X=n();p.getItem=function(){return{src:"map://openlayers/something"}};p.l=function(a){this.k.l(a)};p.r=function(a){this.k.r(a)};p.la=function(a,b){this.m.la(a,b)};p.na=n();p.stopSelection=function(a){X(this.f,m);this.Ga&&(this.Ga(),delete this.Ga);this.za.stopSelection();a&&this.k.t(a)};
p.Qa=function(a){a=this.P.getLonLatFromPixel(new OpenLayers.Pixel(a.x,a.y));return{x:a.lon,y:a.lat}};function be(){Gc(this)}na(be,Fc);be.prototype.kb=ba("map://openlayers/something");be.prototype.Jb=function(a){return new ae(a)};be.prototype.qb=function(a){return a instanceof OpenLayers.Map};function Z(){function a(){y(b.A,function(a){a.init()});y(b.wa,function(a){a.initPlugin&&a.initPlugin(b);y(b.A,function(b){b.hb(a)})})}this.A=[new Wd];be&&this.A.push(new be);this.wa=[];var b=this;window.addEventListener?window.addEventListener("load",a,m):window.attachEvent&&window.attachEvent("onload",a)}function $(a,b){return B(a.A,function(a){return R(a,b)})}p=Z.prototype;p.R=function(a,b){var c=h,d=h;t(a)?(c=a,d=b):w(a)&&(d=a);if(c){var f=$(this,c);f&&f.R(c,d)}else y(this.A,function(a){a.R(d)})};
p.t=function(a,b){var c=$(this,a.src);c&&c.t(a,b)};p.h=function(a,b){y(this.A,function(c){c.h(a,b)})};p.hb=function(a,b){try{this.wa.push(new window.annotorious.plugin[a](b))}catch(c){console.log("Could not load plugin: "+a)}};p.W=function(a){var b=$(this,a);if(b)return b.W(a)};p.C=function(a){if(a){var b=$(this,a);return b?b.C(a):[]}var c=[];y(this.A,function(a){Aa(c,a.C())});return c};p.X=function(a){var b=$(this,a);return b?b.X(a):[]};
p.L=function(a){if(a){var b=$(this,a);b&&b.L(a)}else y(this.A,function(a){a.L()})};p.G=function(a){if(a){var b=$(this,a);b&&b.G(a)}else y(this.A,function(a){a.G()})};p.l=function(a){if(a){var b=$(this,a.src);b&&b.l(a)}else y(this.A,function(a){a.l()})};p.mb=function(a){var b=B(this.A,function(b){return b.qb(a)});if(b)b.mb(a);else throw"Error: Annotorious does not support this media type in the current version or build configuration.";};p.Zb=function(a){var b=this;y(this.C(a),function(a){b.r(a)})};
p.r=function(a){var b=$(this,a.src);b&&b.r(a)};p.ga=function(a,b){var c=$(this,a);c&&c.ga(a,b)};p.na=function(a,b){var c=$(this,a);c&&c.na(a,b)};p.ac=function(a){a?this.N(h):this.G(h)};p.aa=function(a){if(a){var b=$(this,a);b&&b.aa(a)}else y(this.A,function(a){a.aa()})};p.N=function(a){if(a){var b=$(this,a);b&&b.N(a)}else y(this.A,function(a){a.N()})};window.anno=new Z;Z.prototype.activateSelector=Z.prototype.R;Z.prototype.addAnnotation=Z.prototype.t;Z.prototype.addHandler=Z.prototype.h;
Z.prototype.addPlugin=Z.prototype.hb;Z.prototype.getActiveSelector=Z.prototype.W;Z.prototype.getAnnotations=Z.prototype.C;Z.prototype.getAvailableSelectors=Z.prototype.X;Z.prototype.hideAnnotations=Z.prototype.L;Z.prototype.hideSelectionWidget=Z.prototype.G;Z.prototype.highlightAnnotation=Z.prototype.l;Z.prototype.makeAnnotatable=Z.prototype.mb;Z.prototype.removeAll=Z.prototype.Zb;Z.prototype.removeAnnotation=Z.prototype.r;Z.prototype.setActiveSelector=Z.prototype.na;Z.prototype.showAnnotations=Z.prototype.aa;
Z.prototype.showSelectionWidget=Z.prototype.N;Z.prototype.addSelector=Z.prototype.ga;Z.prototype.setSelectionEnabled=Z.prototype.ac;window.annotorious||(window.annotorious={});window.annotorious.plugin||(window.annotorious.plugin={});
